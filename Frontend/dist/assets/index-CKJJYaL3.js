var ep=Object.defineProperty;var tp=(s,r,i)=>r in s?ep(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i;var Ae=(s,r,i)=>tp(s,typeof r!="symbol"?r+"":r,i);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();var Hl={exports:{}},Co={},Vl={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jc;function np(){if(Jc)return me;Jc=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),g=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),L=Symbol.iterator;function k(w){return w===null||typeof w!="object"?null:(w=L&&w[L]||w["@@iterator"],typeof w=="function"?w:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,x={};function O(w,b,K){this.props=w,this.context=b,this.refs=x,this.updater=K||j}O.prototype.isReactComponent={},O.prototype.setState=function(w,b){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,b,"setState")},O.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function A(){}A.prototype=O.prototype;function R(w,b,K){this.props=w,this.context=b,this.refs=x,this.updater=K||j}var z=R.prototype=new A;z.constructor=R,E(z,O.prototype),z.isPureReactComponent=!0;var V=Array.isArray,Y=Object.prototype.hasOwnProperty,ne={current:null},ue={key:!0,ref:!0,__self:!0,__source:!0};function he(w,b,K){var re,se={},Q=null,H=null;if(b!=null)for(re in b.ref!==void 0&&(H=b.ref),b.key!==void 0&&(Q=""+b.key),b)Y.call(b,re)&&!ue.hasOwnProperty(re)&&(se[re]=b[re]);var q=arguments.length-2;if(q===1)se.children=K;else if(1<q){for(var le=Array(q),te=0;te<q;te++)le[te]=arguments[te+2];se.children=le}if(w&&w.defaultProps)for(re in q=w.defaultProps,q)se[re]===void 0&&(se[re]=q[re]);return{$$typeof:s,type:w,key:Q,ref:H,props:se,_owner:ne.current}}function ke(w,b){return{$$typeof:s,type:w.type,key:b,ref:w.ref,props:w.props,_owner:w._owner}}function je(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function Oe(w){var b={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(K){return b[K]})}var ge=/\/+/g;function ye(w,b){return typeof w=="object"&&w!==null&&w.key!=null?Oe(""+w.key):b.toString(36)}function Ie(w,b,K,re,se){var Q=typeof w;(Q==="undefined"||Q==="boolean")&&(w=null);var H=!1;if(w===null)H=!0;else switch(Q){case"string":case"number":H=!0;break;case"object":switch(w.$$typeof){case s:case r:H=!0}}if(H)return H=w,se=se(H),w=re===""?"."+ye(H,0):re,V(se)?(K="",w!=null&&(K=w.replace(ge,"$&/")+"/"),Ie(se,b,K,"",function(te){return te})):se!=null&&(je(se)&&(se=ke(se,K+(!se.key||H&&H.key===se.key?"":(""+se.key).replace(ge,"$&/")+"/")+w)),b.push(se)),1;if(H=0,re=re===""?".":re+":",V(w))for(var q=0;q<w.length;q++){Q=w[q];var le=re+ye(Q,q);H+=Ie(Q,b,K,le,se)}else if(le=k(w),typeof le=="function")for(w=le.call(w),q=0;!(Q=w.next()).done;)Q=Q.value,le=re+ye(Q,q++),H+=Ie(Q,b,K,le,se);else if(Q==="object")throw b=String(w),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return H}function Te(w,b,K){if(w==null)return w;var re=[],se=0;return Ie(w,re,"","",function(Q){return b.call(K,Q,se++)}),re}function we(w){if(w._status===-1){var b=w._result;b=b(),b.then(function(K){(w._status===0||w._status===-1)&&(w._status=1,w._result=K)},function(K){(w._status===0||w._status===-1)&&(w._status=2,w._result=K)}),w._status===-1&&(w._status=0,w._result=b)}if(w._status===1)return w._result.default;throw w._result}var fe={current:null},W={transition:null},I={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:W,ReactCurrentOwner:ne};function M(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:Te,forEach:function(w,b,K){Te(w,function(){b.apply(this,arguments)},K)},count:function(w){var b=0;return Te(w,function(){b++}),b},toArray:function(w){return Te(w,function(b){return b})||[]},only:function(w){if(!je(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},me.Component=O,me.Fragment=i,me.Profiler=c,me.PureComponent=R,me.StrictMode=a,me.Suspense=m,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,me.act=M,me.cloneElement=function(w,b,K){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var re=E({},w.props),se=w.key,Q=w.ref,H=w._owner;if(b!=null){if(b.ref!==void 0&&(Q=b.ref,H=ne.current),b.key!==void 0&&(se=""+b.key),w.type&&w.type.defaultProps)var q=w.type.defaultProps;for(le in b)Y.call(b,le)&&!ue.hasOwnProperty(le)&&(re[le]=b[le]===void 0&&q!==void 0?q[le]:b[le])}var le=arguments.length-2;if(le===1)re.children=K;else if(1<le){q=Array(le);for(var te=0;te<le;te++)q[te]=arguments[te+2];re.children=q}return{$$typeof:s,type:w.type,key:se,ref:Q,props:re,_owner:H}},me.createContext=function(w){return w={$$typeof:g,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:d,_context:w},w.Consumer=w},me.createElement=he,me.createFactory=function(w){var b=he.bind(null,w);return b.type=w,b},me.createRef=function(){return{current:null}},me.forwardRef=function(w){return{$$typeof:p,render:w}},me.isValidElement=je,me.lazy=function(w){return{$$typeof:T,_payload:{_status:-1,_result:w},_init:we}},me.memo=function(w,b){return{$$typeof:y,type:w,compare:b===void 0?null:b}},me.startTransition=function(w){var b=W.transition;W.transition={};try{w()}finally{W.transition=b}},me.unstable_act=M,me.useCallback=function(w,b){return fe.current.useCallback(w,b)},me.useContext=function(w){return fe.current.useContext(w)},me.useDebugValue=function(){},me.useDeferredValue=function(w){return fe.current.useDeferredValue(w)},me.useEffect=function(w,b){return fe.current.useEffect(w,b)},me.useId=function(){return fe.current.useId()},me.useImperativeHandle=function(w,b,K){return fe.current.useImperativeHandle(w,b,K)},me.useInsertionEffect=function(w,b){return fe.current.useInsertionEffect(w,b)},me.useLayoutEffect=function(w,b){return fe.current.useLayoutEffect(w,b)},me.useMemo=function(w,b){return fe.current.useMemo(w,b)},me.useReducer=function(w,b,K){return fe.current.useReducer(w,b,K)},me.useRef=function(w){return fe.current.useRef(w)},me.useState=function(w){return fe.current.useState(w)},me.useSyncExternalStore=function(w,b,K){return fe.current.useSyncExternalStore(w,b,K)},me.useTransition=function(){return fe.current.useTransition()},me.version="18.3.1",me}var ed;function pa(){return ed||(ed=1,Vl.exports=np()),Vl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td;function rp(){if(td)return Co;td=1;var s=pa(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function g(p,m,y){var T,L={},k=null,j=null;y!==void 0&&(k=""+y),m.key!==void 0&&(k=""+m.key),m.ref!==void 0&&(j=m.ref);for(T in m)a.call(m,T)&&!d.hasOwnProperty(T)&&(L[T]=m[T]);if(p&&p.defaultProps)for(T in m=p.defaultProps,m)L[T]===void 0&&(L[T]=m[T]);return{$$typeof:r,type:p,key:k,ref:j,props:L,_owner:c.current}}return Co.Fragment=i,Co.jsx=g,Co.jsxs=g,Co}var nd;function op(){return nd||(nd=1,Hl.exports=rp()),Hl.exports}var h=op(),N=pa(),Vi={},Ql={exports:{}},ft={},Kl={exports:{}},ql={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function ip(){return rd||(rd=1,function(s){function r(W,I){var M=W.length;W.push(I);e:for(;0<M;){var w=M-1>>>1,b=W[w];if(0<c(b,I))W[w]=I,W[M]=b,M=w;else break e}}function i(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var I=W[0],M=W.pop();if(M!==I){W[0]=M;e:for(var w=0,b=W.length,K=b>>>1;w<K;){var re=2*(w+1)-1,se=W[re],Q=re+1,H=W[Q];if(0>c(se,M))Q<b&&0>c(H,se)?(W[w]=H,W[Q]=M,w=Q):(W[w]=se,W[re]=M,w=re);else if(Q<b&&0>c(H,M))W[w]=H,W[Q]=M,w=Q;else break e}}return I}function c(W,I){var M=W.sortIndex-I.sortIndex;return M!==0?M:W.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var g=Date,p=g.now();s.unstable_now=function(){return g.now()-p}}var m=[],y=[],T=1,L=null,k=3,j=!1,E=!1,x=!1,O=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(W){for(var I=i(y);I!==null;){if(I.callback===null)a(y);else if(I.startTime<=W)a(y),I.sortIndex=I.expirationTime,r(m,I);else break;I=i(y)}}function V(W){if(x=!1,z(W),!E)if(i(m)!==null)E=!0,we(Y);else{var I=i(y);I!==null&&fe(V,I.startTime-W)}}function Y(W,I){E=!1,x&&(x=!1,A(he),he=-1),j=!0;var M=k;try{for(z(I),L=i(m);L!==null&&(!(L.expirationTime>I)||W&&!Oe());){var w=L.callback;if(typeof w=="function"){L.callback=null,k=L.priorityLevel;var b=w(L.expirationTime<=I);I=s.unstable_now(),typeof b=="function"?L.callback=b:L===i(m)&&a(m),z(I)}else a(m);L=i(m)}if(L!==null)var K=!0;else{var re=i(y);re!==null&&fe(V,re.startTime-I),K=!1}return K}finally{L=null,k=M,j=!1}}var ne=!1,ue=null,he=-1,ke=5,je=-1;function Oe(){return!(s.unstable_now()-je<ke)}function ge(){if(ue!==null){var W=s.unstable_now();je=W;var I=!0;try{I=ue(!0,W)}finally{I?ye():(ne=!1,ue=null)}}else ne=!1}var ye;if(typeof R=="function")ye=function(){R(ge)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,Te=Ie.port2;Ie.port1.onmessage=ge,ye=function(){Te.postMessage(null)}}else ye=function(){O(ge,0)};function we(W){ue=W,ne||(ne=!0,ye())}function fe(W,I){he=O(function(){W(s.unstable_now())},I)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_continueExecution=function(){E||j||(E=!0,we(Y))},s.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ke=0<W?Math.floor(1e3/W):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_getFirstCallbackNode=function(){return i(m)},s.unstable_next=function(W){switch(k){case 1:case 2:case 3:var I=3;break;default:I=k}var M=k;k=I;try{return W()}finally{k=M}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(W,I){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var M=k;k=W;try{return I()}finally{k=M}},s.unstable_scheduleCallback=function(W,I,M){var w=s.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?w+M:w):M=w,W){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=M+b,W={id:T++,callback:I,priorityLevel:W,startTime:M,expirationTime:b,sortIndex:-1},M>w?(W.sortIndex=M,r(y,W),i(m)===null&&W===i(y)&&(x?(A(he),he=-1):x=!0,fe(V,M-w))):(W.sortIndex=b,r(m,W),E||j||(E=!0,we(Y))),W},s.unstable_shouldYield=Oe,s.unstable_wrapCallback=function(W){var I=k;return function(){var M=k;k=I;try{return W.apply(this,arguments)}finally{k=M}}}}(ql)),ql}var od;function sp(){return od||(od=1,Kl.exports=ip()),Kl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id;function lp(){if(id)return ft;id=1;var s=pa(),r=sp();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function d(e,t){g(e,t),g(e+"Capture",t)}function g(e,t){for(c[e]=t,e=0;e<t.length;e++)a.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},L={};function k(e){return m.call(L,e)?!0:m.call(T,e)?!1:y.test(e)?L[e]=!0:(T[e]=!0,!1)}function j(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E(e,t,n,o){if(t===null||typeof t>"u"||j(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function x(e,t,n,o,l,u,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=f}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){O[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];O[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){O[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){O[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){O[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){O[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){O[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){O[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){O[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function R(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(A,R);O[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(A,R);O[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(A,R);O[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){O[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),O.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){O[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});function z(e,t,n,o){var l=O.hasOwnProperty(t)?O[t]:null;(l!==null?l.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E(t,n,l,o)&&(n=null),o||l===null?k(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,o=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var V=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),ne=Symbol.for("react.portal"),ue=Symbol.for("react.fragment"),he=Symbol.for("react.strict_mode"),ke=Symbol.for("react.profiler"),je=Symbol.for("react.provider"),Oe=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),W=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var M=Object.assign,w;function b(e){if(w===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);w=t&&t[1]||""}return`
`+w+e}var K=!1;function re(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var o=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){o=P}e.call(t.prototype)}else{try{throw Error()}catch(P){o=P}e()}}catch(P){if(P&&o&&typeof P.stack=="string"){for(var l=P.stack.split(`
`),u=o.stack.split(`
`),f=l.length-1,v=u.length-1;1<=f&&0<=v&&l[f]!==u[v];)v--;for(;1<=f&&0<=v;f--,v--)if(l[f]!==u[v]){if(f!==1||v!==1)do if(f--,v--,0>v||l[f]!==u[v]){var S=`
`+l[f].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=f&&0<=v);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?b(e):""}function se(e){switch(e.tag){case 5:return b(e.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return e=re(e.type,!1),e;case 11:return e=re(e.type.render,!1),e;case 1:return e=re(e.type,!0),e;default:return""}}function Q(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ue:return"Fragment";case ne:return"Portal";case ke:return"Profiler";case he:return"StrictMode";case ye:return"Suspense";case Ie:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Oe:return(e.displayName||"Context")+".Consumer";case je:return(e._context.displayName||"Context")+".Provider";case ge:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Te:return t=e.displayName||null,t!==null?t:Q(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return Q(e(t))}catch{}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q(t);case 8:return t===he?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function le(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function te(e){var t=le(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(f){o=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(f){o=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ve(e){e._valueTracker||(e._valueTracker=te(e))}function Ce(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=le(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function jt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bn(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function or(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=q(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qt(e,t){t=t.checked,t!=null&&z(e,"checked",t,!1)}function Ir(e,t){Qt(e,t);var n=q(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mr(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mr(e,t.type,q(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ir(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mr(e,t,n){(t!=="number"||jt(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var nn=Array.isArray;function rn(e,t,n,o){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&o&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,o&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ln(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rr(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(nn(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function sr(e,t){var n=q(t.value),o=q(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function Pt(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function on(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ar,Io=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ar=ar||document.createElement("div"),ar.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ar.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function In(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ar=["Webkit","ms","Moz","O"];Object.keys($t).forEach(function(e){Ar.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$t[t]=$t[e]})});function Mo(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$t.hasOwnProperty(e)&&$t[e]?(""+t).trim():t+"px"}function Mn(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,l=Mo(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,l):e[n]=l}}var ur=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zr(e,t){if(t){if(ur[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Fr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $r=null;function Ur(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rn=null,sn=null,ln=null;function Ro(e){if(e=lo(e)){if(typeof Rn!="function")throw Error(i(280));var t=e.stateNode;t&&(t=si(t),Rn(e.stateNode,e.type,t))}}function Ao(e){sn?ln?ln.push(e):ln=[e]:sn=e}function cr(){if(sn){var e=sn,t=ln;if(ln=sn=null,Ro(e),t)for(e=0;e<t.length;e++)Ro(t[e])}}function zo(e,t){return e(t)}function An(){}var zn=!1;function Fo(e,t,n){if(zn)return e(t,n);zn=!0;try{return zo(e,t,n)}finally{zn=!1,(sn!==null||ln!==null)&&(An(),cr())}}function Fn(e,t){var n=e.stateNode;if(n===null)return null;var o=si(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var Br=!1;if(p)try{var $n={};Object.defineProperty($n,"passive",{get:function(){Br=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{Br=!1}function De(e,t,n,o,l,u,f,v,S){var P=Array.prototype.slice.call(arguments,3);try{t.apply(n,P)}catch($){this.onError($)}}var _e=!1,Ye=null,ze=!1,St=null,pt={onError:function(e){_e=!0,Ye=e}};function us(e,t,n,o,l,u,f,v,S){_e=!1,Ye=null,De.apply(pt,arguments)}function uf(e,t,n,o,l,u,f,v,S){if(us.apply(this,arguments),_e){if(_e){var P=Ye;_e=!1,Ye=null}else throw Error(i(198));ze||(ze=!0,St=P)}}function Un(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ka(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ca(e){if(Un(e)!==e)throw Error(i(188))}function cf(e){var t=e.alternate;if(!t){if(t=Un(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,o=t;;){var l=n.return;if(l===null)break;var u=l.alternate;if(u===null){if(o=l.return,o!==null){n=o;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===n)return Ca(l),e;if(u===o)return Ca(l),t;u=u.sibling}throw Error(i(188))}if(n.return!==o.return)n=l,o=u;else{for(var f=!1,v=l.child;v;){if(v===n){f=!0,n=l,o=u;break}if(v===o){f=!0,o=l,n=u;break}v=v.sibling}if(!f){for(v=u.child;v;){if(v===n){f=!0,n=u,o=l;break}if(v===o){f=!0,o=u,n=l;break}v=v.sibling}if(!f)throw Error(i(189))}}if(n.alternate!==o)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function Ea(e){return e=cf(e),e!==null?_a(e):null}function _a(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_a(e);if(t!==null)return t;e=e.sibling}return null}var Oa=r.unstable_scheduleCallback,Ta=r.unstable_cancelCallback,df=r.unstable_shouldYield,ff=r.unstable_requestPaint,$e=r.unstable_now,hf=r.unstable_getCurrentPriorityLevel,cs=r.unstable_ImmediatePriority,Da=r.unstable_UserBlockingPriority,$o=r.unstable_NormalPriority,pf=r.unstable_LowPriority,Na=r.unstable_IdlePriority,Uo=null,Ut=null;function gf(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Uo,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:yf,mf=Math.log,vf=Math.LN2;function yf(e){return e>>>=0,e===0?32:31-(mf(e)/vf|0)|0}var Bo=64,Wo=4194304;function Wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ho(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,l=e.suspendedLanes,u=e.pingedLanes,f=n&268435455;if(f!==0){var v=f&~l;v!==0?o=Wr(v):(u&=f,u!==0&&(o=Wr(u)))}else f=n&~l,f!==0?o=Wr(f):u!==0&&(o=Wr(u));if(o===0)return 0;if(t!==0&&t!==o&&(t&l)===0&&(l=o&-o,u=t&-t,l>=u||l===16&&(u&4194240)!==0))return t;if((o&4)!==0&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-bt(t),l=1<<n,o|=e[n],t&=~l;return o}function wf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sf(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes;0<u;){var f=31-bt(u),v=1<<f,S=l[f];S===-1?((v&n)===0||(v&o)!==0)&&(l[f]=wf(v,t)):S<=t&&(e.expiredLanes|=v),u&=~v}}function ds(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ja(){var e=Bo;return Bo<<=1,(Bo&4194240)===0&&(Bo=64),e}function fs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bt(t),e[t]=n}function xf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-bt(n),u=1<<l;t[l]=0,o[l]=-1,e[l]=-1,n&=~u}}function hs(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-bt(n),l=1<<o;l&t|e[o]&t&&(e[o]|=t),n&=~l}}var Ee=0;function Pa(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ba,ps,La,Ia,Ma,gs=!1,Vo=[],an=null,un=null,cn=null,Vr=new Map,Qr=new Map,dn=[],kf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ra(e,t){switch(e){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":Vr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qr.delete(t.pointerId)}}function Kr(e,t,n,o,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:u,targetContainers:[l]},t!==null&&(t=lo(t),t!==null&&ps(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Cf(e,t,n,o,l){switch(t){case"focusin":return an=Kr(an,e,t,n,o,l),!0;case"dragenter":return un=Kr(un,e,t,n,o,l),!0;case"mouseover":return cn=Kr(cn,e,t,n,o,l),!0;case"pointerover":var u=l.pointerId;return Vr.set(u,Kr(Vr.get(u)||null,e,t,n,o,l)),!0;case"gotpointercapture":return u=l.pointerId,Qr.set(u,Kr(Qr.get(u)||null,e,t,n,o,l)),!0}return!1}function Aa(e){var t=Bn(e.target);if(t!==null){var n=Un(t);if(n!==null){if(t=n.tag,t===13){if(t=ka(n),t!==null){e.blockedOn=t,Ma(e.priority,function(){La(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vs(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);$r=o,n.target.dispatchEvent(o),$r=null}else return t=lo(n),t!==null&&ps(t),e.blockedOn=n,!1;t.shift()}return!0}function za(e,t,n){Qo(e)&&n.delete(t)}function Ef(){gs=!1,an!==null&&Qo(an)&&(an=null),un!==null&&Qo(un)&&(un=null),cn!==null&&Qo(cn)&&(cn=null),Vr.forEach(za),Qr.forEach(za)}function qr(e,t){e.blockedOn===t&&(e.blockedOn=null,gs||(gs=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ef)))}function Gr(e){function t(l){return qr(l,e)}if(0<Vo.length){qr(Vo[0],e);for(var n=1;n<Vo.length;n++){var o=Vo[n];o.blockedOn===e&&(o.blockedOn=null)}}for(an!==null&&qr(an,e),un!==null&&qr(un,e),cn!==null&&qr(cn,e),Vr.forEach(t),Qr.forEach(t),n=0;n<dn.length;n++)o=dn[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<dn.length&&(n=dn[0],n.blockedOn===null);)Aa(n),n.blockedOn===null&&dn.shift()}var dr=V.ReactCurrentBatchConfig,Ko=!0;function _f(e,t,n,o){var l=Ee,u=dr.transition;dr.transition=null;try{Ee=1,ms(e,t,n,o)}finally{Ee=l,dr.transition=u}}function Of(e,t,n,o){var l=Ee,u=dr.transition;dr.transition=null;try{Ee=4,ms(e,t,n,o)}finally{Ee=l,dr.transition=u}}function ms(e,t,n,o){if(Ko){var l=vs(e,t,n,o);if(l===null)Is(e,t,o,qo,n),Ra(e,o);else if(Cf(l,e,t,n,o))o.stopPropagation();else if(Ra(e,o),t&4&&-1<kf.indexOf(e)){for(;l!==null;){var u=lo(l);if(u!==null&&ba(u),u=vs(e,t,n,o),u===null&&Is(e,t,o,qo,n),u===l)break;l=u}l!==null&&o.stopPropagation()}else Is(e,t,o,null,n)}}var qo=null;function vs(e,t,n,o){if(qo=null,e=Ur(o),e=Bn(e),e!==null)if(t=Un(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ka(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qo=e,null}function Fa(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hf()){case cs:return 1;case Da:return 4;case $o:case pf:return 16;case Na:return 536870912;default:return 16}default:return 16}}var fn=null,ys=null,Go=null;function $a(){if(Go)return Go;var e,t=ys,n=t.length,o,l="value"in fn?fn.value:fn.textContent,u=l.length;for(e=0;e<n&&t[e]===l[e];e++);var f=n-e;for(o=1;o<=f&&t[n-o]===l[u-o];o++);return Go=l.slice(e,1<o?1-o:void 0)}function Yo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xo(){return!0}function Ua(){return!1}function gt(e){function t(n,o,l,u,f){this._reactName=n,this._targetInst=l,this.type=o,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Xo:Ua,this.isPropagationStopped=Ua,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),t}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=gt(fr),Yr=M({},fr,{view:0,detail:0}),Tf=gt(Yr),Ss,xs,Xr,Zo=M({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xr&&(Xr&&e.type==="mousemove"?(Ss=e.screenX-Xr.screenX,xs=e.screenY-Xr.screenY):xs=Ss=0,Xr=e),Ss)},movementY:function(e){return"movementY"in e?e.movementY:xs}}),Ba=gt(Zo),Df=M({},Zo,{dataTransfer:0}),Nf=gt(Df),jf=M({},Yr,{relatedTarget:0}),ks=gt(jf),Pf=M({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),bf=gt(Pf),Lf=M({},fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),If=gt(Lf),Mf=M({},fr,{data:0}),Wa=gt(Mf),Rf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ff(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zf[e])?!!t[e]:!1}function Cs(){return Ff}var $f=M({},Yr,{key:function(e){if(e.key){var t=Rf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Af[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?Yo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uf=gt($f),Bf=M({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ha=gt(Bf),Wf=M({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),Hf=gt(Wf),Vf=M({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qf=gt(Vf),Kf=M({},Zo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qf=gt(Kf),Gf=[9,13,27,32],Es=p&&"CompositionEvent"in window,Zr=null;p&&"documentMode"in document&&(Zr=document.documentMode);var Yf=p&&"TextEvent"in window&&!Zr,Va=p&&(!Es||Zr&&8<Zr&&11>=Zr),Qa=" ",Ka=!1;function qa(e,t){switch(e){case"keyup":return Gf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hr=!1;function Xf(e,t){switch(e){case"compositionend":return Ga(t);case"keypress":return t.which!==32?null:(Ka=!0,Qa);case"textInput":return e=t.data,e===Qa&&Ka?null:e;default:return null}}function Zf(e,t){if(hr)return e==="compositionend"||!Es&&qa(e,t)?(e=$a(),Go=ys=fn=null,hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Va&&t.locale!=="ko"?null:t.data;default:return null}}var Jf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ya(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Jf[e.type]:t==="textarea"}function Xa(e,t,n,o){Ao(o),t=ri(t,"onChange"),0<t.length&&(n=new ws("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Jr=null,eo=null;function eh(e){gu(e,0)}function Jo(e){var t=yr(e);if(Ce(t))return e}function th(e,t){if(e==="change")return t}var Za=!1;if(p){var _s;if(p){var Os="oninput"in document;if(!Os){var Ja=document.createElement("div");Ja.setAttribute("oninput","return;"),Os=typeof Ja.oninput=="function"}_s=Os}else _s=!1;Za=_s&&(!document.documentMode||9<document.documentMode)}function eu(){Jr&&(Jr.detachEvent("onpropertychange",tu),eo=Jr=null)}function tu(e){if(e.propertyName==="value"&&Jo(eo)){var t=[];Xa(t,eo,e,Ur(e)),Fo(eh,t)}}function nh(e,t,n){e==="focusin"?(eu(),Jr=t,eo=n,Jr.attachEvent("onpropertychange",tu)):e==="focusout"&&eu()}function rh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jo(eo)}function oh(e,t){if(e==="click")return Jo(t)}function ih(e,t){if(e==="input"||e==="change")return Jo(t)}function sh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:sh;function to(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var l=n[o];if(!m.call(t,l)||!Lt(e[l],t[l]))return!1}return!0}function nu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ru(e,t){var n=nu(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nu(n)}}function ou(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ou(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iu(){for(var e=window,t=jt();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=jt(e.document)}return t}function Ts(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lh(e){var t=iu(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ou(n.ownerDocument.documentElement,n)){if(o!==null&&Ts(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,u=Math.min(o.start,l);o=o.end===void 0?u:Math.min(o.end,l),!e.extend&&u>o&&(l=o,o=u,u=l),l=ru(n,u);var f=ru(n,o);l&&f&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),u>o?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ah=p&&"documentMode"in document&&11>=document.documentMode,pr=null,Ds=null,no=null,Ns=!1;function su(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ns||pr==null||pr!==jt(o)||(o=pr,"selectionStart"in o&&Ts(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),no&&to(no,o)||(no=o,o=ri(Ds,"onSelect"),0<o.length&&(t=new ws("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=pr)))}function ei(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gr={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionend:ei("Transition","TransitionEnd")},js={},lu={};p&&(lu=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function ti(e){if(js[e])return js[e];if(!gr[e])return e;var t=gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in lu)return js[e]=t[n];return e}var au=ti("animationend"),uu=ti("animationiteration"),cu=ti("animationstart"),du=ti("transitionend"),fu=new Map,hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,t){fu.set(e,t),d(t,[e])}for(var Ps=0;Ps<hu.length;Ps++){var bs=hu[Ps],uh=bs.toLowerCase(),ch=bs[0].toUpperCase()+bs.slice(1);hn(uh,"on"+ch)}hn(au,"onAnimationEnd"),hn(uu,"onAnimationIteration"),hn(cu,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(du,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dh=new Set("cancel close invalid load scroll toggle".split(" ").concat(ro));function pu(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,uf(o,t,void 0,e),e.currentTarget=null}function gu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],l=o.event;o=o.listeners;e:{var u=void 0;if(t)for(var f=o.length-1;0<=f;f--){var v=o[f],S=v.instance,P=v.currentTarget;if(v=v.listener,S!==u&&l.isPropagationStopped())break e;pu(l,v,P),u=S}else for(f=0;f<o.length;f++){if(v=o[f],S=v.instance,P=v.currentTarget,v=v.listener,S!==u&&l.isPropagationStopped())break e;pu(l,v,P),u=S}}}if(ze)throw e=St,ze=!1,St=null,e}function Pe(e,t){var n=t[$s];n===void 0&&(n=t[$s]=new Set);var o=e+"__bubble";n.has(o)||(mu(t,e,2,!1),n.add(o))}function Ls(e,t,n){var o=0;t&&(o|=4),mu(n,e,o,t)}var ni="_reactListening"+Math.random().toString(36).slice(2);function oo(e){if(!e[ni]){e[ni]=!0,a.forEach(function(n){n!=="selectionchange"&&(dh.has(n)||Ls(n,!1,e),Ls(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ni]||(t[ni]=!0,Ls("selectionchange",!1,t))}}function mu(e,t,n,o){switch(Fa(t)){case 1:var l=_f;break;case 4:l=Of;break;default:l=ms}n=l.bind(null,t,n,e),l=void 0,!Br||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),o?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Is(e,t,n,o,l){var u=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var f=o.tag;if(f===3||f===4){var v=o.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(f===4)for(f=o.return;f!==null;){var S=f.tag;if((S===3||S===4)&&(S=f.stateNode.containerInfo,S===l||S.nodeType===8&&S.parentNode===l))return;f=f.return}for(;v!==null;){if(f=Bn(v),f===null)return;if(S=f.tag,S===5||S===6){o=u=f;continue e}v=v.parentNode}}o=o.return}Fo(function(){var P=u,$=Ur(n),U=[];e:{var F=fu.get(e);if(F!==void 0){var G=ws,Z=e;switch(e){case"keypress":if(Yo(n)===0)break e;case"keydown":case"keyup":G=Uf;break;case"focusin":Z="focus",G=ks;break;case"focusout":Z="blur",G=ks;break;case"beforeblur":case"afterblur":G=ks;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Hf;break;case au:case uu:case cu:G=bf;break;case du:G=Qf;break;case"scroll":G=Tf;break;case"wheel":G=qf;break;case"copy":case"cut":case"paste":G=If;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ha}var J=(t&4)!==0,Ue=!J&&e==="scroll",_=J?F!==null?F+"Capture":null:F;J=[];for(var C=P,D;C!==null;){D=C;var B=D.stateNode;if(D.tag===5&&B!==null&&(D=B,_!==null&&(B=Fn(C,_),B!=null&&J.push(io(C,B,D)))),Ue)break;C=C.return}0<J.length&&(F=new G(F,Z,null,n,$),U.push({event:F,listeners:J}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",F&&n!==$r&&(Z=n.relatedTarget||n.fromElement)&&(Bn(Z)||Z[Kt]))break e;if((G||F)&&(F=$.window===$?$:(F=$.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Z=n.relatedTarget||n.toElement,G=P,Z=Z?Bn(Z):null,Z!==null&&(Ue=Un(Z),Z!==Ue||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(G=null,Z=P),G!==Z)){if(J=Ba,B="onMouseLeave",_="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(J=Ha,B="onPointerLeave",_="onPointerEnter",C="pointer"),Ue=G==null?F:yr(G),D=Z==null?F:yr(Z),F=new J(B,C+"leave",G,n,$),F.target=Ue,F.relatedTarget=D,B=null,Bn($)===P&&(J=new J(_,C+"enter",Z,n,$),J.target=D,J.relatedTarget=Ue,B=J),Ue=B,G&&Z)t:{for(J=G,_=Z,C=0,D=J;D;D=mr(D))C++;for(D=0,B=_;B;B=mr(B))D++;for(;0<C-D;)J=mr(J),C--;for(;0<D-C;)_=mr(_),D--;for(;C--;){if(J===_||_!==null&&J===_.alternate)break t;J=mr(J),_=mr(_)}J=null}else J=null;G!==null&&vu(U,F,G,J,!1),Z!==null&&Ue!==null&&vu(U,Ue,Z,J,!0)}}e:{if(F=P?yr(P):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var ee=th;else if(Ya(F))if(Za)ee=ih;else{ee=rh;var oe=nh}else(G=F.nodeName)&&G.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(ee=oh);if(ee&&(ee=ee(e,P))){Xa(U,ee,n,$);break e}oe&&oe(e,F,P),e==="focusout"&&(oe=F._wrapperState)&&oe.controlled&&F.type==="number"&&Mr(F,"number",F.value)}switch(oe=P?yr(P):window,e){case"focusin":(Ya(oe)||oe.contentEditable==="true")&&(pr=oe,Ds=P,no=null);break;case"focusout":no=Ds=pr=null;break;case"mousedown":Ns=!0;break;case"contextmenu":case"mouseup":case"dragend":Ns=!1,su(U,n,$);break;case"selectionchange":if(ah)break;case"keydown":case"keyup":su(U,n,$)}var ie;if(Es)e:{switch(e){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else hr?qa(e,n)&&(ae="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ae="onCompositionStart");ae&&(Va&&n.locale!=="ko"&&(hr||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&hr&&(ie=$a()):(fn=$,ys="value"in fn?fn.value:fn.textContent,hr=!0)),oe=ri(P,ae),0<oe.length&&(ae=new Wa(ae,e,null,n,$),U.push({event:ae,listeners:oe}),ie?ae.data=ie:(ie=Ga(n),ie!==null&&(ae.data=ie)))),(ie=Yf?Xf(e,n):Zf(e,n))&&(P=ri(P,"onBeforeInput"),0<P.length&&($=new Wa("onBeforeInput","beforeinput",null,n,$),U.push({event:$,listeners:P}),$.data=ie))}gu(U,t)})}function io(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ri(e,t){for(var n=t+"Capture",o=[];e!==null;){var l=e,u=l.stateNode;l.tag===5&&u!==null&&(l=u,u=Fn(e,n),u!=null&&o.unshift(io(e,u,l)),u=Fn(e,t),u!=null&&o.push(io(e,u,l))),e=e.return}return o}function mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vu(e,t,n,o,l){for(var u=t._reactName,f=[];n!==null&&n!==o;){var v=n,S=v.alternate,P=v.stateNode;if(S!==null&&S===o)break;v.tag===5&&P!==null&&(v=P,l?(S=Fn(n,u),S!=null&&f.unshift(io(n,S,v))):l||(S=Fn(n,u),S!=null&&f.push(io(n,S,v)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var fh=/\r\n?/g,hh=/\u0000|\uFFFD/g;function yu(e){return(typeof e=="string"?e:""+e).replace(fh,`
`).replace(hh,"")}function oi(e,t,n){if(t=yu(t),yu(e)!==t&&n)throw Error(i(425))}function ii(){}var Ms=null,Rs=null;function As(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zs=typeof setTimeout=="function"?setTimeout:void 0,ph=typeof clearTimeout=="function"?clearTimeout:void 0,wu=typeof Promise=="function"?Promise:void 0,gh=typeof queueMicrotask=="function"?queueMicrotask:typeof wu<"u"?function(e){return wu.resolve(null).then(e).catch(mh)}:zs;function mh(e){setTimeout(function(){throw e})}function Fs(e,t){var n=t,o=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(o===0){e.removeChild(l),Gr(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=l}while(n);Gr(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Su(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+vr,so="__reactProps$"+vr,Kt="__reactContainer$"+vr,$s="__reactEvents$"+vr,vh="__reactListeners$"+vr,yh="__reactHandles$"+vr;function Bn(e){var t=e[Bt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kt]||n[Bt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Su(e);e!==null;){if(n=e[Bt])return n;e=Su(e)}return t}e=n,n=e.parentNode}return null}function lo(e){return e=e[Bt]||e[Kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function si(e){return e[so]||null}var Us=[],wr=-1;function gn(e){return{current:e}}function be(e){0>wr||(e.current=Us[wr],Us[wr]=null,wr--)}function Ne(e,t){wr++,Us[wr]=e.current,e.current=t}var mn={},Je=gn(mn),lt=gn(!1),Wn=mn;function Sr(e,t){var n=e.type.contextTypes;if(!n)return mn;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var l={},u;for(u in n)l[u]=t[u];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function at(e){return e=e.childContextTypes,e!=null}function li(){be(lt),be(Je)}function xu(e,t,n){if(Je.current!==mn)throw Error(i(168));Ne(Je,t),Ne(lt,n)}function ku(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var l in o)if(!(l in t))throw Error(i(108,H(e)||"Unknown",l));return M({},n,o)}function ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mn,Wn=Je.current,Ne(Je,e),Ne(lt,lt.current),!0}function Cu(e,t,n){var o=e.stateNode;if(!o)throw Error(i(169));n?(e=ku(e,t,Wn),o.__reactInternalMemoizedMergedChildContext=e,be(lt),be(Je),Ne(Je,e)):be(lt),Ne(lt,n)}var qt=null,ui=!1,Bs=!1;function Eu(e){qt===null?qt=[e]:qt.push(e)}function wh(e){ui=!0,Eu(e)}function vn(){if(!Bs&&qt!==null){Bs=!0;var e=0,t=Ee;try{var n=qt;for(Ee=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}qt=null,ui=!1}catch(l){throw qt!==null&&(qt=qt.slice(e+1)),Oa(cs,vn),l}finally{Ee=t,Bs=!1}}return null}var xr=[],kr=0,ci=null,di=0,xt=[],kt=0,Hn=null,Gt=1,Yt="";function Vn(e,t){xr[kr++]=di,xr[kr++]=ci,ci=e,di=t}function _u(e,t,n){xt[kt++]=Gt,xt[kt++]=Yt,xt[kt++]=Hn,Hn=e;var o=Gt;e=Yt;var l=32-bt(o)-1;o&=~(1<<l),n+=1;var u=32-bt(t)+l;if(30<u){var f=l-l%5;u=(o&(1<<f)-1).toString(32),o>>=f,l-=f,Gt=1<<32-bt(t)+l|n<<l|o,Yt=u+e}else Gt=1<<u|n<<l|o,Yt=e}function Ws(e){e.return!==null&&(Vn(e,1),_u(e,1,0))}function Hs(e){for(;e===ci;)ci=xr[--kr],xr[kr]=null,di=xr[--kr],xr[kr]=null;for(;e===Hn;)Hn=xt[--kt],xt[kt]=null,Yt=xt[--kt],xt[kt]=null,Gt=xt[--kt],xt[kt]=null}var mt=null,vt=null,Le=!1,It=null;function Ou(e,t){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,vt=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Hn!==null?{id:Gt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,vt=null,!0):!1;default:return!1}}function Vs(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qs(e){if(Le){var t=vt;if(t){var n=t;if(!Tu(e,t)){if(Vs(e))throw Error(i(418));t=pn(n.nextSibling);var o=mt;t&&Tu(e,t)?Ou(o,n):(e.flags=e.flags&-4097|2,Le=!1,mt=e)}}else{if(Vs(e))throw Error(i(418));e.flags=e.flags&-4097|2,Le=!1,mt=e}}}function Du(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function fi(e){if(e!==mt)return!1;if(!Le)return Du(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!As(e.type,e.memoizedProps)),t&&(t=vt)){if(Vs(e))throw Nu(),Error(i(418));for(;t;)Ou(e,t),t=pn(t.nextSibling)}if(Du(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){vt=pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=mt?pn(e.stateNode.nextSibling):null;return!0}function Nu(){for(var e=vt;e;)e=pn(e.nextSibling)}function Cr(){vt=mt=null,Le=!1}function Ks(e){It===null?It=[e]:It.push(e)}var Sh=V.ReactCurrentBatchConfig;function ao(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var o=n.stateNode}if(!o)throw Error(i(147,e));var l=o,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(f){var v=l.refs;f===null?delete v[u]:v[u]=f},t._stringRef=u,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function hi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ju(e){var t=e._init;return t(e._payload)}function Pu(e){function t(_,C){if(e){var D=_.deletions;D===null?(_.deletions=[C],_.flags|=16):D.push(C)}}function n(_,C){if(!e)return null;for(;C!==null;)t(_,C),C=C.sibling;return null}function o(_,C){for(_=new Map;C!==null;)C.key!==null?_.set(C.key,C):_.set(C.index,C),C=C.sibling;return _}function l(_,C){return _=_n(_,C),_.index=0,_.sibling=null,_}function u(_,C,D){return _.index=D,e?(D=_.alternate,D!==null?(D=D.index,D<C?(_.flags|=2,C):D):(_.flags|=2,C)):(_.flags|=1048576,C)}function f(_){return e&&_.alternate===null&&(_.flags|=2),_}function v(_,C,D,B){return C===null||C.tag!==6?(C=zl(D,_.mode,B),C.return=_,C):(C=l(C,D),C.return=_,C)}function S(_,C,D,B){var ee=D.type;return ee===ue?$(_,C,D.props.children,B,D.key):C!==null&&(C.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===we&&ju(ee)===C.type)?(B=l(C,D.props),B.ref=ao(_,C,D),B.return=_,B):(B=Ai(D.type,D.key,D.props,null,_.mode,B),B.ref=ao(_,C,D),B.return=_,B)}function P(_,C,D,B){return C===null||C.tag!==4||C.stateNode.containerInfo!==D.containerInfo||C.stateNode.implementation!==D.implementation?(C=Fl(D,_.mode,B),C.return=_,C):(C=l(C,D.children||[]),C.return=_,C)}function $(_,C,D,B,ee){return C===null||C.tag!==7?(C=Jn(D,_.mode,B,ee),C.return=_,C):(C=l(C,D),C.return=_,C)}function U(_,C,D){if(typeof C=="string"&&C!==""||typeof C=="number")return C=zl(""+C,_.mode,D),C.return=_,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Y:return D=Ai(C.type,C.key,C.props,null,_.mode,D),D.ref=ao(_,null,C),D.return=_,D;case ne:return C=Fl(C,_.mode,D),C.return=_,C;case we:var B=C._init;return U(_,B(C._payload),D)}if(nn(C)||I(C))return C=Jn(C,_.mode,D,null),C.return=_,C;hi(_,C)}return null}function F(_,C,D,B){var ee=C!==null?C.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return ee!==null?null:v(_,C,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Y:return D.key===ee?S(_,C,D,B):null;case ne:return D.key===ee?P(_,C,D,B):null;case we:return ee=D._init,F(_,C,ee(D._payload),B)}if(nn(D)||I(D))return ee!==null?null:$(_,C,D,B,null);hi(_,D)}return null}function G(_,C,D,B,ee){if(typeof B=="string"&&B!==""||typeof B=="number")return _=_.get(D)||null,v(C,_,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Y:return _=_.get(B.key===null?D:B.key)||null,S(C,_,B,ee);case ne:return _=_.get(B.key===null?D:B.key)||null,P(C,_,B,ee);case we:var oe=B._init;return G(_,C,D,oe(B._payload),ee)}if(nn(B)||I(B))return _=_.get(D)||null,$(C,_,B,ee,null);hi(C,B)}return null}function Z(_,C,D,B){for(var ee=null,oe=null,ie=C,ae=C=0,qe=null;ie!==null&&ae<D.length;ae++){ie.index>ae?(qe=ie,ie=null):qe=ie.sibling;var xe=F(_,ie,D[ae],B);if(xe===null){ie===null&&(ie=qe);break}e&&ie&&xe.alternate===null&&t(_,ie),C=u(xe,C,ae),oe===null?ee=xe:oe.sibling=xe,oe=xe,ie=qe}if(ae===D.length)return n(_,ie),Le&&Vn(_,ae),ee;if(ie===null){for(;ae<D.length;ae++)ie=U(_,D[ae],B),ie!==null&&(C=u(ie,C,ae),oe===null?ee=ie:oe.sibling=ie,oe=ie);return Le&&Vn(_,ae),ee}for(ie=o(_,ie);ae<D.length;ae++)qe=G(ie,_,ae,D[ae],B),qe!==null&&(e&&qe.alternate!==null&&ie.delete(qe.key===null?ae:qe.key),C=u(qe,C,ae),oe===null?ee=qe:oe.sibling=qe,oe=qe);return e&&ie.forEach(function(On){return t(_,On)}),Le&&Vn(_,ae),ee}function J(_,C,D,B){var ee=I(D);if(typeof ee!="function")throw Error(i(150));if(D=ee.call(D),D==null)throw Error(i(151));for(var oe=ee=null,ie=C,ae=C=0,qe=null,xe=D.next();ie!==null&&!xe.done;ae++,xe=D.next()){ie.index>ae?(qe=ie,ie=null):qe=ie.sibling;var On=F(_,ie,xe.value,B);if(On===null){ie===null&&(ie=qe);break}e&&ie&&On.alternate===null&&t(_,ie),C=u(On,C,ae),oe===null?ee=On:oe.sibling=On,oe=On,ie=qe}if(xe.done)return n(_,ie),Le&&Vn(_,ae),ee;if(ie===null){for(;!xe.done;ae++,xe=D.next())xe=U(_,xe.value,B),xe!==null&&(C=u(xe,C,ae),oe===null?ee=xe:oe.sibling=xe,oe=xe);return Le&&Vn(_,ae),ee}for(ie=o(_,ie);!xe.done;ae++,xe=D.next())xe=G(ie,_,ae,xe.value,B),xe!==null&&(e&&xe.alternate!==null&&ie.delete(xe.key===null?ae:xe.key),C=u(xe,C,ae),oe===null?ee=xe:oe.sibling=xe,oe=xe);return e&&ie.forEach(function(Jh){return t(_,Jh)}),Le&&Vn(_,ae),ee}function Ue(_,C,D,B){if(typeof D=="object"&&D!==null&&D.type===ue&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case Y:e:{for(var ee=D.key,oe=C;oe!==null;){if(oe.key===ee){if(ee=D.type,ee===ue){if(oe.tag===7){n(_,oe.sibling),C=l(oe,D.props.children),C.return=_,_=C;break e}}else if(oe.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===we&&ju(ee)===oe.type){n(_,oe.sibling),C=l(oe,D.props),C.ref=ao(_,oe,D),C.return=_,_=C;break e}n(_,oe);break}else t(_,oe);oe=oe.sibling}D.type===ue?(C=Jn(D.props.children,_.mode,B,D.key),C.return=_,_=C):(B=Ai(D.type,D.key,D.props,null,_.mode,B),B.ref=ao(_,C,D),B.return=_,_=B)}return f(_);case ne:e:{for(oe=D.key;C!==null;){if(C.key===oe)if(C.tag===4&&C.stateNode.containerInfo===D.containerInfo&&C.stateNode.implementation===D.implementation){n(_,C.sibling),C=l(C,D.children||[]),C.return=_,_=C;break e}else{n(_,C);break}else t(_,C);C=C.sibling}C=Fl(D,_.mode,B),C.return=_,_=C}return f(_);case we:return oe=D._init,Ue(_,C,oe(D._payload),B)}if(nn(D))return Z(_,C,D,B);if(I(D))return J(_,C,D,B);hi(_,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,C!==null&&C.tag===6?(n(_,C.sibling),C=l(C,D),C.return=_,_=C):(n(_,C),C=zl(D,_.mode,B),C.return=_,_=C),f(_)):n(_,C)}return Ue}var Er=Pu(!0),bu=Pu(!1),pi=gn(null),gi=null,_r=null,qs=null;function Gs(){qs=_r=gi=null}function Ys(e){var t=pi.current;be(pi),e._currentValue=t}function Xs(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Or(e,t){gi=e,qs=_r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ut=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(qs!==e)if(e={context:e,memoizedValue:t,next:null},_r===null){if(gi===null)throw Error(i(308));_r=e,gi.dependencies={lanes:0,firstContext:e}}else _r=_r.next=e;return t}var Qn=null;function Zs(e){Qn===null?Qn=[e]:Qn.push(e)}function Lu(e,t,n,o){var l=t.interleaved;return l===null?(n.next=n,Zs(t)):(n.next=l.next,l.next=n),t.interleaved=n,Xt(e,o)}function Xt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yn=!1;function Js(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Iu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Se&2)!==0){var l=o.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),o.pending=t,Xt(e,n)}return l=o.interleaved,l===null?(t.next=t,Zs(o)):(t.next=l.next,l.next=t),o.interleaved=t,Xt(e,n)}function mi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,hs(e,n)}}function Mu(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var l=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?l=u=f:u=u.next=f,n=n.next}while(n!==null);u===null?l=u=t:u=u.next=t}else l=u=t;n={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vi(e,t,n,o){var l=e.updateQueue;yn=!1;var u=l.firstBaseUpdate,f=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var S=v,P=S.next;S.next=null,f===null?u=P:f.next=P,f=S;var $=e.alternate;$!==null&&($=$.updateQueue,v=$.lastBaseUpdate,v!==f&&(v===null?$.firstBaseUpdate=P:v.next=P,$.lastBaseUpdate=S))}if(u!==null){var U=l.baseState;f=0,$=P=S=null,v=u;do{var F=v.lane,G=v.eventTime;if((o&F)===F){$!==null&&($=$.next={eventTime:G,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var Z=e,J=v;switch(F=t,G=n,J.tag){case 1:if(Z=J.payload,typeof Z=="function"){U=Z.call(G,U,F);break e}U=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=J.payload,F=typeof Z=="function"?Z.call(G,U,F):Z,F==null)break e;U=M({},U,F);break e;case 2:yn=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,F=l.effects,F===null?l.effects=[v]:F.push(v))}else G={eventTime:G,lane:F,tag:v.tag,payload:v.payload,callback:v.callback,next:null},$===null?(P=$=G,S=U):$=$.next=G,f|=F;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;F=v,v=F.next,F.next=null,l.lastBaseUpdate=F,l.shared.pending=null}}while(!0);if($===null&&(S=U),l.baseState=S,l.firstBaseUpdate=P,l.lastBaseUpdate=$,t=l.shared.interleaved,t!==null){l=t;do f|=l.lane,l=l.next;while(l!==t)}else u===null&&(l.shared.lanes=0);Gn|=f,e.lanes=f,e.memoizedState=U}}function Ru(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],l=o.callback;if(l!==null){if(o.callback=null,o=n,typeof l!="function")throw Error(i(191,l));l.call(o)}}}var uo={},Wt=gn(uo),co=gn(uo),fo=gn(uo);function Kn(e){if(e===uo)throw Error(i(174));return e}function el(e,t){switch(Ne(fo,t),Ne(co,e),Ne(Wt,uo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:on(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=on(t,e)}be(Wt),Ne(Wt,t)}function Tr(){be(Wt),be(co),be(fo)}function Au(e){Kn(fo.current);var t=Kn(Wt.current),n=on(t,e.type);t!==n&&(Ne(co,e),Ne(Wt,n))}function tl(e){co.current===e&&(be(Wt),be(co))}var Me=gn(0);function yi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nl=[];function rl(){for(var e=0;e<nl.length;e++)nl[e]._workInProgressVersionPrimary=null;nl.length=0}var wi=V.ReactCurrentDispatcher,ol=V.ReactCurrentBatchConfig,qn=0,Re=null,We=null,Qe=null,Si=!1,ho=!1,po=0,xh=0;function et(){throw Error(i(321))}function il(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lt(e[n],t[n]))return!1;return!0}function sl(e,t,n,o,l,u){if(qn=u,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wi.current=e===null||e.memoizedState===null?_h:Oh,e=n(o,l),ho){u=0;do{if(ho=!1,po=0,25<=u)throw Error(i(301));u+=1,Qe=We=null,t.updateQueue=null,wi.current=Th,e=n(o,l)}while(ho)}if(wi.current=Ci,t=We!==null&&We.next!==null,qn=0,Qe=We=Re=null,Si=!1,t)throw Error(i(300));return e}function ll(){var e=po!==0;return po=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Re.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Et(){if(We===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Qe===null?Re.memoizedState:Qe.next;if(t!==null)Qe=t,We=e;else{if(e===null)throw Error(i(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Qe===null?Re.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function go(e,t){return typeof t=="function"?t(e):t}function al(e){var t=Et(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var o=We,l=o.baseQueue,u=n.pending;if(u!==null){if(l!==null){var f=l.next;l.next=u.next,u.next=f}o.baseQueue=l=u,n.pending=null}if(l!==null){u=l.next,o=o.baseState;var v=f=null,S=null,P=u;do{var $=P.lane;if((qn&$)===$)S!==null&&(S=S.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),o=P.hasEagerState?P.eagerState:e(o,P.action);else{var U={lane:$,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};S===null?(v=S=U,f=o):S=S.next=U,Re.lanes|=$,Gn|=$}P=P.next}while(P!==null&&P!==u);S===null?f=o:S.next=v,Lt(o,t.memoizedState)||(ut=!0),t.memoizedState=o,t.baseState=f,t.baseQueue=S,n.lastRenderedState=o}if(e=n.interleaved,e!==null){l=e;do u=l.lane,Re.lanes|=u,Gn|=u,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ul(e){var t=Et(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var o=n.dispatch,l=n.pending,u=t.memoizedState;if(l!==null){n.pending=null;var f=l=l.next;do u=e(u,f.action),f=f.next;while(f!==l);Lt(u,t.memoizedState)||(ut=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,o]}function zu(){}function Fu(e,t){var n=Re,o=Et(),l=t(),u=!Lt(o.memoizedState,l);if(u&&(o.memoizedState=l,ut=!0),o=o.queue,cl(Bu.bind(null,n,o,e),[e]),o.getSnapshot!==t||u||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,mo(9,Uu.bind(null,n,o,l,t),void 0,null),Ke===null)throw Error(i(349));(qn&30)!==0||$u(n,t,l)}return l}function $u(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uu(e,t,n,o){t.value=n,t.getSnapshot=o,Wu(t)&&Hu(e)}function Bu(e,t,n){return n(function(){Wu(t)&&Hu(e)})}function Wu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lt(e,n)}catch{return!0}}function Hu(e){var t=Xt(e,1);t!==null&&zt(t,e,1,-1)}function Vu(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:e},t.queue=e,e=e.dispatch=Eh.bind(null,Re,e),[t.memoizedState,e]}function mo(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function Qu(){return Et().memoizedState}function xi(e,t,n,o){var l=Ht();Re.flags|=e,l.memoizedState=mo(1|t,n,void 0,o===void 0?null:o)}function ki(e,t,n,o){var l=Et();o=o===void 0?null:o;var u=void 0;if(We!==null){var f=We.memoizedState;if(u=f.destroy,o!==null&&il(o,f.deps)){l.memoizedState=mo(t,n,u,o);return}}Re.flags|=e,l.memoizedState=mo(1|t,n,u,o)}function Ku(e,t){return xi(8390656,8,e,t)}function cl(e,t){return ki(2048,8,e,t)}function qu(e,t){return ki(4,2,e,t)}function Gu(e,t){return ki(4,4,e,t)}function Yu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xu(e,t,n){return n=n!=null?n.concat([e]):null,ki(4,4,Yu.bind(null,t,e),n)}function dl(){}function Zu(e,t){var n=Et();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&il(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Ju(e,t){var n=Et();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&il(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function ec(e,t,n){return(qn&21)===0?(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=n):(Lt(n,t)||(n=ja(),Re.lanes|=n,Gn|=n,e.baseState=!0),t)}function kh(e,t){var n=Ee;Ee=n!==0&&4>n?n:4,e(!0);var o=ol.transition;ol.transition={};try{e(!1),t()}finally{Ee=n,ol.transition=o}}function tc(){return Et().memoizedState}function Ch(e,t,n){var o=Cn(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},nc(e))rc(t,n);else if(n=Lu(e,t,n,o),n!==null){var l=st();zt(n,e,o,l),oc(n,t,o)}}function Eh(e,t,n){var o=Cn(e),l={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(nc(e))rc(t,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,v=u(f,n);if(l.hasEagerState=!0,l.eagerState=v,Lt(v,f)){var S=t.interleaved;S===null?(l.next=l,Zs(t)):(l.next=S.next,S.next=l),t.interleaved=l;return}}catch{}finally{}n=Lu(e,t,l,o),n!==null&&(l=st(),zt(n,e,o,l),oc(n,t,o))}}function nc(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function rc(e,t){ho=Si=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oc(e,t,n){if((n&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,hs(e,n)}}var Ci={readContext:Ct,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},_h={readContext:Ct,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:Ku,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xi(4194308,4,Yu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xi(4194308,4,e,t)},useInsertionEffect:function(e,t){return xi(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Ht();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Ch.bind(null,Re,e),[o.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:Vu,useDebugValue:dl,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=Vu(!1),t=e[0];return e=kh.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=Re,l=Ht();if(Le){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Ke===null)throw Error(i(349));(qn&30)!==0||$u(o,t,n)}l.memoizedState=n;var u={value:n,getSnapshot:t};return l.queue=u,Ku(Bu.bind(null,o,u,e),[e]),o.flags|=2048,mo(9,Uu.bind(null,o,u,n,t),void 0,null),n},useId:function(){var e=Ht(),t=Ke.identifierPrefix;if(Le){var n=Yt,o=Gt;n=(o&~(1<<32-bt(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=po++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Oh={readContext:Ct,useCallback:Zu,useContext:Ct,useEffect:cl,useImperativeHandle:Xu,useInsertionEffect:qu,useLayoutEffect:Gu,useMemo:Ju,useReducer:al,useRef:Qu,useState:function(){return al(go)},useDebugValue:dl,useDeferredValue:function(e){var t=Et();return ec(t,We.memoizedState,e)},useTransition:function(){var e=al(go)[0],t=Et().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Fu,useId:tc,unstable_isNewReconciler:!1},Th={readContext:Ct,useCallback:Zu,useContext:Ct,useEffect:cl,useImperativeHandle:Xu,useInsertionEffect:qu,useLayoutEffect:Gu,useMemo:Ju,useReducer:ul,useRef:Qu,useState:function(){return ul(go)},useDebugValue:dl,useDeferredValue:function(e){var t=Et();return We===null?t.memoizedState=e:ec(t,We.memoizedState,e)},useTransition:function(){var e=ul(go)[0],t=Et().memoizedState;return[e,t]},useMutableSource:zu,useSyncExternalStore:Fu,useId:tc,unstable_isNewReconciler:!1};function Mt(e,t){if(e&&e.defaultProps){t=M({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fl(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:M({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Un(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=st(),l=Cn(e),u=Zt(o,l);u.payload=t,n!=null&&(u.callback=n),t=wn(e,u,l),t!==null&&(zt(t,e,l,o),mi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=st(),l=Cn(e),u=Zt(o,l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=wn(e,u,l),t!==null&&(zt(t,e,l,o),mi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=st(),o=Cn(e),l=Zt(n,o);l.tag=2,t!=null&&(l.callback=t),t=wn(e,l,o),t!==null&&(zt(t,e,o,n),mi(t,e,o))}};function ic(e,t,n,o,l,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,u,f):t.prototype&&t.prototype.isPureReactComponent?!to(n,o)||!to(l,u):!0}function sc(e,t,n){var o=!1,l=mn,u=t.contextType;return typeof u=="object"&&u!==null?u=Ct(u):(l=at(t)?Wn:Je.current,o=t.contextTypes,u=(o=o!=null)?Sr(e,l):mn),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ei,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=u),t}function lc(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Ei.enqueueReplaceState(t,t.state,null)}function hl(e,t,n,o){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Js(e);var u=t.contextType;typeof u=="object"&&u!==null?l.context=Ct(u):(u=at(t)?Wn:Je.current,l.context=Sr(e,u)),l.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(fl(e,t,u,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ei.enqueueReplaceState(l,l.state,null),vi(e,n,l,o),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Dr(e,t){try{var n="",o=t;do n+=se(o),o=o.return;while(o);var l=n}catch(u){l=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:l,digest:null}}function pl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dh=typeof WeakMap=="function"?WeakMap:Map;function ac(e,t,n){n=Zt(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Pi||(Pi=!0,jl=o),gl(e,t)},n}function uc(e,t,n){n=Zt(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var l=t.value;n.payload=function(){return o(l)},n.callback=function(){gl(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){gl(e,t),typeof o!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function cc(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new Dh;var l=new Set;o.set(t,l)}else l=o.get(t),l===void 0&&(l=new Set,o.set(t,l));l.has(n)||(l.add(n),e=Bh.bind(null,e,t,n),t.then(e,e))}function dc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fc(e,t,n,o,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zt(-1,1),t.tag=2,wn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Nh=V.ReactCurrentOwner,ut=!1;function it(e,t,n,o){t.child=e===null?bu(t,null,n,o):Er(t,e.child,n,o)}function hc(e,t,n,o,l){n=n.render;var u=t.ref;return Or(t,l),o=sl(e,t,n,o,u,l),n=ll(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Jt(e,t,l)):(Le&&n&&Ws(t),t.flags|=1,it(e,t,o,l),t.child)}function pc(e,t,n,o,l){if(e===null){var u=n.type;return typeof u=="function"&&!Al(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,gc(e,t,u,o,l)):(e=Ai(n.type,null,o,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&l)===0){var f=u.memoizedProps;if(n=n.compare,n=n!==null?n:to,n(f,o)&&e.ref===t.ref)return Jt(e,t,l)}return t.flags|=1,e=_n(u,o),e.ref=t.ref,e.return=t,t.child=e}function gc(e,t,n,o,l){if(e!==null){var u=e.memoizedProps;if(to(u,o)&&e.ref===t.ref)if(ut=!1,t.pendingProps=o=u,(e.lanes&l)!==0)(e.flags&131072)!==0&&(ut=!0);else return t.lanes=e.lanes,Jt(e,t,l)}return ml(e,t,n,o,l)}function mc(e,t,n){var o=t.pendingProps,l=o.children,u=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(jr,yt),yt|=n;else{if((n&1073741824)===0)return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(jr,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=u!==null?u.baseLanes:n,Ne(jr,yt),yt|=o}else u!==null?(o=u.baseLanes|n,t.memoizedState=null):o=n,Ne(jr,yt),yt|=o;return it(e,t,l,n),t.child}function vc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ml(e,t,n,o,l){var u=at(n)?Wn:Je.current;return u=Sr(t,u),Or(t,l),n=sl(e,t,n,o,u,l),o=ll(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Jt(e,t,l)):(Le&&o&&Ws(t),t.flags|=1,it(e,t,n,l),t.child)}function yc(e,t,n,o,l){if(at(n)){var u=!0;ai(t)}else u=!1;if(Or(t,l),t.stateNode===null)Oi(e,t),sc(t,n,o),hl(t,n,o,l),o=!0;else if(e===null){var f=t.stateNode,v=t.memoizedProps;f.props=v;var S=f.context,P=n.contextType;typeof P=="object"&&P!==null?P=Ct(P):(P=at(n)?Wn:Je.current,P=Sr(t,P));var $=n.getDerivedStateFromProps,U=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function";U||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==o||S!==P)&&lc(t,f,o,P),yn=!1;var F=t.memoizedState;f.state=F,vi(t,o,f,l),S=t.memoizedState,v!==o||F!==S||lt.current||yn?(typeof $=="function"&&(fl(t,n,$,o),S=t.memoizedState),(v=yn||ic(t,n,v,o,F,S,P))?(U||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=S),f.props=o,f.state=S,f.context=P,o=v):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{f=t.stateNode,Iu(e,t),v=t.memoizedProps,P=t.type===t.elementType?v:Mt(t.type,v),f.props=P,U=t.pendingProps,F=f.context,S=n.contextType,typeof S=="object"&&S!==null?S=Ct(S):(S=at(n)?Wn:Je.current,S=Sr(t,S));var G=n.getDerivedStateFromProps;($=typeof G=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==U||F!==S)&&lc(t,f,o,S),yn=!1,F=t.memoizedState,f.state=F,vi(t,o,f,l);var Z=t.memoizedState;v!==U||F!==Z||lt.current||yn?(typeof G=="function"&&(fl(t,n,G,o),Z=t.memoizedState),(P=yn||ic(t,n,P,o,F,Z,S)||!1)?($||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,Z,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,Z,S)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Z),f.props=o,f.state=Z,f.context=S,o=P):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),o=!1)}return vl(e,t,n,o,u,l)}function vl(e,t,n,o,l,u){vc(e,t);var f=(t.flags&128)!==0;if(!o&&!f)return l&&Cu(t,n,!1),Jt(e,t,u);o=t.stateNode,Nh.current=t;var v=f&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&f?(t.child=Er(t,e.child,null,u),t.child=Er(t,null,v,u)):it(e,t,v,u),t.memoizedState=o.state,l&&Cu(t,n,!0),t.child}function wc(e){var t=e.stateNode;t.pendingContext?xu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xu(e,t.context,!1),el(e,t.containerInfo)}function Sc(e,t,n,o,l){return Cr(),Ks(l),t.flags|=256,it(e,t,n,o),t.child}var yl={dehydrated:null,treeContext:null,retryLane:0};function wl(e){return{baseLanes:e,cachePool:null,transitions:null}}function xc(e,t,n){var o=t.pendingProps,l=Me.current,u=!1,f=(t.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(l&2)!==0),v?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Ne(Me,l&1),e===null)return Qs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(f=o.children,e=o.fallback,u?(o=t.mode,u=t.child,f={mode:"hidden",children:f},(o&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=f):u=zi(f,o,0,null),e=Jn(e,o,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=wl(n),t.memoizedState=yl,e):Sl(t,f));if(l=e.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return jh(e,t,f,o,v,l,n);if(u){u=o.fallback,f=t.mode,l=e.child,v=l.sibling;var S={mode:"hidden",children:o.children};return(f&1)===0&&t.child!==l?(o=t.child,o.childLanes=0,o.pendingProps=S,t.deletions=null):(o=_n(l,S),o.subtreeFlags=l.subtreeFlags&14680064),v!==null?u=_n(v,u):(u=Jn(u,f,n,null),u.flags|=2),u.return=t,o.return=t,o.sibling=u,t.child=o,o=u,u=t.child,f=e.child.memoizedState,f=f===null?wl(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},u.memoizedState=f,u.childLanes=e.childLanes&~n,t.memoizedState=yl,o}return u=e.child,e=u.sibling,o=_n(u,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Sl(e,t){return t=zi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _i(e,t,n,o){return o!==null&&Ks(o),Er(t,e.child,null,n),e=Sl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jh(e,t,n,o,l,u,f){if(n)return t.flags&256?(t.flags&=-257,o=pl(Error(i(422))),_i(e,t,f,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=o.fallback,l=t.mode,o=zi({mode:"visible",children:o.children},l,0,null),u=Jn(u,l,f,null),u.flags|=2,o.return=t,u.return=t,o.sibling=u,t.child=o,(t.mode&1)!==0&&Er(t,e.child,null,f),t.child.memoizedState=wl(f),t.memoizedState=yl,u);if((t.mode&1)===0)return _i(e,t,f,null);if(l.data==="$!"){if(o=l.nextSibling&&l.nextSibling.dataset,o)var v=o.dgst;return o=v,u=Error(i(419)),o=pl(u,o,void 0),_i(e,t,f,o)}if(v=(f&e.childLanes)!==0,ut||v){if(o=Ke,o!==null){switch(f&-f){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(o.suspendedLanes|f))!==0?0:l,l!==0&&l!==u.retryLane&&(u.retryLane=l,Xt(e,l),zt(o,e,l,-1))}return Rl(),o=pl(Error(i(421))),_i(e,t,f,o)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Wh.bind(null,e),l._reactRetry=t,null):(e=u.treeContext,vt=pn(l.nextSibling),mt=t,Le=!0,It=null,e!==null&&(xt[kt++]=Gt,xt[kt++]=Yt,xt[kt++]=Hn,Gt=e.id,Yt=e.overflow,Hn=t),t=Sl(t,o.children),t.flags|=4096,t)}function kc(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Xs(e.return,t,n)}function xl(e,t,n,o,l){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:l}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=o,u.tail=n,u.tailMode=l)}function Cc(e,t,n){var o=t.pendingProps,l=o.revealOrder,u=o.tail;if(it(e,t,o.children,n),o=Me.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kc(e,n,t);else if(e.tag===19)kc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ne(Me,o),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&yi(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),xl(t,!1,l,n,u);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&yi(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}xl(t,!0,n,null,u);break;case"together":xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=_n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ph(e,t,n){switch(t.tag){case 3:wc(t),Cr();break;case 5:Au(t);break;case 1:at(t.type)&&ai(t);break;case 4:el(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,l=t.memoizedProps.value;Ne(pi,o._currentValue),o._currentValue=l;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Ne(Me,Me.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?xc(e,t,n):(Ne(Me,Me.current&1),e=Jt(e,t,n),e!==null?e.sibling:null);Ne(Me,Me.current&1);break;case 19:if(o=(n&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Cc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ne(Me,Me.current),o)break;return null;case 22:case 23:return t.lanes=0,mc(e,t,n)}return Jt(e,t,n)}var Ec,kl,_c,Oc;Ec=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},kl=function(){},_c=function(e,t,n,o){var l=e.memoizedProps;if(l!==o){e=t.stateNode,Kn(Wt.current);var u=null;switch(n){case"input":l=bn(e,l),o=bn(e,o),u=[];break;case"select":l=M({},l,{value:void 0}),o=M({},o,{value:void 0}),u=[];break;case"textarea":l=Ln(e,l),o=Ln(e,o),u=[];break;default:typeof l.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=ii)}zr(n,o);var f;n=null;for(P in l)if(!o.hasOwnProperty(P)&&l.hasOwnProperty(P)&&l[P]!=null)if(P==="style"){var v=l[P];for(f in v)v.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(c.hasOwnProperty(P)?u||(u=[]):(u=u||[]).push(P,null));for(P in o){var S=o[P];if(v=l!=null?l[P]:void 0,o.hasOwnProperty(P)&&S!==v&&(S!=null||v!=null))if(P==="style")if(v){for(f in v)!v.hasOwnProperty(f)||S&&S.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in S)S.hasOwnProperty(f)&&v[f]!==S[f]&&(n||(n={}),n[f]=S[f])}else n||(u||(u=[]),u.push(P,n)),n=S;else P==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,v=v?v.__html:void 0,S!=null&&v!==S&&(u=u||[]).push(P,S)):P==="children"?typeof S!="string"&&typeof S!="number"||(u=u||[]).push(P,""+S):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(c.hasOwnProperty(P)?(S!=null&&P==="onScroll"&&Pe("scroll",e),u||v===S||(u=[])):(u=u||[]).push(P,S))}n&&(u=u||[]).push("style",n);var P=u;(t.updateQueue=P)&&(t.flags|=4)}},Oc=function(e,t,n,o){n!==o&&(t.flags|=4)};function vo(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,o|=l.subtreeFlags&14680064,o|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function bh(e,t,n){var o=t.pendingProps;switch(Hs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return at(t.type)&&li(),tt(t),null;case 3:return o=t.stateNode,Tr(),be(lt),be(Je),rl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(fi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,It!==null&&(Ll(It),It=null))),kl(e,t),tt(t),null;case 5:tl(t);var l=Kn(fo.current);if(n=t.type,e!==null&&t.stateNode!=null)_c(e,t,n,o,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(i(166));return tt(t),null}if(e=Kn(Wt.current),fi(t)){o=t.stateNode,n=t.type;var u=t.memoizedProps;switch(o[Bt]=t,o[so]=u,e=(t.mode&1)!==0,n){case"dialog":Pe("cancel",o),Pe("close",o);break;case"iframe":case"object":case"embed":Pe("load",o);break;case"video":case"audio":for(l=0;l<ro.length;l++)Pe(ro[l],o);break;case"source":Pe("error",o);break;case"img":case"image":case"link":Pe("error",o),Pe("load",o);break;case"details":Pe("toggle",o);break;case"input":or(o,u),Pe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},Pe("invalid",o);break;case"textarea":Rr(o,u),Pe("invalid",o)}zr(n,u),l=null;for(var f in u)if(u.hasOwnProperty(f)){var v=u[f];f==="children"?typeof v=="string"?o.textContent!==v&&(u.suppressHydrationWarning!==!0&&oi(o.textContent,v,e),l=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(u.suppressHydrationWarning!==!0&&oi(o.textContent,v,e),l=["children",""+v]):c.hasOwnProperty(f)&&v!=null&&f==="onScroll"&&Pe("scroll",o)}switch(n){case"input":ve(o),ir(o,u,!0);break;case"textarea":ve(o),Pt(o);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(o.onclick=ii)}o=l,t.updateQueue=o,o!==null&&(t.flags|=4)}else{f=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lr(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=f.createElement(n,{is:o.is}):(e=f.createElement(n),n==="select"&&(f=e,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):e=f.createElementNS(e,n),e[Bt]=t,e[so]=o,Ec(e,t,!1,!1),t.stateNode=e;e:{switch(f=Fr(n,o),n){case"dialog":Pe("cancel",e),Pe("close",e),l=o;break;case"iframe":case"object":case"embed":Pe("load",e),l=o;break;case"video":case"audio":for(l=0;l<ro.length;l++)Pe(ro[l],e);l=o;break;case"source":Pe("error",e),l=o;break;case"img":case"image":case"link":Pe("error",e),Pe("load",e),l=o;break;case"details":Pe("toggle",e),l=o;break;case"input":or(e,o),l=bn(e,o),Pe("invalid",e);break;case"option":l=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},l=M({},o,{value:void 0}),Pe("invalid",e);break;case"textarea":Rr(e,o),l=Ln(e,o),Pe("invalid",e);break;default:l=o}zr(n,l),v=l;for(u in v)if(v.hasOwnProperty(u)){var S=v[u];u==="style"?Mn(e,S):u==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Io(e,S)):u==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&In(e,S):typeof S=="number"&&In(e,""+S):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(c.hasOwnProperty(u)?S!=null&&u==="onScroll"&&Pe("scroll",e):S!=null&&z(e,u,S,f))}switch(n){case"input":ve(e),ir(e,o,!1);break;case"textarea":ve(e),Pt(e);break;case"option":o.value!=null&&e.setAttribute("value",""+q(o.value));break;case"select":e.multiple=!!o.multiple,u=o.value,u!=null?rn(e,!!o.multiple,u,!1):o.defaultValue!=null&&rn(e,!!o.multiple,o.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=ii)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)Oc(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(i(166));if(n=Kn(fo.current),Kn(Wt.current),fi(t)){if(o=t.stateNode,n=t.memoizedProps,o[Bt]=t,(u=o.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:oi(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oi(o.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Bt]=t,t.stateNode=o}return tt(t),null;case 13:if(be(Me),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&vt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Nu(),Cr(),t.flags|=98560,u=!1;else if(u=fi(t),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Bt]=t}else Cr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),u=!1}else It!==null&&(Ll(It),It=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Me.current&1)!==0?He===0&&(He=3):Rl())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return Tr(),kl(e,t),e===null&&oo(t.stateNode.containerInfo),tt(t),null;case 10:return Ys(t.type._context),tt(t),null;case 17:return at(t.type)&&li(),tt(t),null;case 19:if(be(Me),u=t.memoizedState,u===null)return tt(t),null;if(o=(t.flags&128)!==0,f=u.rendering,f===null)if(o)vo(u,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=yi(e),f!==null){for(t.flags|=128,vo(u,!1),o=f.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)u=n,e=o,u.flags&=14680066,f=u.alternate,f===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=f.childLanes,u.lanes=f.lanes,u.child=f.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=f.memoizedProps,u.memoizedState=f.memoizedState,u.updateQueue=f.updateQueue,u.type=f.type,e=f.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ne(Me,Me.current&1|2),t.child}e=e.sibling}u.tail!==null&&$e()>Pr&&(t.flags|=128,o=!0,vo(u,!1),t.lanes=4194304)}else{if(!o)if(e=yi(f),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Le)return tt(t),null}else 2*$e()-u.renderingStartTime>Pr&&n!==1073741824&&(t.flags|=128,o=!0,vo(u,!1),t.lanes=4194304);u.isBackwards?(f.sibling=t.child,t.child=f):(n=u.last,n!==null?n.sibling=f:t.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=$e(),t.sibling=null,n=Me.current,Ne(Me,o?n&1|2:n&1),t):(tt(t),null);case 22:case 23:return Ml(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(yt&1073741824)!==0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Lh(e,t){switch(Hs(t),t.tag){case 1:return at(t.type)&&li(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tr(),be(lt),be(Je),rl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return tl(t),null;case 13:if(be(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Me),null;case 4:return Tr(),null;case 10:return Ys(t.type._context),null;case 22:case 23:return Ml(),null;case 24:return null;default:return null}}var Ti=!1,nt=!1,Ih=typeof WeakSet=="function"?WeakSet:Set,X=null;function Nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Fe(e,t,o)}else n.current=null}function Cl(e,t,n){try{n()}catch(o){Fe(e,t,o)}}var Tc=!1;function Mh(e,t){if(Ms=Ko,e=iu(),Ts(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var l=o.anchorOffset,u=o.focusNode;o=o.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var f=0,v=-1,S=-1,P=0,$=0,U=e,F=null;t:for(;;){for(var G;U!==n||l!==0&&U.nodeType!==3||(v=f+l),U!==u||o!==0&&U.nodeType!==3||(S=f+o),U.nodeType===3&&(f+=U.nodeValue.length),(G=U.firstChild)!==null;)F=U,U=G;for(;;){if(U===e)break t;if(F===n&&++P===l&&(v=f),F===u&&++$===o&&(S=f),(G=U.nextSibling)!==null)break;U=F,F=U.parentNode}U=G}n=v===-1||S===-1?null:{start:v,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rs={focusedElem:e,selectionRange:n},Ko=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var Z=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var J=Z.memoizedProps,Ue=Z.memoizedState,_=t.stateNode,C=_.getSnapshotBeforeUpdate(t.elementType===t.type?J:Mt(t.type,J),Ue);_.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var D=t.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(B){Fe(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return Z=Tc,Tc=!1,Z}function yo(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&e)===e){var u=l.destroy;l.destroy=void 0,u!==void 0&&Cl(t,n,u)}l=l.next}while(l!==o)}}function Di(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function El(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Dc(e){var t=e.alternate;t!==null&&(e.alternate=null,Dc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Bt],delete t[so],delete t[$s],delete t[vh],delete t[yh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nc(e){return e.tag===5||e.tag===3||e.tag===4}function jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _l(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ii));else if(o!==4&&(e=e.child,e!==null))for(_l(e,t,n),e=e.sibling;e!==null;)_l(e,t,n),e=e.sibling}function Ol(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Ol(e,t,n),e=e.sibling;e!==null;)Ol(e,t,n),e=e.sibling}var Xe=null,Rt=!1;function Sn(e,t,n){for(n=n.child;n!==null;)Pc(e,t,n),n=n.sibling}function Pc(e,t,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Uo,n)}catch{}switch(n.tag){case 5:nt||Nr(n,t);case 6:var o=Xe,l=Rt;Xe=null,Sn(e,t,n),Xe=o,Rt=l,Xe!==null&&(Rt?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Rt?(e=Xe,n=n.stateNode,e.nodeType===8?Fs(e.parentNode,n):e.nodeType===1&&Fs(e,n),Gr(e)):Fs(Xe,n.stateNode));break;case 4:o=Xe,l=Rt,Xe=n.stateNode.containerInfo,Rt=!0,Sn(e,t,n),Xe=o,Rt=l;break;case 0:case 11:case 14:case 15:if(!nt&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){l=o=o.next;do{var u=l,f=u.destroy;u=u.tag,f!==void 0&&((u&2)!==0||(u&4)!==0)&&Cl(n,t,f),l=l.next}while(l!==o)}Sn(e,t,n);break;case 1:if(!nt&&(Nr(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(v){Fe(n,t,v)}Sn(e,t,n);break;case 21:Sn(e,t,n);break;case 22:n.mode&1?(nt=(o=nt)||n.memoizedState!==null,Sn(e,t,n),nt=o):Sn(e,t,n);break;default:Sn(e,t,n)}}function bc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ih),t.forEach(function(o){var l=Hh.bind(null,e,o);n.has(o)||(n.add(o),o.then(l,l))})}}function At(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var l=n[o];try{var u=e,f=t,v=f;e:for(;v!==null;){switch(v.tag){case 5:Xe=v.stateNode,Rt=!1;break e;case 3:Xe=v.stateNode.containerInfo,Rt=!0;break e;case 4:Xe=v.stateNode.containerInfo,Rt=!0;break e}v=v.return}if(Xe===null)throw Error(i(160));Pc(u,f,l),Xe=null,Rt=!1;var S=l.alternate;S!==null&&(S.return=null),l.return=null}catch(P){Fe(l,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lc(t,e),t=t.sibling}function Lc(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Vt(e),o&4){try{yo(3,e,e.return),Di(3,e)}catch(J){Fe(e,e.return,J)}try{yo(5,e,e.return)}catch(J){Fe(e,e.return,J)}}break;case 1:At(t,e),Vt(e),o&512&&n!==null&&Nr(n,n.return);break;case 5:if(At(t,e),Vt(e),o&512&&n!==null&&Nr(n,n.return),e.flags&32){var l=e.stateNode;try{In(l,"")}catch(J){Fe(e,e.return,J)}}if(o&4&&(l=e.stateNode,l!=null)){var u=e.memoizedProps,f=n!==null?n.memoizedProps:u,v=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{v==="input"&&u.type==="radio"&&u.name!=null&&Qt(l,u),Fr(v,f);var P=Fr(v,u);for(f=0;f<S.length;f+=2){var $=S[f],U=S[f+1];$==="style"?Mn(l,U):$==="dangerouslySetInnerHTML"?Io(l,U):$==="children"?In(l,U):z(l,$,U,P)}switch(v){case"input":Ir(l,u);break;case"textarea":sr(l,u);break;case"select":var F=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!u.multiple;var G=u.value;G!=null?rn(l,!!u.multiple,G,!1):F!==!!u.multiple&&(u.defaultValue!=null?rn(l,!!u.multiple,u.defaultValue,!0):rn(l,!!u.multiple,u.multiple?[]:"",!1))}l[so]=u}catch(J){Fe(e,e.return,J)}}break;case 6:if(At(t,e),Vt(e),o&4){if(e.stateNode===null)throw Error(i(162));l=e.stateNode,u=e.memoizedProps;try{l.nodeValue=u}catch(J){Fe(e,e.return,J)}}break;case 3:if(At(t,e),Vt(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Gr(t.containerInfo)}catch(J){Fe(e,e.return,J)}break;case 4:At(t,e),Vt(e);break;case 13:At(t,e),Vt(e),l=e.child,l.flags&8192&&(u=l.memoizedState!==null,l.stateNode.isHidden=u,!u||l.alternate!==null&&l.alternate.memoizedState!==null||(Nl=$e())),o&4&&bc(e);break;case 22:if($=n!==null&&n.memoizedState!==null,e.mode&1?(nt=(P=nt)||$,At(t,e),nt=P):At(t,e),Vt(e),o&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!$&&(e.mode&1)!==0)for(X=e,$=e.child;$!==null;){for(U=X=$;X!==null;){switch(F=X,G=F.child,F.tag){case 0:case 11:case 14:case 15:yo(4,F,F.return);break;case 1:Nr(F,F.return);var Z=F.stateNode;if(typeof Z.componentWillUnmount=="function"){o=F,n=F.return;try{t=o,Z.props=t.memoizedProps,Z.state=t.memoizedState,Z.componentWillUnmount()}catch(J){Fe(o,n,J)}}break;case 5:Nr(F,F.return);break;case 22:if(F.memoizedState!==null){Rc(U);continue}}G!==null?(G.return=F,X=G):Rc(U)}$=$.sibling}e:for($=null,U=e;;){if(U.tag===5){if($===null){$=U;try{l=U.stateNode,P?(u=l.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(v=U.stateNode,S=U.memoizedProps.style,f=S!=null&&S.hasOwnProperty("display")?S.display:null,v.style.display=Mo("display",f))}catch(J){Fe(e,e.return,J)}}}else if(U.tag===6){if($===null)try{U.stateNode.nodeValue=P?"":U.memoizedProps}catch(J){Fe(e,e.return,J)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===e)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===e)break e;for(;U.sibling===null;){if(U.return===null||U.return===e)break e;$===U&&($=null),U=U.return}$===U&&($=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:At(t,e),Vt(e),o&4&&bc(e);break;case 21:break;default:At(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Nc(n)){var o=n;break e}n=n.return}throw Error(i(160))}switch(o.tag){case 5:var l=o.stateNode;o.flags&32&&(In(l,""),o.flags&=-33);var u=jc(e);Ol(e,u,l);break;case 3:case 4:var f=o.stateNode.containerInfo,v=jc(e);_l(e,v,f);break;default:throw Error(i(161))}}catch(S){Fe(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rh(e,t,n){X=e,Ic(e)}function Ic(e,t,n){for(var o=(e.mode&1)!==0;X!==null;){var l=X,u=l.child;if(l.tag===22&&o){var f=l.memoizedState!==null||Ti;if(!f){var v=l.alternate,S=v!==null&&v.memoizedState!==null||nt;v=Ti;var P=nt;if(Ti=f,(nt=S)&&!P)for(X=l;X!==null;)f=X,S=f.child,f.tag===22&&f.memoizedState!==null?Ac(l):S!==null?(S.return=f,X=S):Ac(l);for(;u!==null;)X=u,Ic(u),u=u.sibling;X=l,Ti=v,nt=P}Mc(e)}else(l.subtreeFlags&8772)!==0&&u!==null?(u.return=l,X=u):Mc(e)}}function Mc(e){for(;X!==null;){var t=X;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:nt||Di(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!nt)if(n===null)o.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Mt(t.type,n.memoizedProps);o.componentDidUpdate(l,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&Ru(t,u,o);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ru(t,f,n)}break;case 5:var v=t.stateNode;if(n===null&&t.flags&4){n=v;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var $=P.memoizedState;if($!==null){var U=$.dehydrated;U!==null&&Gr(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}nt||t.flags&512&&El(t)}catch(F){Fe(t,t.return,F)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function Rc(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function Ac(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Di(4,t)}catch(S){Fe(t,n,S)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var l=t.return;try{o.componentDidMount()}catch(S){Fe(t,l,S)}}var u=t.return;try{El(t)}catch(S){Fe(t,u,S)}break;case 5:var f=t.return;try{El(t)}catch(S){Fe(t,f,S)}}}catch(S){Fe(t,t.return,S)}if(t===e){X=null;break}var v=t.sibling;if(v!==null){v.return=t.return,X=v;break}X=t.return}}var Ah=Math.ceil,Ni=V.ReactCurrentDispatcher,Tl=V.ReactCurrentOwner,_t=V.ReactCurrentBatchConfig,Se=0,Ke=null,Be=null,Ze=0,yt=0,jr=gn(0),He=0,wo=null,Gn=0,ji=0,Dl=0,So=null,ct=null,Nl=0,Pr=1/0,en=null,Pi=!1,jl=null,xn=null,bi=!1,kn=null,Li=0,xo=0,Pl=null,Ii=-1,Mi=0;function st(){return(Se&6)!==0?$e():Ii!==-1?Ii:Ii=$e()}function Cn(e){return(e.mode&1)===0?1:(Se&2)!==0&&Ze!==0?Ze&-Ze:Sh.transition!==null?(Mi===0&&(Mi=ja()),Mi):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:Fa(e.type)),e)}function zt(e,t,n,o){if(50<xo)throw xo=0,Pl=null,Error(i(185));Hr(e,n,o),((Se&2)===0||e!==Ke)&&(e===Ke&&((Se&2)===0&&(ji|=n),He===4&&En(e,Ze)),dt(e,o),n===1&&Se===0&&(t.mode&1)===0&&(Pr=$e()+500,ui&&vn()))}function dt(e,t){var n=e.callbackNode;Sf(e,t);var o=Ho(e,e===Ke?Ze:0);if(o===0)n!==null&&Ta(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&Ta(n),t===1)e.tag===0?wh(Fc.bind(null,e)):Eu(Fc.bind(null,e)),gh(function(){(Se&6)===0&&vn()}),n=null;else{switch(Pa(o)){case 1:n=cs;break;case 4:n=Da;break;case 16:n=$o;break;case 536870912:n=Na;break;default:n=$o}n=Kc(n,zc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zc(e,t){if(Ii=-1,Mi=0,(Se&6)!==0)throw Error(i(327));var n=e.callbackNode;if(br()&&e.callbackNode!==n)return null;var o=Ho(e,e===Ke?Ze:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Ri(e,o);else{t=o;var l=Se;Se|=2;var u=Uc();(Ke!==e||Ze!==t)&&(en=null,Pr=$e()+500,Xn(e,t));do try{$h();break}catch(v){$c(e,v)}while(!0);Gs(),Ni.current=u,Se=l,Be!==null?t=0:(Ke=null,Ze=0,t=He)}if(t!==0){if(t===2&&(l=ds(e),l!==0&&(o=l,t=bl(e,l))),t===1)throw n=wo,Xn(e,0),En(e,o),dt(e,$e()),n;if(t===6)En(e,o);else{if(l=e.current.alternate,(o&30)===0&&!zh(l)&&(t=Ri(e,o),t===2&&(u=ds(e),u!==0&&(o=u,t=bl(e,u))),t===1))throw n=wo,Xn(e,0),En(e,o),dt(e,$e()),n;switch(e.finishedWork=l,e.finishedLanes=o,t){case 0:case 1:throw Error(i(345));case 2:Zn(e,ct,en);break;case 3:if(En(e,o),(o&130023424)===o&&(t=Nl+500-$e(),10<t)){if(Ho(e,0)!==0)break;if(l=e.suspendedLanes,(l&o)!==o){st(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=zs(Zn.bind(null,e,ct,en),t);break}Zn(e,ct,en);break;case 4:if(En(e,o),(o&4194240)===o)break;for(t=e.eventTimes,l=-1;0<o;){var f=31-bt(o);u=1<<f,f=t[f],f>l&&(l=f),o&=~u}if(o=l,o=$e()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Ah(o/1960))-o,10<o){e.timeoutHandle=zs(Zn.bind(null,e,ct,en),o);break}Zn(e,ct,en);break;case 5:Zn(e,ct,en);break;default:throw Error(i(329))}}}return dt(e,$e()),e.callbackNode===n?zc.bind(null,e):null}function bl(e,t){var n=So;return e.current.memoizedState.isDehydrated&&(Xn(e,t).flags|=256),e=Ri(e,t),e!==2&&(t=ct,ct=n,t!==null&&Ll(t)),e}function Ll(e){ct===null?ct=e:ct.push.apply(ct,e)}function zh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var l=n[o],u=l.getSnapshot;l=l.value;try{if(!Lt(u(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function En(e,t){for(t&=~Dl,t&=~ji,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bt(t),o=1<<n;e[n]=-1,t&=~o}}function Fc(e){if((Se&6)!==0)throw Error(i(327));br();var t=Ho(e,0);if((t&1)===0)return dt(e,$e()),null;var n=Ri(e,t);if(e.tag!==0&&n===2){var o=ds(e);o!==0&&(t=o,n=bl(e,o))}if(n===1)throw n=wo,Xn(e,0),En(e,t),dt(e,$e()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zn(e,ct,en),dt(e,$e()),null}function Il(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(Pr=$e()+500,ui&&vn())}}function Yn(e){kn!==null&&kn.tag===0&&(Se&6)===0&&br();var t=Se;Se|=1;var n=_t.transition,o=Ee;try{if(_t.transition=null,Ee=1,e)return e()}finally{Ee=o,_t.transition=n,Se=t,(Se&6)===0&&vn()}}function Ml(){yt=jr.current,be(jr)}function Xn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ph(n)),Be!==null)for(n=Be.return;n!==null;){var o=n;switch(Hs(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&li();break;case 3:Tr(),be(lt),be(Je),rl();break;case 5:tl(o);break;case 4:Tr();break;case 13:be(Me);break;case 19:be(Me);break;case 10:Ys(o.type._context);break;case 22:case 23:Ml()}n=n.return}if(Ke=e,Be=e=_n(e.current,null),Ze=yt=t,He=0,wo=null,Dl=ji=Gn=0,ct=So=null,Qn!==null){for(t=0;t<Qn.length;t++)if(n=Qn[t],o=n.interleaved,o!==null){n.interleaved=null;var l=o.next,u=n.pending;if(u!==null){var f=u.next;u.next=l,o.next=f}n.pending=o}Qn=null}return e}function $c(e,t){do{var n=Be;try{if(Gs(),wi.current=Ci,Si){for(var o=Re.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}Si=!1}if(qn=0,Qe=We=Re=null,ho=!1,po=0,Tl.current=null,n===null||n.return===null){He=1,wo=t,Be=null;break}e:{var u=e,f=n.return,v=n,S=t;if(t=Ze,v.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=S,$=v,U=$.tag;if(($.mode&1)===0&&(U===0||U===11||U===15)){var F=$.alternate;F?($.updateQueue=F.updateQueue,$.memoizedState=F.memoizedState,$.lanes=F.lanes):($.updateQueue=null,$.memoizedState=null)}var G=dc(f);if(G!==null){G.flags&=-257,fc(G,f,v,u,t),G.mode&1&&cc(u,P,t),t=G,S=P;var Z=t.updateQueue;if(Z===null){var J=new Set;J.add(S),t.updateQueue=J}else Z.add(S);break e}else{if((t&1)===0){cc(u,P,t),Rl();break e}S=Error(i(426))}}else if(Le&&v.mode&1){var Ue=dc(f);if(Ue!==null){(Ue.flags&65536)===0&&(Ue.flags|=256),fc(Ue,f,v,u,t),Ks(Dr(S,v));break e}}u=S=Dr(S,v),He!==4&&(He=2),So===null?So=[u]:So.push(u),u=f;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var _=ac(u,S,t);Mu(u,_);break e;case 1:v=S;var C=u.type,D=u.stateNode;if((u.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(xn===null||!xn.has(D)))){u.flags|=65536,t&=-t,u.lanes|=t;var B=uc(u,v,t);Mu(u,B);break e}}u=u.return}while(u!==null)}Wc(n)}catch(ee){t=ee,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function Uc(){var e=Ni.current;return Ni.current=Ci,e===null?Ci:e}function Rl(){(He===0||He===3||He===2)&&(He=4),Ke===null||(Gn&268435455)===0&&(ji&268435455)===0||En(Ke,Ze)}function Ri(e,t){var n=Se;Se|=2;var o=Uc();(Ke!==e||Ze!==t)&&(en=null,Xn(e,t));do try{Fh();break}catch(l){$c(e,l)}while(!0);if(Gs(),Se=n,Ni.current=o,Be!==null)throw Error(i(261));return Ke=null,Ze=0,He}function Fh(){for(;Be!==null;)Bc(Be)}function $h(){for(;Be!==null&&!df();)Bc(Be)}function Bc(e){var t=Qc(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Wc(e):Be=t,Tl.current=null}function Wc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=bh(n,t,yt),n!==null){Be=n;return}}else{if(n=Lh(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Be=null;return}}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);He===0&&(He=5)}function Zn(e,t,n){var o=Ee,l=_t.transition;try{_t.transition=null,Ee=1,Uh(e,t,n,o)}finally{_t.transition=l,Ee=o}return null}function Uh(e,t,n,o){do br();while(kn!==null);if((Se&6)!==0)throw Error(i(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(xf(e,u),e===Ke&&(Be=Ke=null,Ze=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||bi||(bi=!0,Kc($o,function(){return br(),null})),u=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||u){u=_t.transition,_t.transition=null;var f=Ee;Ee=1;var v=Se;Se|=4,Tl.current=null,Mh(e,n),Lc(n,e),lh(Rs),Ko=!!Ms,Rs=Ms=null,e.current=n,Rh(n),ff(),Se=v,Ee=f,_t.transition=u}else e.current=n;if(bi&&(bi=!1,kn=e,Li=l),u=e.pendingLanes,u===0&&(xn=null),gf(n.stateNode),dt(e,$e()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],o(l.value,{componentStack:l.stack,digest:l.digest});if(Pi)throw Pi=!1,e=jl,jl=null,e;return(Li&1)!==0&&e.tag!==0&&br(),u=e.pendingLanes,(u&1)!==0?e===Pl?xo++:(xo=0,Pl=e):xo=0,vn(),null}function br(){if(kn!==null){var e=Pa(Li),t=_t.transition,n=Ee;try{if(_t.transition=null,Ee=16>e?16:e,kn===null)var o=!1;else{if(e=kn,kn=null,Li=0,(Se&6)!==0)throw Error(i(331));var l=Se;for(Se|=4,X=e.current;X!==null;){var u=X,f=u.child;if((X.flags&16)!==0){var v=u.deletions;if(v!==null){for(var S=0;S<v.length;S++){var P=v[S];for(X=P;X!==null;){var $=X;switch($.tag){case 0:case 11:case 15:yo(8,$,u)}var U=$.child;if(U!==null)U.return=$,X=U;else for(;X!==null;){$=X;var F=$.sibling,G=$.return;if(Dc($),$===P){X=null;break}if(F!==null){F.return=G,X=F;break}X=G}}}var Z=u.alternate;if(Z!==null){var J=Z.child;if(J!==null){Z.child=null;do{var Ue=J.sibling;J.sibling=null,J=Ue}while(J!==null)}}X=u}}if((u.subtreeFlags&2064)!==0&&f!==null)f.return=u,X=f;else e:for(;X!==null;){if(u=X,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:yo(9,u,u.return)}var _=u.sibling;if(_!==null){_.return=u.return,X=_;break e}X=u.return}}var C=e.current;for(X=C;X!==null;){f=X;var D=f.child;if((f.subtreeFlags&2064)!==0&&D!==null)D.return=f,X=D;else e:for(f=C;X!==null;){if(v=X,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:Di(9,v)}}catch(ee){Fe(v,v.return,ee)}if(v===f){X=null;break e}var B=v.sibling;if(B!==null){B.return=v.return,X=B;break e}X=v.return}}if(Se=l,vn(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Uo,e)}catch{}o=!0}return o}finally{Ee=n,_t.transition=t}}return!1}function Hc(e,t,n){t=Dr(n,t),t=ac(e,t,1),e=wn(e,t,1),t=st(),e!==null&&(Hr(e,1,t),dt(e,t))}function Fe(e,t,n){if(e.tag===3)Hc(e,e,n);else for(;t!==null;){if(t.tag===3){Hc(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(xn===null||!xn.has(o))){e=Dr(n,e),e=uc(t,e,1),t=wn(t,e,1),e=st(),t!==null&&(Hr(t,1,e),dt(t,e));break}}t=t.return}}function Bh(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(Ze&n)===n&&(He===4||He===3&&(Ze&130023424)===Ze&&500>$e()-Nl?Xn(e,0):Dl|=n),dt(e,t)}function Vc(e,t){t===0&&((e.mode&1)===0?t=1:(t=Wo,Wo<<=1,(Wo&130023424)===0&&(Wo=4194304)));var n=st();e=Xt(e,t),e!==null&&(Hr(e,t,n),dt(e,n))}function Wh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vc(e,n)}function Hh(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(i(314))}o!==null&&o.delete(t),Vc(e,n)}var Qc;Qc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)ut=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return ut=!1,Ph(e,t,n);ut=(e.flags&131072)!==0}else ut=!1,Le&&(t.flags&1048576)!==0&&_u(t,di,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Oi(e,t),e=t.pendingProps;var l=Sr(t,Je.current);Or(t,n),l=sl(null,t,o,e,l,n);var u=ll();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,at(o)?(u=!0,ai(t)):u=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Js(t),l.updater=Ei,t.stateNode=l,l._reactInternals=t,hl(t,o,e,n),t=vl(null,t,o,!0,u,n)):(t.tag=0,Le&&u&&Ws(t),it(null,t,l,n),t=t.child),t;case 16:o=t.elementType;e:{switch(Oi(e,t),e=t.pendingProps,l=o._init,o=l(o._payload),t.type=o,l=t.tag=Qh(o),e=Mt(o,e),l){case 0:t=ml(null,t,o,e,n);break e;case 1:t=yc(null,t,o,e,n);break e;case 11:t=hc(null,t,o,e,n);break e;case 14:t=pc(null,t,o,Mt(o.type,e),n);break e}throw Error(i(306,o,""))}return t;case 0:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Mt(o,l),ml(e,t,o,l,n);case 1:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Mt(o,l),yc(e,t,o,l,n);case 3:e:{if(wc(t),e===null)throw Error(i(387));o=t.pendingProps,u=t.memoizedState,l=u.element,Iu(e,t),vi(t,o,null,n);var f=t.memoizedState;if(o=f.element,u.isDehydrated)if(u={element:o,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){l=Dr(Error(i(423)),t),t=Sc(e,t,o,n,l);break e}else if(o!==l){l=Dr(Error(i(424)),t),t=Sc(e,t,o,n,l);break e}else for(vt=pn(t.stateNode.containerInfo.firstChild),mt=t,Le=!0,It=null,n=bu(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cr(),o===l){t=Jt(e,t,n);break e}it(e,t,o,n)}t=t.child}return t;case 5:return Au(t),e===null&&Qs(t),o=t.type,l=t.pendingProps,u=e!==null?e.memoizedProps:null,f=l.children,As(o,l)?f=null:u!==null&&As(o,u)&&(t.flags|=32),vc(e,t),it(e,t,f,n),t.child;case 6:return e===null&&Qs(t),null;case 13:return xc(e,t,n);case 4:return el(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Er(t,null,o,n):it(e,t,o,n),t.child;case 11:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Mt(o,l),hc(e,t,o,l,n);case 7:return it(e,t,t.pendingProps,n),t.child;case 8:return it(e,t,t.pendingProps.children,n),t.child;case 12:return it(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,l=t.pendingProps,u=t.memoizedProps,f=l.value,Ne(pi,o._currentValue),o._currentValue=f,u!==null)if(Lt(u.value,f)){if(u.children===l.children&&!lt.current){t=Jt(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var v=u.dependencies;if(v!==null){f=u.child;for(var S=v.firstContext;S!==null;){if(S.context===o){if(u.tag===1){S=Zt(-1,n&-n),S.tag=2;var P=u.updateQueue;if(P!==null){P=P.shared;var $=P.pending;$===null?S.next=S:(S.next=$.next,$.next=S),P.pending=S}}u.lanes|=n,S=u.alternate,S!==null&&(S.lanes|=n),Xs(u.return,n,t),v.lanes|=n;break}S=S.next}}else if(u.tag===10)f=u.type===t.type?null:u.child;else if(u.tag===18){if(f=u.return,f===null)throw Error(i(341));f.lanes|=n,v=f.alternate,v!==null&&(v.lanes|=n),Xs(f,n,t),f=u.sibling}else f=u.child;if(f!==null)f.return=u;else for(f=u;f!==null;){if(f===t){f=null;break}if(u=f.sibling,u!==null){u.return=f.return,f=u;break}f=f.return}u=f}it(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,o=t.pendingProps.children,Or(t,n),l=Ct(l),o=o(l),t.flags|=1,it(e,t,o,n),t.child;case 14:return o=t.type,l=Mt(o,t.pendingProps),l=Mt(o.type,l),pc(e,t,o,l,n);case 15:return gc(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:Mt(o,l),Oi(e,t),t.tag=1,at(o)?(e=!0,ai(t)):e=!1,Or(t,n),sc(t,o,l),hl(t,o,l,n),vl(null,t,o,!0,e,n);case 19:return Cc(e,t,n);case 22:return mc(e,t,n)}throw Error(i(156,t.tag))};function Kc(e,t){return Oa(e,t)}function Vh(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,n,o){return new Vh(e,t,n,o)}function Al(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qh(e){if(typeof e=="function")return Al(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ge)return 11;if(e===Te)return 14}return 2}function _n(e,t){var n=e.alternate;return n===null?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ai(e,t,n,o,l,u){var f=2;if(o=e,typeof e=="function")Al(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case ue:return Jn(n.children,l,u,t);case he:f=8,l|=8;break;case ke:return e=Ot(12,n,t,l|2),e.elementType=ke,e.lanes=u,e;case ye:return e=Ot(13,n,t,l),e.elementType=ye,e.lanes=u,e;case Ie:return e=Ot(19,n,t,l),e.elementType=Ie,e.lanes=u,e;case fe:return zi(n,l,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case je:f=10;break e;case Oe:f=9;break e;case ge:f=11;break e;case Te:f=14;break e;case we:f=16,o=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Ot(f,n,t,l),t.elementType=e,t.type=o,t.lanes=u,t}function Jn(e,t,n,o){return e=Ot(7,e,o,t),e.lanes=n,e}function zi(e,t,n,o){return e=Ot(22,e,o,t),e.elementType=fe,e.lanes=n,e.stateNode={isHidden:!1},e}function zl(e,t,n){return e=Ot(6,e,null,t),e.lanes=n,e}function Fl(e,t,n){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kh(e,t,n,o,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fs(0),this.expirationTimes=fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.identifierPrefix=o,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function $l(e,t,n,o,l,u,f,v,S){return e=new Kh(e,t,n,v,S),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Ot(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Js(u),e}function qh(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return mn;e=e._reactInternals;e:{if(Un(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(at(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(at(n))return ku(e,n,t)}return t}function Gc(e,t,n,o,l,u,f,v,S){return e=$l(n,o,!0,e,l,u,f,v,S),e.context=qc(null),n=e.current,o=st(),l=Cn(n),u=Zt(o,l),u.callback=t??null,wn(n,u,l),e.current.lanes=l,Hr(e,l,o),dt(e,o),e}function Fi(e,t,n,o){var l=t.current,u=st(),f=Cn(l);return n=qc(n),t.context===null?t.context=n:t.pendingContext=n,t=Zt(u,f),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=wn(l,t,f),e!==null&&(zt(e,l,f,u),mi(e,l,f)),f}function $i(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ul(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}function Gh(){return null}var Xc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bl(e){this._internalRoot=e}Ui.prototype.render=Bl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Fi(e,t,null,null)},Ui.prototype.unmount=Bl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yn(function(){Fi(null,e,null,null)}),t[Kt]=null}};function Ui(e){this._internalRoot=e}Ui.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ia();e={blockedOn:null,target:e,priority:t};for(var n=0;n<dn.length&&t!==0&&t<dn[n].priority;n++);dn.splice(n,0,e),n===0&&Aa(e)}};function Wl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zc(){}function Yh(e,t,n,o,l){if(l){if(typeof o=="function"){var u=o;o=function(){var P=$i(f);u.call(P)}}var f=Gc(t,o,e,0,null,!1,!1,"",Zc);return e._reactRootContainer=f,e[Kt]=f.current,oo(e.nodeType===8?e.parentNode:e),Yn(),f}for(;l=e.lastChild;)e.removeChild(l);if(typeof o=="function"){var v=o;o=function(){var P=$i(S);v.call(P)}}var S=$l(e,0,!1,null,null,!1,!1,"",Zc);return e._reactRootContainer=S,e[Kt]=S.current,oo(e.nodeType===8?e.parentNode:e),Yn(function(){Fi(t,S,n,o)}),S}function Wi(e,t,n,o,l){var u=n._reactRootContainer;if(u){var f=u;if(typeof l=="function"){var v=l;l=function(){var S=$i(f);v.call(S)}}Fi(t,f,e,l)}else f=Yh(n,t,e,l,o);return $i(f)}ba=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wr(t.pendingLanes);n!==0&&(hs(t,n|1),dt(t,$e()),(Se&6)===0&&(Pr=$e()+500,vn()))}break;case 13:Yn(function(){var o=Xt(e,1);if(o!==null){var l=st();zt(o,e,1,l)}}),Ul(e,1)}},ps=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var n=st();zt(t,e,134217728,n)}Ul(e,134217728)}},La=function(e){if(e.tag===13){var t=Cn(e),n=Xt(e,t);if(n!==null){var o=st();zt(n,e,t,o)}Ul(e,t)}},Ia=function(){return Ee},Ma=function(e,t){var n=Ee;try{return Ee=e,t()}finally{Ee=n}},Rn=function(e,t,n){switch(t){case"input":if(Ir(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var l=si(o);if(!l)throw Error(i(90));Ce(o),Ir(o,l)}}}break;case"textarea":sr(e,n);break;case"select":t=n.value,t!=null&&rn(e,!!n.multiple,t,!1)}},zo=Il,An=Yn;var Xh={usingClientEntryPoint:!1,Events:[lo,yr,si,Ao,cr,Il]},ko={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zh={bundleType:ko.bundleType,version:ko.version,rendererPackageName:ko.rendererPackageName,rendererConfig:ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ea(e),e===null?null:e.stateNode},findFiberByHostInstance:ko.findFiberByHostInstance||Gh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hi.isDisabled&&Hi.supportsFiber)try{Uo=Hi.inject(Zh),Ut=Hi}catch{}}return ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xh,ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wl(t))throw Error(i(200));return qh(e,t,null,n)},ft.createRoot=function(e,t){if(!Wl(e))throw Error(i(299));var n=!1,o="",l=Xc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=$l(e,1,!1,null,null,n,!1,o,l),e[Kt]=t.current,oo(e.nodeType===8?e.parentNode:e),new Bl(t)},ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Ea(t),e=e===null?null:e.stateNode,e},ft.flushSync=function(e){return Yn(e)},ft.hydrate=function(e,t,n){if(!Bi(t))throw Error(i(200));return Wi(null,e,t,!0,n)},ft.hydrateRoot=function(e,t,n){if(!Wl(e))throw Error(i(405));var o=n!=null&&n.hydratedSources||null,l=!1,u="",f=Xc;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=Gc(t,null,e,1,n??null,l,!1,u,f),e[Kt]=t.current,oo(e),o)for(e=0;e<o.length;e++)n=o[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ui(t)},ft.render=function(e,t,n){if(!Bi(t))throw Error(i(200));return Wi(null,e,t,!1,n)},ft.unmountComponentAtNode=function(e){if(!Bi(e))throw Error(i(40));return e._reactRootContainer?(Yn(function(){Wi(null,null,e,!1,function(){e._reactRootContainer=null,e[Kt]=null})}),!0):!1},ft.unstable_batchedUpdates=Il,ft.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Bi(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Wi(e,t,n,!1,o)},ft.version="18.3.1-next-f1338f8080-20240426",ft}var sd;function ap(){if(sd)return Ql.exports;sd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Ql.exports=lp(),Ql.exports}var ld;function up(){if(ld)return Vi;ld=1;var s=ap();return Vi.createRoot=s.createRoot,Vi.hydrateRoot=s.hydrateRoot,Vi}var cp=up();function dp(s,r){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(s);c<a.length;c++)r.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(s,a[c])&&(i[a[c]]=s[a[c]]);return i}const jo="abcdefgh".split(""),Xi={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},fp={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},hp={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},pp=[7,6,5,4,3,2,1,0],gp=[0,1,2,3,4,5,6,7],ad={wP:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),h.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),h.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),h.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),h.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),h.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[h.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),h.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),h.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),h.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[h.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),h.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),h.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),h.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),h.jsx("circle",{cx:"6",cy:"12",r:"2"}),h.jsx("circle",{cx:"14",cy:"9",r:"2"}),h.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),h.jsx("circle",{cx:"31",cy:"9",r:"2"}),h.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),h.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),h.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),h.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),h.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),h.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),h.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),h.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[h.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),h.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),h.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),h.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[h.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),h.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),h.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),h.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),h.jsx("circle",{cx:"6",cy:"12",r:"2"}),h.jsx("circle",{cx:"14",cy:"9",r:"2"}),h.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),h.jsx("circle",{cx:"31",cy:"9",r:"2"}),h.jsx("circle",{cx:"39",cy:"12",r:"2"}),h.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),h.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[h.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),h.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),h.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),h.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),h.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),h.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),h.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function ia(s,r,i){const a=r/8,c=s==="white"?fp:hp,d=s==="white"?pp:gp,g=c[i[0]]*a+a/2,p=d[parseInt(i[1],10)-1]*a+a/2;return{x:g,y:p}}function ud(s){let r=!1;return Object.keys(Xi).forEach(i=>{s[i]!==Xi[i]&&(r=!0)}),Object.keys(s).forEach(i=>{Xi[i]!==s[i]&&(r=!0)}),r}function mp(s,r){const i={removed:{},added:{}};return Object.keys(s).forEach(a=>{r[a]!==s[a]&&(i.removed[a]=s[a])}),Object.keys(r).forEach(a=>{s[a]!==r[a]&&(i.added[a]=r[a])}),i}function cd(s){return s==="start"?Xi:typeof s=="string"?vp(s):s}function vp(s){if(!yp(s))return{};s=s.replace(/ .+$/,"");const r=s.split("/"),i={};let a=8;for(let c=0;c<8;c++){const d=r[c].split("");let g=0;for(let p=0;p<d.length;p++)if(d[p].search(/[1-8]/)!==-1){const m=parseInt(d[p],10);g=g+m}else{const m=jo[g]+a;i[m]=Sp(d[p]),g=g+1}a=a-1}return i}function yp(s){s=s.replace(/ .+$/,""),s=wp(s);const r=s.split("/");if(r.length!==8)return!1;for(let i=0;i<8;i++)if(r[i].length!==8||r[i].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function wp(s){return s.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function Sp(s){return s.toLowerCase()===s?"b"+s.toUpperCase():"w"+s.toUpperCase()}const xp=(s,r=!0,i,a)=>{const[c,d]=N.useState([]),[g,p]=N.useState([]),[m,y]=N.useState();N.useEffect(()=>{Array.isArray(s)&&(T(),d(s==null?void 0:s.filter(E=>E[0]!==E[1])))},[s]),N.useEffect(()=>{i==null||i(g)},[g]);function T(){p([]),y(void 0)}const L=(E,x)=>{r&&y([E,x,a])},k=[...g,...c];return{arrows:k,newArrow:m,clearArrows:T,drawNewArrow:L,setArrows:p,onArrowDrawEnd:(E,x)=>{if(E===x||!r)return;let O;const A=[E,x,a];k.every(([z,V])=>!(z===E&&V===x))?O=[...g,A]:O=g.filter(([z,V])=>!(z===E&&V===x)),y(void 0),p(O)}}},Md=N.createContext({}),tn=()=>N.useContext(Md),kp=N.forwardRef(({allowDragOutsideBoard:s=!0,animationDuration:r=300,areArrowsAllowed:i=!0,arePiecesDraggable:a=!0,arePremovesAllowed:c=!1,autoPromoteToQueen:d=!1,boardOrientation:g="white",boardWidth:p,children:m,clearPremovesOnRightClick:y=!0,customArrows:T,customArrowColor:L="rgb(255,170,0)",customBoardStyle:k,customNotationStyle:j,customDarkSquareStyle:E={backgroundColor:"#B58863"},customDropSquareStyle:x={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:O={backgroundColor:"#F0D9B5"},customPieces:A,customPremoveDarkSquareStyle:R={backgroundColor:"#A42323"},customPremoveLightSquareStyle:z={backgroundColor:"#BD2828"},customSquare:V="div",customSquareStyles:Y,dropOffBoardAction:ne="snapback",id:ue=0,isDraggablePiece:he=()=>!0,getPositionObject:ke=()=>{},onArrowsChange:je=()=>{},onDragOverSquare:Oe=()=>{},onMouseOutSquare:ge=()=>{},onMouseOverSquare:ye=()=>{},onPieceClick:Ie=()=>{},onPieceDragBegin:Te=()=>{},onPieceDragEnd:we=()=>{},onPieceDrop:fe=()=>!0,onPieceDropOffBoard:W=()=>{},onPromotionCheck:I=(ve,Ce,jt)=>(jt==="wP"&&ve[1]==="7"&&Ce[1]==="8"||jt==="bP"&&ve[1]==="2"&&Ce[1]==="1")&&Math.abs(ve.charCodeAt(0)-Ce.charCodeAt(0))<=1,onPromotionPieceSelect:M=()=>!0,onSparePieceDrop:w=()=>!0,onSquareClick:b=()=>{},onSquareRightClick:K=()=>{},position:re="start",promotionDialogVariant:se="default",promotionToSquare:Q=null,showBoardNotation:H=!0,showPromotionDialog:q=!1,snapToCursor:le=!0},te)=>{const[ve,Ce]=N.useState(cd(re)),[jt,bn]=N.useState({removed:{},added:{}}),[or,Qt]=N.useState(void 0),[Ir,ir]=N.useState(q&&!d),[Mr,nn]=N.useState(null),[rn,Ln]=N.useState(Q),[Rr,sr]=N.useState([]),Pt=N.useRef(Rr),[lr,on]=N.useState(),[ar,Io]=N.useState(Object.assign(Object.assign({},ad),A)),[In,$t]=N.useState(!1),[Ar,Mo]=N.useState(),[Mn,ur]=N.useState(!1),[zr,Fr]=N.useState(null);N.useImperativeHandle(te,()=>({clearPremoves(De=!0){An(De)}})),N.useEffect(()=>{Io(Object.assign(Object.assign({},ad),A))},[A]),N.useEffect(()=>{ir(q),Ln(Q)},[Q,q]),N.useEffect(()=>{var De,_e,Ye;zn();const ze=cd(re),St=mp(ve,ze),pt=((De=Object.keys(St.added))===null||De===void 0?void 0:De.length)<=2?(Ye=(_e=Object.entries(St.added))===null||_e===void 0?void 0:_e[0])===null||Ye===void 0?void 0:Ye[1][0]:void 0;if(Mn)Ce(ze),ur(!1),c&&cr(pt),Ar&&clearTimeout(Ar);else if(In)Ce(ze),ur(!1),c&&cr(pt);else{ud(ze)&&or!==void 0?Qt(pt):ud(ze)?Qt(void 0):Qt("b"),bn(St),ur(!0);const us=setTimeout(()=>{Ce(ze),ur(!1),c&&cr(pt)},r);Mo(us)}return $t(!1),ke(ze),Rn(),()=>{clearTimeout(Ar)}},[re]);const{arrows:$r,newArrow:Ur,clearArrows:Rn,drawNewArrow:sn,onArrowDrawEnd:ln}=xp(T,i,je,L);function Ro(De,_e,Ye,ze){if(De===_e)return;if(Rn(),c&&Mn||c&&(or===Ye[0]||Pt.current.filter(pt=>pt.piece[0]===Ye[0]).length>0)){const pt=[...Pt.current];pt.push({sourceSq:De,targetSq:_e,piece:Ye}),Pt.current=pt,sr([...pt]),zn();return}if(!c&&Mn)return;const St=Object.assign({},ve);$t(!!ze),Qt(Ye[0]),fe.length?fe(De,_e,Ye)||(An(),$t(!1)):(delete St[De],St[_e]=Ye,Ce(St)),zn(),ke(St)}function Ao(De){const _e=Object.assign({},ve);delete _e[De],Ce(_e),ke(_e)}function cr(De){if(Pt.current.length===0)return;const _e=Pt.current[0];if(_e.piece[0]!==void 0&&_e.piece[0]!==De&&fe.length)if(Qt(_e.piece[0]),$t(!0),fe(_e.sourceSq,_e.targetSq,_e.piece)){const ze=[...Pt.current];ze.shift(),Pt.current=ze,sr([...ze])}else An()}function zo(De,_e){if(!w(De,_e))return;const ze=Object.assign({},ve);ze[_e]=De,Ce(ze),ke(ze)}function An(De=!0){De&&Qt(void 0),Pt.current=[],sr([])}function zn(){nn(null),Ln(null),ir(!1)}function Fo(De){on(De)}function Fn(De){if(lr){if(lr===De){on(void 0),y&&An(!1),K(De);return}}else on(void 0)}function Br(){on(void 0)}const $n={allowDragOutsideBoard:s,animationDuration:r,arePiecesDraggable:a,arePremovesAllowed:c,arrows:$r,autoPromoteToQueen:d,boardOrientation:g,boardWidth:p,chessPieces:ar,clearArrows:Rn,clearCurrentRightClickDown:Br,currentPosition:ve,currentRightClickDown:lr,customArrowColor:L,customBoardStyle:k,customDarkSquareStyle:E,customDropSquareStyle:x,customLightSquareStyle:O,customNotationStyle:j,customPremoveDarkSquareStyle:R,customPremoveLightSquareStyle:z,customSquare:V,customSquareStyles:Y,deletePieceFromSquare:Ao,drawNewArrow:sn,dropOffBoardAction:ne,handleSetPosition:Ro,handleSparePieceDrop:zo,id:ue,isDraggablePiece:he,isWaitingForAnimation:Mn,lastPieceColour:or,lastSquareDraggedOver:zr,newArrow:Ur,onArrowDrawEnd:ln,onDragOverSquare:Oe,onMouseOutSquare:ge,onMouseOverSquare:ye,onPieceClick:Ie,onPieceDragBegin:Te,onPieceDragEnd:we,onPieceDrop:fe,onPieceDropOffBoard:W,onPromotionCheck:I,onPromotionPieceSelect:M,onRightClickDown:Fo,onRightClickUp:Fn,onSparePieceDrop:w,onSquareClick:b,positionDifferences:jt,premoves:Rr,promoteFromSquare:Mr,promoteToSquare:rn,promotionDialogVariant:se,setLastSquareDraggedOver:Fr,setPromoteFromSquare:nn,setPromoteToSquare:Ln,setShowPromoteDialog:ir,showBoardNotation:H,showPromoteDialog:Ir,snapToCursor:le};return h.jsx(Md.Provider,Object.assign({value:$n},{children:m}))});function Cp({row:s,col:r}){const{boardOrientation:i,boardWidth:a,customDarkSquareStyle:c,customLightSquareStyle:d,customNotationStyle:g}=tn(),p=d.backgroundColor,m=c.backgroundColor,y=r===0,T=s===7,L=y&&T;function k(){return i==="white"?8-s:s+1}function j(){return i==="black"?jo[7-r]:jo[r]}function E(){return h.jsxs(h.Fragment,{children:[h.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:p}),fd(a,g))},{children:k()})),h.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:p}),dd(a,g))},{children:j()}))]})}function x(){return h.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:r%2!==0?m:p}),dd(a,g))},{children:j()}))}function O(){return h.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},i==="black"?{color:s%2===0?m:p}:{color:s%2===0?m:p}),fd(a,g))},{children:k()}))}return L?E():T?x():y?O():null}const dd=(s,r)=>Object.assign({alignSelf:"flex-end",paddingLeft:s/8-s/48,fontSize:s/48},r),fd=(s,r)=>Object.assign({alignSelf:"flex-start",paddingRight:s/8-s/48,fontSize:s/48},r),Rd=N.createContext({dragDropManager:void 0});function Tt(s){return"Minified Redux error #"+s+"; visit https://redux.js.org/Errors?code="+s+" for the full message or use the non-minified dev environment for full errors. "}var hd=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),pd=function(){return Math.random().toString(36).substring(7).split("").join(".")},gd={INIT:"@@redux/INIT"+pd(),REPLACE:"@@redux/REPLACE"+pd()};function Ep(s){if(typeof s!="object"||s===null)return!1;for(var r=s;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(s)===r}function Ad(s,r,i){var a;if(typeof r=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(Tt(0));if(typeof r=="function"&&typeof i>"u"&&(i=r,r=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(Tt(1));return i(Ad)(s,r)}if(typeof s!="function")throw new Error(Tt(2));var c=s,d=r,g=[],p=g,m=!1;function y(){p===g&&(p=g.slice())}function T(){if(m)throw new Error(Tt(3));return d}function L(x){if(typeof x!="function")throw new Error(Tt(4));if(m)throw new Error(Tt(5));var O=!0;return y(),p.push(x),function(){if(O){if(m)throw new Error(Tt(6));O=!1,y();var R=p.indexOf(x);p.splice(R,1),g=null}}}function k(x){if(!Ep(x))throw new Error(Tt(7));if(typeof x.type>"u")throw new Error(Tt(8));if(m)throw new Error(Tt(9));try{m=!0,d=c(d,x)}finally{m=!1}for(var O=g=p,A=0;A<O.length;A++){var R=O[A];R()}return x}function j(x){if(typeof x!="function")throw new Error(Tt(10));c=x,k({type:gd.REPLACE})}function E(){var x,O=L;return x={subscribe:function(R){if(typeof R!="object"||R===null)throw new Error(Tt(11));function z(){R.next&&R.next(T())}z();var V=O(z);return{unsubscribe:V}}},x[hd]=function(){return this},x}return k({type:gd.INIT}),a={dispatch:k,subscribe:L,getState:T,replaceReducer:j},a[hd]=E,a}function de(s,r,...i){if(_p()&&r===void 0)throw new Error("invariant requires an error message argument");if(!s){let a;if(r===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let c=0;a=new Error(r.replace(/%s/g,function(){return i[c++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}function _p(){return typeof process<"u"&&!0}function Op(s,r,i){return r.split(".").reduce((a,c)=>a&&a[c]?a[c]:i||null,s)}function Tp(s,r){return s.filter(i=>i!==r)}function zd(s){return typeof s=="object"}function Dp(s,r){const i=new Map,a=d=>{i.set(d,i.has(d)?i.get(d)+1:1)};s.forEach(a),r.forEach(a);const c=[];return i.forEach((d,g)=>{d===1&&c.push(g)}),c}function Np(s,r){return s.filter(i=>r.indexOf(i)>-1)}const ga="dnd-core/INIT_COORDS",os="dnd-core/BEGIN_DRAG",ma="dnd-core/PUBLISH_DRAG_SOURCE",is="dnd-core/HOVER",ss="dnd-core/DROP",ls="dnd-core/END_DRAG";function md(s,r){return{type:ga,payload:{sourceClientOffset:r||null,clientOffset:s||null}}}const jp={type:ga,payload:{clientOffset:null,sourceClientOffset:null}};function Pp(s){return function(i=[],a={publishSource:!0}){const{publishSource:c=!0,clientOffset:d,getSourceClientOffset:g}=a,p=s.getMonitor(),m=s.getRegistry();s.dispatch(md(d)),bp(i,p,m);const y=Mp(i,p);if(y==null){s.dispatch(jp);return}let T=null;if(d){if(!g)throw new Error("getSourceClientOffset must be defined");Lp(g),T=g(y)}s.dispatch(md(d,T));const k=m.getSource(y).beginDrag(p,y);if(k==null)return;Ip(k),m.pinSource(y);const j=m.getSourceType(y);return{type:os,payload:{itemType:j,item:k,sourceId:y,clientOffset:d||null,sourceClientOffset:T||null,isSourcePublic:!!c}}}}function bp(s,r,i){de(!r.isDragging(),"Cannot call beginDrag while dragging."),s.forEach(function(a){de(i.getSource(a),"Expected sourceIds to be registered.")})}function Lp(s){de(typeof s=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Ip(s){de(zd(s),"Item must be an object.")}function Mp(s,r){let i=null;for(let a=s.length-1;a>=0;a--)if(r.canDragSource(s[a])){i=s[a];break}return i}function Rp(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function Ap(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},a=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),a.forEach(function(c){Rp(s,c,i[c])})}return s}function zp(s){return function(i={}){const a=s.getMonitor(),c=s.getRegistry();Fp(a),Bp(a).forEach((g,p)=>{const m=$p(g,p,c,a),y={type:ss,payload:{dropResult:Ap({},i,m)}};s.dispatch(y)})}}function Fp(s){de(s.isDragging(),"Cannot call drop while not dragging."),de(!s.didDrop(),"Cannot call drop twice during one drag operation.")}function $p(s,r,i,a){const c=i.getTarget(s);let d=c?c.drop(a,s):void 0;return Up(d),typeof d>"u"&&(d=r===0?{}:a.getDropResult()),d}function Up(s){de(typeof s>"u"||zd(s),"Drop result must either be an object or undefined.")}function Bp(s){const r=s.getTargetIds().filter(s.canDropOnTarget,s);return r.reverse(),r}function Wp(s){return function(){const i=s.getMonitor(),a=s.getRegistry();Hp(i);const c=i.getSourceId();return c!=null&&(a.getSource(c,!0).endDrag(i,c),a.unpinSource()),{type:ls}}}function Hp(s){de(s.isDragging(),"Cannot call endDrag while not dragging.")}function sa(s,r){return r===null?s===null:Array.isArray(s)?s.some(i=>i===r):s===r}function Vp(s){return function(i,{clientOffset:a}={}){Qp(i);const c=i.slice(0),d=s.getMonitor(),g=s.getRegistry(),p=d.getItemType();return qp(c,g,p),Kp(c,d,g),Gp(c,d,g),{type:is,payload:{targetIds:c,clientOffset:a||null}}}}function Qp(s){de(Array.isArray(s),"Expected targetIds to be an array.")}function Kp(s,r,i){de(r.isDragging(),"Cannot call hover while not dragging."),de(!r.didDrop(),"Cannot call hover after drop.");for(let a=0;a<s.length;a++){const c=s[a];de(s.lastIndexOf(c)===a,"Expected targetIds to be unique in the passed array.");const d=i.getTarget(c);de(d,"Expected targetIds to be registered.")}}function qp(s,r,i){for(let a=s.length-1;a>=0;a--){const c=s[a],d=r.getTargetType(c);sa(d,i)||s.splice(a,1)}}function Gp(s,r,i){s.forEach(function(a){i.getTarget(a).hover(r,a)})}function Yp(s){return function(){if(s.getMonitor().isDragging())return{type:ma}}}function Xp(s){return{beginDrag:Pp(s),publishDragSource:Yp(s),hover:Vp(s),drop:zp(s),endDrag:Wp(s)}}class Zp{receiveBackend(r){this.backend=r}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const r=this,{dispatch:i}=this.store;function a(d){return(...g)=>{const p=d.apply(r,g);typeof p<"u"&&i(p)}}const c=Xp(this);return Object.keys(c).reduce((d,g)=>{const p=c[g];return d[g]=a(p),d},{})}dispatch(r){this.store.dispatch(r)}constructor(r,i){this.isSetUp=!1,this.handleRefCountChange=()=>{const a=this.store.getState().refCount>0;this.backend&&(a&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!a&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=r,this.monitor=i,r.subscribe(this.handleRefCountChange)}}function Jp(s,r){return{x:s.x+r.x,y:s.y+r.y}}function Fd(s,r){return{x:s.x-r.x,y:s.y-r.y}}function eg(s){const{clientOffset:r,initialClientOffset:i,initialSourceClientOffset:a}=s;return!r||!i||!a?null:Fd(Jp(r,a),i)}function tg(s){const{clientOffset:r,initialClientOffset:i}=s;return!r||!i?null:Fd(r,i)}const To=[],va=[];To.__IS_NONE__=!0;va.__IS_ALL__=!0;function ng(s,r){return s===To?!1:s===va||typeof r>"u"?!0:Np(r,s).length>0}class rg{subscribeToStateChange(r,i={}){const{handlerIds:a}=i;de(typeof r=="function","listener must be a function."),de(typeof a>"u"||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");let c=this.store.getState().stateId;const d=()=>{const g=this.store.getState(),p=g.stateId;try{p===c||p===c+1&&!ng(g.dirtyHandlerIds,a)||r()}finally{c=p}};return this.store.subscribe(d)}subscribeToOffsetChange(r){de(typeof r=="function","listener must be a function.");let i=this.store.getState().dragOffset;const a=()=>{const c=this.store.getState().dragOffset;c!==i&&(i=c,r())};return this.store.subscribe(a)}canDragSource(r){if(!r)return!1;const i=this.registry.getSource(r);return de(i,`Expected to find a valid source. sourceId=${r}`),this.isDragging()?!1:i.canDrag(this,r)}canDropOnTarget(r){if(!r)return!1;const i=this.registry.getTarget(r);if(de(i,`Expected to find a valid target. targetId=${r}`),!this.isDragging()||this.didDrop())return!1;const a=this.registry.getTargetType(r),c=this.getItemType();return sa(a,c)&&i.canDrop(this,r)}isDragging(){return!!this.getItemType()}isDraggingSource(r){if(!r)return!1;const i=this.registry.getSource(r,!0);if(de(i,`Expected to find a valid source. sourceId=${r}`),!this.isDragging()||!this.isSourcePublic())return!1;const a=this.registry.getSourceType(r),c=this.getItemType();return a!==c?!1:i.isDragging(this,r)}isOverTarget(r,i={shallow:!1}){if(!r)return!1;const{shallow:a}=i;if(!this.isDragging())return!1;const c=this.registry.getTargetType(r),d=this.getItemType();if(d&&!sa(c,d))return!1;const g=this.getTargetIds();if(!g.length)return!1;const p=g.indexOf(r);return a?p===g.length-1:p>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return eg(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return tg(this.store.getState().dragOffset)}constructor(r,i){this.store=r,this.registry=i}}const vd=typeof global<"u"?global:self,$d=vd.MutationObserver||vd.WebKitMutationObserver;function Ud(s){return function(){const i=setTimeout(c,0),a=setInterval(c,50);function c(){clearTimeout(i),clearInterval(a),s()}}}function og(s){let r=1;const i=new $d(s),a=document.createTextNode("");return i.observe(a,{characterData:!0}),function(){r=-r,a.data=r}}const ig=typeof $d=="function"?og:Ud;class sg{enqueueTask(r){const{queue:i,requestFlush:a}=this;i.length||(a(),this.flushing=!0),i[i.length]=r}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:r}=this;for(;this.index<r.length;){const i=this.index;if(this.index++,r[i].call(),this.index>this.capacity){for(let a=0,c=r.length-this.index;a<c;a++)r[a]=r[a+this.index];r.length-=this.index,this.index=0}}r.length=0,this.index=0,this.flushing=!1},this.registerPendingError=r=>{this.pendingErrors.push(r),this.requestErrorThrow()},this.requestFlush=ig(this.flush),this.requestErrorThrow=Ud(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class lg{call(){try{this.task&&this.task()}catch(r){this.onError(r)}finally{this.task=null,this.release(this)}}constructor(r,i){this.onError=r,this.release=i,this.task=null}}class ag{create(r){const i=this.freeTasks,a=i.length?i.pop():new lg(this.onError,c=>i[i.length]=c);return a.task=r,a}constructor(r){this.onError=r,this.freeTasks=[]}}const Bd=new sg,ug=new ag(Bd.registerPendingError);function cg(s){Bd.enqueueTask(ug.create(s))}const ya="dnd-core/ADD_SOURCE",wa="dnd-core/ADD_TARGET",Sa="dnd-core/REMOVE_SOURCE",as="dnd-core/REMOVE_TARGET";function dg(s){return{type:ya,payload:{sourceId:s}}}function fg(s){return{type:wa,payload:{targetId:s}}}function hg(s){return{type:Sa,payload:{sourceId:s}}}function pg(s){return{type:as,payload:{targetId:s}}}function gg(s){de(typeof s.canDrag=="function","Expected canDrag to be a function."),de(typeof s.beginDrag=="function","Expected beginDrag to be a function."),de(typeof s.endDrag=="function","Expected endDrag to be a function.")}function mg(s){de(typeof s.canDrop=="function","Expected canDrop to be a function."),de(typeof s.hover=="function","Expected hover to be a function."),de(typeof s.drop=="function","Expected beginDrag to be a function.")}function la(s,r){if(r&&Array.isArray(s)){s.forEach(i=>la(i,!1));return}de(typeof s=="string"||typeof s=="symbol",r?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Nt;(function(s){s.SOURCE="SOURCE",s.TARGET="TARGET"})(Nt||(Nt={}));let vg=0;function yg(){return vg++}function wg(s){const r=yg().toString();switch(s){case Nt.SOURCE:return`S${r}`;case Nt.TARGET:return`T${r}`;default:throw new Error(`Unknown Handler Role: ${s}`)}}function yd(s){switch(s[0]){case"S":return Nt.SOURCE;case"T":return Nt.TARGET;default:throw new Error(`Cannot parse handler ID: ${s}`)}}function wd(s,r){const i=s.entries();let a=!1;do{const{done:c,value:[,d]}=i.next();if(d===r)return!0;a=!!c}while(!a);return!1}class Sg{addSource(r,i){la(r),gg(i);const a=this.addHandler(Nt.SOURCE,r,i);return this.store.dispatch(dg(a)),a}addTarget(r,i){la(r,!0),mg(i);const a=this.addHandler(Nt.TARGET,r,i);return this.store.dispatch(fg(a)),a}containsHandler(r){return wd(this.dragSources,r)||wd(this.dropTargets,r)}getSource(r,i=!1){return de(this.isSourceId(r),"Expected a valid source ID."),i&&r===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(r)}getTarget(r){return de(this.isTargetId(r),"Expected a valid target ID."),this.dropTargets.get(r)}getSourceType(r){return de(this.isSourceId(r),"Expected a valid source ID."),this.types.get(r)}getTargetType(r){return de(this.isTargetId(r),"Expected a valid target ID."),this.types.get(r)}isSourceId(r){return yd(r)===Nt.SOURCE}isTargetId(r){return yd(r)===Nt.TARGET}removeSource(r){de(this.getSource(r),"Expected an existing source."),this.store.dispatch(hg(r)),cg(()=>{this.dragSources.delete(r),this.types.delete(r)})}removeTarget(r){de(this.getTarget(r),"Expected an existing target."),this.store.dispatch(pg(r)),this.dropTargets.delete(r),this.types.delete(r)}pinSource(r){const i=this.getSource(r);de(i,"Expected an existing source."),this.pinnedSourceId=r,this.pinnedSource=i}unpinSource(){de(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(r,i,a){const c=wg(r);return this.types.set(c,i),r===Nt.SOURCE?this.dragSources.set(c,a):r===Nt.TARGET&&this.dropTargets.set(c,a),c}constructor(r){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=r}}const xg=(s,r)=>s===r;function kg(s,r){return!s&&!r?!0:!s||!r?!1:s.x===r.x&&s.y===r.y}function Cg(s,r,i=xg){if(s.length!==r.length)return!1;for(let a=0;a<s.length;++a)if(!i(s[a],r[a]))return!1;return!0}function Eg(s=To,r){switch(r.type){case is:break;case ya:case wa:case as:case Sa:return To;case os:case ma:case ls:case ss:default:return va}const{targetIds:i=[],prevTargetIds:a=[]}=r.payload,c=Dp(i,a);if(!(c.length>0||!Cg(i,a)))return To;const g=a[a.length-1],p=i[i.length-1];return g!==p&&(g&&c.push(g),p&&c.push(p)),c}function _g(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function Og(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},a=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),a.forEach(function(c){_g(s,c,i[c])})}return s}const Sd={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Tg(s=Sd,r){const{payload:i}=r;switch(r.type){case ga:case os:return{initialSourceClientOffset:i.sourceClientOffset,initialClientOffset:i.clientOffset,clientOffset:i.clientOffset};case is:return kg(s.clientOffset,i.clientOffset)?s:Og({},s,{clientOffset:i.clientOffset});case ls:case ss:return Sd;default:return s}}function Dg(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function Lr(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},a=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),a.forEach(function(c){Dg(s,c,i[c])})}return s}const Ng={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function jg(s=Ng,r){const{payload:i}=r;switch(r.type){case os:return Lr({},s,{itemType:i.itemType,item:i.item,sourceId:i.sourceId,isSourcePublic:i.isSourcePublic,dropResult:null,didDrop:!1});case ma:return Lr({},s,{isSourcePublic:!0});case is:return Lr({},s,{targetIds:i.targetIds});case as:return s.targetIds.indexOf(i.targetId)===-1?s:Lr({},s,{targetIds:Tp(s.targetIds,i.targetId)});case ss:return Lr({},s,{dropResult:i.dropResult,didDrop:!0,targetIds:[]});case ls:return Lr({},s,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return s}}function Pg(s=0,r){switch(r.type){case ya:case wa:return s+1;case Sa:case as:return s-1;default:return s}}function bg(s=0){return s+1}function Lg(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function Ig(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},a=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),a.forEach(function(c){Lg(s,c,i[c])})}return s}function Mg(s={},r){return{dirtyHandlerIds:Eg(s.dirtyHandlerIds,{type:r.type,payload:Ig({},r.payload,{prevTargetIds:Op(s,"dragOperation.targetIds",[])})}),dragOffset:Tg(s.dragOffset,r),refCount:Pg(s.refCount,r),dragOperation:jg(s.dragOperation,r),stateId:bg(s.stateId)}}function Rg(s,r=void 0,i={},a=!1){const c=Ag(a),d=new rg(c,new Sg(c)),g=new Zp(c,d),p=s(g,r,i);return g.receiveBackend(p),g}function Ag(s){const r=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Ad(Mg,s&&r&&r({name:"dnd-core",instanceId:"dnd-core"}))}function zg(s,r){if(s==null)return{};var i=Fg(s,r),a,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);for(c=0;c<d.length;c++)a=d[c],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(i[a]=s[a])}return i}function Fg(s,r){if(s==null)return{};var i={},a=Object.keys(s),c,d;for(d=0;d<a.length;d++)c=a[d],!(r.indexOf(c)>=0)&&(i[c]=s[c]);return i}let xd=0;const Zi=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var $g=N.memo(function(r){var{children:i}=r,a=zg(r,["children"]);const[c,d]=Ug(a);return N.useEffect(()=>{if(d){const g=Wd();return++xd,()=>{--xd===0&&(g[Zi]=null)}}},[]),h.jsx(Rd.Provider,{value:c,children:i})});function Ug(s){if("manager"in s)return[{dragDropManager:s.manager},!1];const r=Bg(s.backend,s.context,s.options,s.debugMode),i=!s.context;return[r,i]}function Bg(s,r=Wd(),i,a){const c=r;return c[Zi]||(c[Zi]={dragDropManager:Rg(s,r,i,a)}),c[Zi]}function Wd(){return typeof global<"u"?global:window}var Wg=function s(r,i){if(r===i)return!0;if(r&&i&&typeof r=="object"&&typeof i=="object"){if(r.constructor!==i.constructor)return!1;var a,c,d;if(Array.isArray(r)){if(a=r.length,a!=i.length)return!1;for(c=a;c--!==0;)if(!s(r[c],i[c]))return!1;return!0}if(r.constructor===RegExp)return r.source===i.source&&r.flags===i.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===i.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===i.toString();if(d=Object.keys(r),a=d.length,a!==Object.keys(i).length)return!1;for(c=a;c--!==0;)if(!Object.prototype.hasOwnProperty.call(i,d[c]))return!1;for(c=a;c--!==0;){var g=d[c];if(!s(r[g],i[g]))return!1}return!0}return r!==r&&i!==i};const nr=typeof window<"u"?N.useLayoutEffect:N.useEffect;function Hd(s,r,i){const[a,c]=N.useState(()=>r(s)),d=N.useCallback(()=>{const g=r(s);Wg(a,g)||(c(g),i&&i())},[a,s,i]);return nr(d),[a,d]}function Hg(s,r,i){const[a,c]=Hd(s,r,i);return nr(function(){const g=s.getHandlerId();if(g!=null)return s.subscribeToStateChange(c,{handlerIds:[g]})},[s,c]),a}function Vd(s,r,i){return Hg(r,s||(()=>({})),()=>i.reconnect())}function Qd(s,r){const i=[...r||[]];return r==null&&typeof s!="function"&&i.push(s),N.useMemo(()=>typeof s=="function"?s():s,i)}function Vg(s){return N.useMemo(()=>s.hooks.dragSource(),[s])}function Qg(s){return N.useMemo(()=>s.hooks.dragPreview(),[s])}let Gl=!1,Yl=!1;class Kg{receiveHandlerId(r){this.sourceId=r}getHandlerId(){return this.sourceId}canDrag(){de(!Gl,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Gl=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Gl=!1}}isDragging(){if(!this.sourceId)return!1;de(!Yl,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Yl=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Yl=!1}}subscribeToStateChange(r,i){return this.internalMonitor.subscribeToStateChange(r,i)}isDraggingSource(r){return this.internalMonitor.isDraggingSource(r)}isOverTarget(r,i){return this.internalMonitor.isOverTarget(r,i)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(r){return this.internalMonitor.subscribeToOffsetChange(r)}canDragSource(r){return this.internalMonitor.canDragSource(r)}canDropOnTarget(r){return this.internalMonitor.canDropOnTarget(r)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(r){this.sourceId=null,this.internalMonitor=r.getMonitor()}}let Xl=!1;class qg{receiveHandlerId(r){this.targetId=r}getHandlerId(){return this.targetId}subscribeToStateChange(r,i){return this.internalMonitor.subscribeToStateChange(r,i)}canDrop(){if(!this.targetId)return!1;de(!Xl,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Xl=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Xl=!1}}isOver(r){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,r):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(r){this.targetId=null,this.internalMonitor=r.getMonitor()}}function Gg(s,r,i){const a=i.getRegistry(),c=a.addTarget(s,r);return[c,()=>a.removeTarget(c)]}function Yg(s,r,i){const a=i.getRegistry(),c=a.addSource(s,r);return[c,()=>a.removeSource(c)]}function aa(s,r,i,a){let c;if(c!==void 0)return!!c;if(s===r)return!0;if(typeof s!="object"||!s||typeof r!="object"||!r)return!1;const d=Object.keys(s),g=Object.keys(r);if(d.length!==g.length)return!1;const p=Object.prototype.hasOwnProperty.bind(r);for(let m=0;m<d.length;m++){const y=d[m];if(!p(y))return!1;const T=s[y],L=r[y];if(c=void 0,c===!1||c===void 0&&T!==L)return!1}return!0}function ua(s){return s!==null&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function Xg(s){if(typeof s.type=="string")return;const r=s.type.displayName||s.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${r} into a <div>, or turn it into a drag source or a drop target itself.`)}function Zg(s){return(r=null,i=null)=>{if(!N.isValidElement(r)){const d=r;return s(d,i),d}const a=r;return Xg(a),Jg(a,i?d=>s(d,i):s)}}function Kd(s){const r={};return Object.keys(s).forEach(i=>{const a=s[i];if(i.endsWith("Ref"))r[i]=s[i];else{const c=Zg(a);r[i]=()=>c}}),r}function kd(s,r){typeof s=="function"?s(r):s.current=r}function Jg(s,r){const i=s.ref;return de(typeof i!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),i?N.cloneElement(s,{ref:a=>{kd(i,a),kd(r,a)}}):N.cloneElement(s,{ref:r})}class e0{receiveHandlerId(r){this.handlerId!==r&&(this.handlerId=r,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(r){this.dragSourceOptionsInternal=r}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(r){this.dragPreviewOptionsInternal=r}reconnect(){const r=this.reconnectDragSource();this.reconnectDragPreview(r)}reconnectDragSource(){const r=this.dragSource,i=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return i&&this.disconnectDragSource(),this.handlerId?r?(i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=r,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,r,this.dragSourceOptions)),i):(this.lastConnectedDragSource=r,i):i}reconnectDragPreview(r=!1){const i=this.dragPreview,a=r||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(a&&this.disconnectDragPreview(),!!this.handlerId){if(!i){this.lastConnectedDragPreview=i;return}a&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=i,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,i,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!aa(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!aa(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(r){this.hooks=Kd({dragSource:(i,a)=>{this.clearDragSource(),this.dragSourceOptions=a||null,ua(i)?this.dragSourceRef=i:this.dragSourceNode=i,this.reconnectDragSource()},dragPreview:(i,a)=>{this.clearDragPreview(),this.dragPreviewOptions=a||null,ua(i)?this.dragPreviewRef=i:this.dragPreviewNode=i,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=r}}class t0{get connectTarget(){return this.dropTarget}reconnect(){const r=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();r&&this.disconnectDropTarget();const i=this.dropTarget;if(this.handlerId){if(!i){this.lastConnectedDropTarget=i;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=i,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,i,this.dropTargetOptions))}}receiveHandlerId(r){r!==this.handlerId&&(this.handlerId=r,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(r){this.dropTargetOptionsInternal=r}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!aa(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(r){this.hooks=Kd({dropTarget:(i,a)=>{this.clearDropTarget(),this.dropTargetOptions=a,ua(i)?this.dropTargetRef=i:this.dropTargetNode=i,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=r}}function rr(){const{dragDropManager:s}=N.useContext(Rd);return de(s!=null,"Expected drag drop context"),s}function n0(s,r){const i=rr(),a=N.useMemo(()=>new e0(i.getBackend()),[i]);return nr(()=>(a.dragSourceOptions=s||null,a.reconnect(),()=>a.disconnectDragSource()),[a,s]),nr(()=>(a.dragPreviewOptions=r||null,a.reconnect(),()=>a.disconnectDragPreview()),[a,r]),a}function r0(){const s=rr();return N.useMemo(()=>new Kg(s),[s])}class o0{beginDrag(){const r=this.spec,i=this.monitor;let a=null;return typeof r.item=="object"?a=r.item:typeof r.item=="function"?a=r.item(i):a={},a??null}canDrag(){const r=this.spec,i=this.monitor;return typeof r.canDrag=="boolean"?r.canDrag:typeof r.canDrag=="function"?r.canDrag(i):!0}isDragging(r,i){const a=this.spec,c=this.monitor,{isDragging:d}=a;return d?d(c):i===r.getSourceId()}endDrag(){const r=this.spec,i=this.monitor,a=this.connector,{end:c}=r;c&&c(i.getItem(),i),a.reconnect()}constructor(r,i,a){this.spec=r,this.monitor=i,this.connector=a}}function i0(s,r,i){const a=N.useMemo(()=>new o0(s,r,i),[r,i]);return N.useEffect(()=>{a.spec=s},[s]),a}function s0(s){return N.useMemo(()=>{const r=s.type;return de(r!=null,"spec.type must be defined"),r},[s])}function l0(s,r,i){const a=rr(),c=i0(s,r,i),d=s0(s);nr(function(){if(d!=null){const[p,m]=Yg(d,c,a);return r.receiveHandlerId(p),i.receiveHandlerId(p),m}},[a,r,i,c,d])}function a0(s,r){const i=Qd(s,r);de(!i.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const a=r0(),c=n0(i.options,i.previewOptions);return l0(i,a,c),[Vd(i.collect,a,c),Vg(c),Qg(c)]}function u0(s){const i=rr().getMonitor(),[a,c]=Hd(i,s);return N.useEffect(()=>i.subscribeToOffsetChange(c)),N.useEffect(()=>i.subscribeToStateChange(c)),a}function c0(s){return N.useMemo(()=>s.hooks.dropTarget(),[s])}function d0(s){const r=rr(),i=N.useMemo(()=>new t0(r.getBackend()),[r]);return nr(()=>(i.dropTargetOptions=s||null,i.reconnect(),()=>i.disconnectDropTarget()),[s]),i}function f0(){const s=rr();return N.useMemo(()=>new qg(s),[s])}function h0(s){const{accept:r}=s;return N.useMemo(()=>(de(s.accept!=null,"accept must be defined"),Array.isArray(r)?r:[r]),[r])}class p0{canDrop(){const r=this.spec,i=this.monitor;return r.canDrop?r.canDrop(i.getItem(),i):!0}hover(){const r=this.spec,i=this.monitor;r.hover&&r.hover(i.getItem(),i)}drop(){const r=this.spec,i=this.monitor;if(r.drop)return r.drop(i.getItem(),i)}constructor(r,i){this.spec=r,this.monitor=i}}function g0(s,r){const i=N.useMemo(()=>new p0(s,r),[r]);return N.useEffect(()=>{i.spec=s},[s]),i}function m0(s,r,i){const a=rr(),c=g0(s,r),d=h0(s);nr(function(){const[p,m]=Gg(d,c,a);return r.receiveHandlerId(p),i.receiveHandlerId(p),m},[a,r,c,i,d.map(g=>g.toString()).join("|")])}function v0(s,r){const i=Qd(s,r),a=f0(),c=d0(i.options);return m0(i,a,c),[Vd(i.collect,a,c),c0(c)]}function qd(s){let r=null;return()=>(r==null&&(r=s()),r)}function y0(s,r){return s.filter(i=>i!==r)}function w0(s,r){const i=new Set,a=d=>i.add(d);s.forEach(a),r.forEach(a);const c=[];return i.forEach(d=>c.push(d)),c}class S0{enter(r){const i=this.entered.length,a=c=>this.isNodeInDocument(c)&&(!c.contains||c.contains(r));return this.entered=w0(this.entered.filter(a),[r]),i===0&&this.entered.length>0}leave(r){const i=this.entered.length;return this.entered=y0(this.entered.filter(this.isNodeInDocument),r),i>0&&this.entered.length===0}reset(){this.entered=[]}constructor(r){this.entered=[],this.isNodeInDocument=r}}class x0{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(r=>{Object.defineProperty(this.item,r,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${r}" until the drop event.`),null}})})}loadDataTransfer(r){if(r){const i={};Object.keys(this.config.exposeProperties).forEach(a=>{const c=this.config.exposeProperties[a];c!=null&&(i[a]={value:c(r,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,i)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(r,i){return i===r.getSourceId()}endDrag(){}constructor(r){this.config=r,this.item={},this.initializeExposedProperties()}}const Gd="__NATIVE_FILE__",Yd="__NATIVE_URL__",Xd="__NATIVE_TEXT__",Zd="__NATIVE_HTML__";var Cd=Object.freeze({__proto__:null,FILE:Gd,HTML:Zd,TEXT:Xd,URL:Yd});function Zl(s,r,i){const a=r.reduce((c,d)=>c||s.getData(d),"");return a??i}const ca={[Gd]:{exposeProperties:{files:s=>Array.prototype.slice.call(s.files),items:s=>s.items,dataTransfer:s=>s},matchesTypes:["Files"]},[Zd]:{exposeProperties:{html:(s,r)=>Zl(s,r,""),dataTransfer:s=>s},matchesTypes:["Html","text/html"]},[Yd]:{exposeProperties:{urls:(s,r)=>Zl(s,r,"").split(`
`),dataTransfer:s=>s},matchesTypes:["Url","text/uri-list"]},[Xd]:{exposeProperties:{text:(s,r)=>Zl(s,r,""),dataTransfer:s=>s},matchesTypes:["Text","text/plain"]}};function k0(s,r){const i=ca[s];if(!i)throw new Error(`native type ${s} has no configuration`);const a=new x0(i);return a.loadDataTransfer(r),a}function Jl(s){if(!s)return null;const r=Array.prototype.slice.call(s.types||[]);return Object.keys(ca).filter(i=>{const a=ca[i];return a!=null&&a.matchesTypes?a.matchesTypes.some(c=>r.indexOf(c)>-1):!1})[0]||null}const C0=qd(()=>/firefox/i.test(navigator.userAgent)),Jd=qd(()=>!!window.safari);class Ed{interpolate(r){const{xs:i,ys:a,c1s:c,c2s:d,c3s:g}=this;let p=i.length-1;if(r===i[p])return a[p];let m=0,y=g.length-1,T;for(;m<=y;){T=Math.floor(.5*(m+y));const j=i[T];if(j<r)m=T+1;else if(j>r)y=T-1;else return a[T]}p=Math.max(0,y);const L=r-i[p],k=L*L;return a[p]+c[p]*L+d[p]*k+g[p]*L*k}constructor(r,i){const{length:a}=r,c=[];for(let j=0;j<a;j++)c.push(j);c.sort((j,E)=>r[j]<r[E]?-1:1);const d=[],g=[];let p,m;for(let j=0;j<a-1;j++)p=r[j+1]-r[j],m=i[j+1]-i[j],d.push(p),g.push(m/p);const y=[g[0]];for(let j=0;j<d.length-1;j++){const E=g[j],x=g[j+1];if(E*x<=0)y.push(0);else{p=d[j];const O=d[j+1],A=p+O;y.push(3*A/((A+O)/E+(A+p)/x))}}y.push(g[g.length-1]);const T=[],L=[];let k;for(let j=0;j<y.length-1;j++){k=g[j];const E=y[j],x=1/d[j],O=E+y[j+1]-k-k;T.push((k-E-O)*x),L.push(O*x*x)}this.xs=r,this.ys=i,this.c1s=y,this.c2s=T,this.c3s=L}}const E0=1;function ef(s){const r=s.nodeType===E0?s:s.parentElement;if(!r)return null;const{top:i,left:a}=r.getBoundingClientRect();return{x:a,y:i}}function Qi(s){return{x:s.clientX,y:s.clientY}}function _0(s){var r;return s.nodeName==="IMG"&&(C0()||!(!((r=document.documentElement)===null||r===void 0)&&r.contains(s)))}function O0(s,r,i,a){let c=s?r.width:i,d=s?r.height:a;return Jd()&&s&&(d/=window.devicePixelRatio,c/=window.devicePixelRatio),{dragPreviewWidth:c,dragPreviewHeight:d}}function T0(s,r,i,a,c){const d=_0(r),p=ef(d?s:r),m={x:i.x-p.x,y:i.y-p.y},{offsetWidth:y,offsetHeight:T}=s,{anchorX:L,anchorY:k}=a,{dragPreviewWidth:j,dragPreviewHeight:E}=O0(d,r,y,T),x=()=>{let ne=new Ed([0,.5,1],[m.y,m.y/T*E,m.y+E-T]).interpolate(k);return Jd()&&d&&(ne+=(window.devicePixelRatio-1)*E),ne},O=()=>new Ed([0,.5,1],[m.x,m.x/y*j,m.x+j-y]).interpolate(L),{offsetX:A,offsetY:R}=c,z=A===0||A,V=R===0||R;return{x:z?A:O(),y:V?R:x()}}let D0=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var r;return!((r=this.globalContext)===null||r===void 0)&&r.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var r;return((r=this.optionsArgs)===null||r===void 0?void 0:r.rootElement)||this.window}constructor(r,i){this.ownerDocument=null,this.globalContext=r,this.optionsArgs=i}};function N0(s,r,i){return r in s?Object.defineProperty(s,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[r]=i,s}function _d(s){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{},a=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable}))),a.forEach(function(c){N0(s,c,i[c])})}return s}class j0{profile(){var r,i;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((r=this.dragStartSourceIds)===null||r===void 0?void 0:r.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((i=this.dragOverTargetIds)===null||i===void 0?void 0:i.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const r=this.rootElement;if(r!==void 0){if(r.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");r.__isReactDndBackendSetUp=!0,this.addEventListeners(r)}}teardown(){const r=this.rootElement;if(r!==void 0&&(r.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var i;(i=this.window)===null||i===void 0||i.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(r,i,a){return this.sourcePreviewNodeOptions.set(r,a),this.sourcePreviewNodes.set(r,i),()=>{this.sourcePreviewNodes.delete(r),this.sourcePreviewNodeOptions.delete(r)}}connectDragSource(r,i,a){this.sourceNodes.set(r,i),this.sourceNodeOptions.set(r,a);const c=g=>this.handleDragStart(g,r),d=g=>this.handleSelectStart(g);return i.setAttribute("draggable","true"),i.addEventListener("dragstart",c),i.addEventListener("selectstart",d),()=>{this.sourceNodes.delete(r),this.sourceNodeOptions.delete(r),i.removeEventListener("dragstart",c),i.removeEventListener("selectstart",d),i.setAttribute("draggable","false")}}connectDropTarget(r,i){const a=g=>this.handleDragEnter(g,r),c=g=>this.handleDragOver(g,r),d=g=>this.handleDrop(g,r);return i.addEventListener("dragenter",a),i.addEventListener("dragover",c),i.addEventListener("drop",d),()=>{i.removeEventListener("dragenter",a),i.removeEventListener("dragover",c),i.removeEventListener("drop",d)}}addEventListeners(r){r.addEventListener&&(r.addEventListener("dragstart",this.handleTopDragStart),r.addEventListener("dragstart",this.handleTopDragStartCapture,!0),r.addEventListener("dragend",this.handleTopDragEndCapture,!0),r.addEventListener("dragenter",this.handleTopDragEnter),r.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.addEventListener("dragover",this.handleTopDragOver),r.addEventListener("dragover",this.handleTopDragOverCapture,!0),r.addEventListener("drop",this.handleTopDrop),r.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(r){r.removeEventListener&&(r.removeEventListener("dragstart",this.handleTopDragStart),r.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),r.removeEventListener("dragend",this.handleTopDragEndCapture,!0),r.removeEventListener("dragenter",this.handleTopDragEnter),r.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.removeEventListener("dragover",this.handleTopDragOver),r.removeEventListener("dragover",this.handleTopDragOverCapture,!0),r.removeEventListener("drop",this.handleTopDrop),r.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const r=this.monitor.getSourceId(),i=this.sourceNodeOptions.get(r);return _d({dropEffect:this.altKeyPressed?"copy":"move"},i||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const r=this.monitor.getSourceId(),i=this.sourcePreviewNodeOptions.get(r);return _d({anchorX:.5,anchorY:.5,captureDraggingState:!1},i||{})}isDraggingNativeItem(){const r=this.monitor.getItemType();return Object.keys(Cd).some(i=>Cd[i]===r)}beginDragNativeItem(r,i){this.clearCurrentDragSourceNode(),this.currentNativeSource=k0(r,i),this.currentNativeHandle=this.registry.addSource(r,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(r){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=r;const i=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var a;return(a=this.rootElement)===null||a===void 0?void 0:a.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},i)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var r;(r=this.window)===null||r===void 0||r.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(r,i){r.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(i))}handleDragEnter(r,i){this.dragEnterTargetIds.unshift(i)}handleDragOver(r,i){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(i)}handleDrop(r,i){this.dropTargetIds.unshift(i)}constructor(r,i,a){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=c=>{const d=this.sourceNodes.get(c);return d&&ef(d)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=c=>!!(c&&this.document&&this.document.body&&this.document.body.contains(c)),this.endDragIfSourceWasRemovedFromDOM=()=>{const c=this.currentDragSourceNode;c==null||this.isNodeInDocument(c)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=c=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(c||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=c=>{if(c.defaultPrevented)return;const{dragStartSourceIds:d}=this;this.dragStartSourceIds=null;const g=Qi(c);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(d||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:g});const{dataTransfer:p}=c,m=Jl(p);if(this.monitor.isDragging()){if(p&&typeof p.setDragImage=="function"){const T=this.monitor.getSourceId(),L=this.sourceNodes.get(T),k=this.sourcePreviewNodes.get(T)||L;if(k){const{anchorX:j,anchorY:E,offsetX:x,offsetY:O}=this.getCurrentSourcePreviewNodeOptions(),z=T0(L,k,g,{anchorX:j,anchorY:E},{offsetX:x,offsetY:O});p.setDragImage(k,z.x,z.y)}}try{p==null||p.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(c.target);const{captureDraggingState:y}=this.getCurrentSourcePreviewNodeOptions();y?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(m)this.beginDragNativeItem(m);else{if(p&&!p.types&&(c.target&&!c.target.hasAttribute||!c.target.hasAttribute("draggable")))return;c.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=c=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var d;(d=this.currentNativeSource)===null||d===void 0||d.loadDataTransfer(c.dataTransfer)}if(!this.enterLeaveCounter.enter(c.target)||this.monitor.isDragging())return;const{dataTransfer:p}=c,m=Jl(p);m&&this.beginDragNativeItem(m,p)},this.handleTopDragEnter=c=>{const{dragEnterTargetIds:d}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=c.altKey,d.length>0&&this.actions.hover(d,{clientOffset:Qi(c)}),d.some(p=>this.monitor.canDropOnTarget(p))&&(c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=c=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var d;(d=this.currentNativeSource)===null||d===void 0||d.loadDataTransfer(c.dataTransfer)}},this.handleTopDragOver=c=>{const{dragOverTargetIds:d}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect="none");return}this.altKeyPressed=c.altKey,this.lastClientOffset=Qi(c),this.scheduleHover(d),(d||[]).some(p=>this.monitor.canDropOnTarget(p))?(c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?c.preventDefault():(c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=c=>{this.isDraggingNativeItem()&&c.preventDefault(),this.enterLeaveCounter.leave(c.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=c=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var d;c.preventDefault(),(d=this.currentNativeSource)===null||d===void 0||d.loadDataTransfer(c.dataTransfer)}else Jl(c.dataTransfer)&&c.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=c=>{const{dropTargetIds:d}=this;this.dropTargetIds=[],this.actions.hover(d,{clientOffset:Qi(c)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=c=>{const d=c.target;typeof d.dragDrop=="function"&&(d.tagName==="INPUT"||d.tagName==="SELECT"||d.tagName==="TEXTAREA"||d.isContentEditable||(c.preventDefault(),d.dragDrop()))},this.options=new D0(i,a),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.registry=r.getRegistry(),this.enterLeaveCounter=new S0(this.isNodeInDocument)}}let Ki;function P0(){return Ki||(Ki=new Image,Ki.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Ki}const b0=function(r,i,a){return new j0(r,i,a)};function Od({isPremovedPiece:s=!1,piece:r,square:i,squares:a}){const{animationDuration:c,arePiecesDraggable:d,boardWidth:g,boardOrientation:p,chessPieces:m,currentPosition:y,deletePieceFromSquare:T,dropOffBoardAction:L,id:k,isDraggablePiece:j,isWaitingForAnimation:E,onPieceClick:x,onPieceDragBegin:O,onPieceDragEnd:A,onPieceDropOffBoard:R,onPromotionCheck:z,positionDifferences:V}=tn(),[Y,ne]=N.useState({opacity:1,zIndex:5,touchAction:"none",cursor:d&&j({piece:r,sourceSquare:i})?"-webkit-grab":"default"}),[{canDrag:ue,isDragging:he},ke,je]=a0(()=>({type:"piece",item:()=>(O(r,i),{piece:r,square:i,id:k}),end:(ge,ye)=>{A(r,i),!ye.didDrop()&&(L==="trash"&&T(i),R==null||R(i,r))},collect:ge=>({canDrag:j({piece:r,sourceSquare:i}),isDragging:!!ge.isDragging()})}),[r,i,y,k]);je(P0(),{captureDraggingState:!0}),N.useEffect(()=>{ne(ge=>Object.assign(Object.assign({},ge),{opacity:he?0:1}))},[he]),N.useEffect(()=>{var ge;const ye=(ge=V.removed)===null||ge===void 0?void 0:ge[i];if(!V.added||!ye)return;const Ie=Object.entries(V.added).find(([Te,we])=>we===ye||z(i,Te,ye));if(E&&ye&&Ie&&!s){const Te=i,we=Ie[0];if(Te&&we){const fe=g/8;ne(W=>Object.assign(Object.assign({},W),{transform:`translate(${(p==="black"?-1:1)*(we.charCodeAt(0)-Te.charCodeAt(0))*fe}px, ${(p==="black"?-1:1)*(Number(Te[1])-Number(we[1]))*fe}px)`,transition:`transform ${c}ms`,zIndex:6}))}}},[V]),N.useEffect(()=>{const{sourceSq:ge}=Oe();ge&&ne(ye=>Object.assign(Object.assign({},ye),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[y]),N.useEffect(()=>{ne(ge=>Object.assign(Object.assign({},ge),{cursor:d&&j({piece:r,sourceSquare:i})?"-webkit-grab":"default"}))},[i,y,d]);function Oe(){return{sourceSq:a[i]}}return h.jsx("div",Object.assign({ref:d&&ue?ke:null,onClick:()=>x(r,i),"data-piece":r,style:Y},{children:typeof m[r]=="function"?m[r]({squareWidth:g/8,isDragging:he,square:i}):h.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:g/8,height:g/8,style:{display:"block"}},{children:h.jsx("g",{children:m[r]})}))}))}function L0({square:s,squareColor:r,setSquares:i,squareHasPremove:a,children:c}){const d=N.useRef(null),{autoPromoteToQueen:g,boardWidth:p,boardOrientation:m,clearArrows:y,currentPosition:T,currentRightClickDown:L,customBoardStyle:k,customDarkSquareStyle:j,customDropSquareStyle:E,customLightSquareStyle:x,customPremoveDarkSquareStyle:O,customPremoveLightSquareStyle:A,customSquare:R,customSquareStyles:z,drawNewArrow:V,handleSetPosition:Y,handleSparePieceDrop:ne,isWaitingForAnimation:ue,lastPieceColour:he,lastSquareDraggedOver:ke,onArrowDrawEnd:je,onDragOverSquare:Oe,onMouseOutSquare:ge,onMouseOverSquare:ye,onPieceDrop:Ie,onPromotionCheck:Te,onRightClickDown:we,onRightClickUp:fe,onSquareClick:W,setLastSquareDraggedOver:I,setPromoteFromSquare:M,setPromoteToSquare:w,setShowPromoteDialog:b}=tn(),[{isOver:K},re]=v0(()=>({accept:"piece",drop:se,collect:H=>({isOver:!!H.isOver()})}),[s,T,Ie,ue,he]);function se(H){if(H.isSpare){ne(H.piece,s);return}Te(H.square,s,H.piece)?g?Y(H.square,s,H.piece[0]==="w"?"wQ":"bQ"):(M(H.square),w(s),b(!0)):Y(H.square,s,H.piece,!0)}N.useEffect(()=>{if(d.current){const{x:H,y:q}=d.current.getBoundingClientRect();i(le=>Object.assign(Object.assign({},le),{[s]:{x:H,y:q}}))}},[p,m]);const Q=Object.assign(Object.assign(Object.assign(Object.assign({},I0(s,m,k)),r==="black"?j:x),a&&(r==="black"?O:A)),K&&E);return h.jsx("div",Object.assign({ref:re,style:Q,"data-square-color":r,"data-square":s,onTouchMove:H=>{var q;const le=H.touches[0],te=document.elementsFromPoint(le.clientX,le.clientY),ve=(q=te==null?void 0:te.find(Ce=>Ce.getAttribute("data-square")))===null||q===void 0?void 0:q.getAttribute("data-square");ve&&ve!==ke&&(I(ve),Oe(ve))},onMouseOver:H=>{H.buttons===2&&L&&V(L,s),!(H.relatedTarget&&H.currentTarget.contains(H.relatedTarget))&&ye(s)},onMouseOut:H=>{H.relatedTarget&&H.currentTarget.contains(H.relatedTarget)||ge(s)},onMouseDown:H=>{H.button===2&&we(s)},onMouseUp:H=>{H.button===2&&(L&&je(L,s),fe(s))},onDragEnter:()=>Oe(s),onClick:()=>{const H=T[s];W(s,H),y()},onContextMenu:H=>{H.preventDefault()}},{children:typeof R=="string"?h.jsx(R,Object.assign({ref:d,style:Object.assign(Object.assign(Object.assign({},Dd(p)),Td),!a&&(z==null?void 0:z[s]))},{children:c})):h.jsx(R,Object.assign({ref:d,square:s,squareColor:r,style:Object.assign(Object.assign(Object.assign({},Dd(p)),Td),!a&&(z==null?void 0:z[s]))},{children:c}))}))}const Td={display:"flex",justifyContent:"center"},Dd=s=>({width:s/8,height:s/8}),I0=(s,r,i)=>i!=null&&i.borderRadius?s==="a1"?r==="white"?{borderBottomLeftRadius:i.borderRadius}:{borderTopRightRadius:i.borderRadius}:s==="a8"?r==="white"?{borderTopLeftRadius:i.borderRadius}:{borderBottomRightRadius:i.borderRadius}:s==="h1"?r==="white"?{borderBottomRightRadius:i.borderRadius}:{borderTopLeftRadius:i.borderRadius}:s==="h8"?r==="white"?{borderTopRightRadius:i.borderRadius}:{borderBottomLeftRadius:i.borderRadius}:{}:{};function M0(){const[s,r]=N.useState({}),{arePremovesAllowed:i,boardOrientation:a,boardWidth:c,currentPosition:d,id:g,premoves:p,showBoardNotation:m}=tn(),y=N.useMemo(()=>{const T=[];return i?(p.forEach((L,k)=>{const{sourceSq:j,targetSq:E,piece:x}=L,O=T.find(A=>{var R;return A.piece===x&&((R=A.premovesRoute.at(-1))===null||R===void 0?void 0:R.targetSq)===j});O?O.premovesRoute.push({sourceSq:j,targetSq:E,index:k}):T.push({piece:x,premovesRoute:[{sourceSq:j,targetSq:E,index:k}]})}),T):[]},[p]);return h.jsx("div",Object.assign({"data-boardid":g},{children:[...Array(8)].map((T,L)=>h.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:c}},{children:[...Array(8)].map((k,j)=>{const E=a==="black"?jo[7-j]+(L+1):jo[j]+(8-L),x=j%2===L%2?"white":"black",O=p.find(R=>R.sourceSq===E||R.targetSq===E),A=y.filter(({premovesRoute:R})=>{var z;return((z=R.at(-1))===null||z===void 0?void 0:z.targetSq)===E}).sort((R,z)=>{var V,Y;return((V=z.premovesRoute.at(-1))===null||V===void 0?void 0:V.index)-((Y=R.premovesRoute.at(-1))===null||Y===void 0?void 0:Y.index)}).at(0);return h.jsxs(L0,Object.assign({square:E,squareColor:x,setSquares:r,squareHasPremove:!!O},{children:[!O&&d[E]&&h.jsx(Od,{piece:d[E],square:E,squares:s}),A&&h.jsx(Od,{isPremovedPiece:!0,piece:A.piece,square:E,squares:s}),m&&h.jsx(Cp,{row:L,col:j})]}),`${j}${L}`)})}),L.toString()))}))}const R0=()=>{const{arrows:s,newArrow:r,boardOrientation:i,boardWidth:a,customArrowColor:c}=tn(),d=[...s,r].filter(Boolean);return h.jsx("svg",Object.assign({width:a,height:a,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:d.map((g,p)=>{const[m,y,T]=g;if(m===y)return null;const L=ia(i,a,m),k=ia(i,a,y);let j=a/32;const E=p===s.length;s.some(z=>z[0]!==m&&z[1]===y)&&!E&&(j=a/16);const x=k.x-L.x,O=k.y-L.y,A=Math.hypot(O,x),R={x:L.x+x*(A-j)/A,y:L.y+O*(A-j)/A};return h.jsxs(N.Fragment,{children:[h.jsx("marker",Object.assign({id:`arrowhead-${p}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:h.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:T??c})})),h.jsx("line",{x1:L.x,y1:L.y,x2:R.x,y2:R.y,opacity:E?"0.5":"0.65",stroke:T??c,strokeWidth:E?.9*a/40:a/40,markerEnd:`url(#arrowhead-${p})`})]},`${m}-${y}${E?"-active":""}`)})}))};function A0({option:s}){const[r,i]=N.useState(!1),{boardWidth:a,chessPieces:c,customDarkSquareStyle:d,customLightSquareStyle:g,handleSetPosition:p,onPromotionPieceSelect:m,promoteFromSquare:y,promoteToSquare:T,promotionDialogVariant:L}=tn(),k=()=>{switch(s[1]){case"Q":return d.backgroundColor;case"R":return g.backgroundColor;case"N":return L==="default"?g.backgroundColor:d.backgroundColor;case"B":return L==="default"?d.backgroundColor:g.backgroundColor}};return h.jsx("div",Object.assign({onClick:()=>{m(s,y??void 0,T??void 0)&&p(y,T,s,!0)},onMouseOver:()=>i(!0),onMouseOut:()=>i(!1),"data-piece":s,style:{cursor:"pointer",backgroundColor:r?k():`${k()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof c[s]=="function"?h.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:r?"scale(1)":"scale(0.85)"}},{children:c[s]({squareWidth:a/8,isDragging:!1})})):h.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:a/8,height:a/8,style:{transition:"all 0.1s ease-out",transform:r?"scale(1)":"scale(0.85)"}},{children:h.jsx("g",{children:c[s]})}))}))}function z0(){const{boardOrientation:s,boardWidth:r,promotionDialogVariant:i,promoteToSquare:a}=tn(),c=(a==null?void 0:a[1])==="1"?"b":"w",d=[`${c??"w"}Q`,`${c??"w"}R`,`${c??"w"}N`,`${c??"w"}B`],g={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-r/8}px, ${-r/8}px)`},vertical:{transform:`translate(${-r/16}px, ${-r/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*r/8}px)`,width:"100%",height:`${r/4}px`,top:0,backgroundColor:"white",left:0}},p=ia(s,r,a||"a8");return h.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${p==null?void 0:p.y}px`,left:`${p==null?void 0:p.x}px`,zIndex:1e3},g[i]),title:"Choose promotion piece"},{children:d.map(m=>h.jsx(A0,{option:m},m))}))}const F0={whiteKing:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:h.jsx("g",{children:h.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function $0({children:s}){try{return h.jsx(h.Fragment,{children:s})}catch(r){return console.log(r),h.jsx(tf,{showError:!0})}}function tf({showError:s=!1}){return h.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[h.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:F0.whiteKing})),s&&h.jsx("h1",{children:"Something went wrong"})]}))}function U0(){const s=N.useRef(null),{boardWidth:r,clearCurrentRightClickDown:i,onPromotionPieceSelect:a,setShowPromoteDialog:c,showPromoteDialog:d,customBoardStyle:g}=tn();return N.useEffect(()=>{function p(m){s.current&&!s.current.contains(m.target)&&i()}return document.addEventListener("mouseup",p),()=>{document.removeEventListener("mouseup",p)}},[]),r?h.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:h.jsxs("div",Object.assign({ref:s,style:Object.assign(Object.assign({position:"relative"},B0(r)),g)},{children:[h.jsx(M0,{}),h.jsx(R0,{}),d&&h.jsxs(h.Fragment,{children:[h.jsx("div",{onClick:()=>{c(!1),a==null||a()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:r,height:r}}),h.jsx(z0,{})]})]}))})):h.jsx(tf,{})}const B0=s=>({cursor:"default",height:s,width:s});var Pn;(function(s){s.mouse="mouse",s.touch="touch",s.keyboard="keyboard"})(Pn||(Pn={}));class W0{get delay(){var r;return(r=this.args.delay)!==null&&r!==void 0?r:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var r;return(r=this.args.ignoreContextMenu)!==null&&r!==void 0?r:!1}get enableHoverOutsideTarget(){var r;return(r=this.args.enableHoverOutsideTarget)!==null&&r!==void 0?r:!1}get enableKeyboardEvents(){var r;return(r=this.args.enableKeyboardEvents)!==null&&r!==void 0?r:!1}get enableMouseEvents(){var r;return(r=this.args.enableMouseEvents)!==null&&r!==void 0?r:!1}get enableTouchEvents(){var r;return(r=this.args.enableTouchEvents)!==null&&r!==void 0?r:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var r,i,a,c;return(c=(a=(r=this.args)===null||r===void 0?void 0:r.delayTouchStart)!==null&&a!==void 0?a:(i=this.args)===null||i===void 0?void 0:i.delay)!==null&&c!==void 0?c:0}get delayMouseStart(){var r,i,a,c;return(c=(a=(r=this.args)===null||r===void 0?void 0:r.delayMouseStart)!==null&&a!==void 0?a:(i=this.args)===null||i===void 0?void 0:i.delay)!==null&&c!==void 0?c:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var r;if(!((r=this.context)===null||r===void 0)&&r.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var r;return((r=this.args)===null||r===void 0?void 0:r.rootElement)||this.document}constructor(r,i){this.args=r,this.context=i}}function H0(s,r,i,a){return Math.sqrt(Math.pow(Math.abs(i-s),2)+Math.pow(Math.abs(a-r),2))}function V0(s,r,i,a,c){if(!c)return!1;const d=Math.atan2(a-r,i-s)*180/Math.PI+180;for(let g=0;g<c.length;++g){const p=c[g];if(p&&(p.start==null||d>=p.start)&&(p.end==null||d<=p.end))return!0}return!1}const Q0={Left:1},K0={Left:0};function ea(s){return s.button===void 0||s.button===K0.Left}function q0(s){return s.buttons===void 0||(s.buttons&Q0.Left)===0}function nf(s){return!!s.targetTouches}const G0=1;function Y0(s){const r=s.nodeType===G0?s:s.parentElement;if(!r)return;const{top:i,left:a}=r.getBoundingClientRect();return{x:a,y:i}}function X0(s,r){if(s.targetTouches.length===1)return es(s.targetTouches[0]);if(r&&s.touches.length===1&&s.touches[0].target===r.target)return es(s.touches[0])}function es(s,r){return nf(s)?X0(s,r):{x:s.clientX,y:s.clientY}}const Nd=(()=>{let s=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return s=!0,!0}}))}catch{}return s})(),Eo={[Pn.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Pn.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Pn.keyboard]:{keydown:"keydown"}};class Do{profile(){var r;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get document(){return this.options.document}setup(){const r=this.options.rootElement;r&&(de(!Do.isSetUp,"Cannot have two Touch backends at the same time."),Do.isSetUp=!0,this.addEventListener(r,"start",this.getTopMoveStartHandler()),this.addEventListener(r,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(r,"move",this.handleTopMove),this.addEventListener(r,"move",this.handleTopMoveCapture,!0),this.addEventListener(r,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(r,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(r,"keydown",this.handleCancelOnEscape,!0))}teardown(){const r=this.options.rootElement;r&&(Do.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(r,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(r,"start",this.handleTopMoveStart),this.removeEventListener(r,"move",this.handleTopMoveCapture,!0),this.removeEventListener(r,"move",this.handleTopMove),this.removeEventListener(r,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(r,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(r,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(r,i,a,c=!1){const d=Nd?{capture:c,passive:!1}:c;this.listenerTypes.forEach(function(g){const p=Eo[g][i];p&&r.addEventListener(p,a,d)})}removeEventListener(r,i,a,c=!1){const d=Nd?{capture:c,passive:!1}:c;this.listenerTypes.forEach(function(g){const p=Eo[g][i];p&&r.removeEventListener(p,a,d)})}connectDragSource(r,i){const a=this.handleMoveStart.bind(this,r);return this.sourceNodes.set(r,i),this.addEventListener(i,"start",a),()=>{this.sourceNodes.delete(r),this.removeEventListener(i,"start",a)}}connectDragPreview(r,i,a){return this.sourcePreviewNodeOptions.set(r,a),this.sourcePreviewNodes.set(r,i),()=>{this.sourcePreviewNodes.delete(r),this.sourcePreviewNodeOptions.delete(r)}}connectDropTarget(r,i){const a=this.options.rootElement;if(!this.document||!a)return()=>{};const c=d=>{if(!this.document||!a||!this.monitor.isDragging())return;let g;switch(d.type){case Eo.mouse.move:g={x:d.clientX,y:d.clientY};break;case Eo.touch.move:var p,m;g={x:((p=d.touches[0])===null||p===void 0?void 0:p.clientX)||0,y:((m=d.touches[0])===null||m===void 0?void 0:m.clientY)||0};break}const y=g!=null?this.document.elementFromPoint(g.x,g.y):void 0,T=y&&i.contains(y);if(y===i||T)return this.handleMove(d,r)};return this.addEventListener(this.document.body,"move",c),this.targetNodes.set(r,i),()=>{this.document&&(this.targetNodes.delete(r),this.removeEventListener(this.document.body,"move",c))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(r){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=r,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{r&&!r.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!r||!r.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(r.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(r,i,a){this.getSourceClientOffset=c=>{const d=this.sourceNodes.get(c);return d&&Y0(d)},this.handleTopMoveStartCapture=c=>{ea(c)&&(this.moveStartSourceIds=[])},this.handleMoveStart=c=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(c)},this.handleTopMoveStart=c=>{if(!ea(c))return;const d=es(c);d&&(nf(c)&&(this.lastTargetTouchFallback=c.targetTouches[0]),this._mouseClientOffset=d),this.waitingForDelay=!1},this.handleTopMoveStartDelay=c=>{if(!ea(c))return;const d=c.type===Eo.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,c),d),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(c,d)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(d)},this.handleTopMove=c=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:d,dragOverTargetIds:g}=this,p=this.options.enableHoverOutsideTarget,m=es(c,this.lastTargetTouchFallback);if(!m)return;if(this._isScrolling||!this.monitor.isDragging()&&V0(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,m.x,m.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&d&&H0(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,m.x,m.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(d,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const y=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(y),this.actions.publishDragSource(),c.cancelable&&c.preventDefault();const T=(g||[]).map(E=>this.targetNodes.get(E)).filter(E=>!!E),L=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(m.x,m.y,T):this.document.elementsFromPoint(m.x,m.y),k=[];for(const E in L){if(!L.hasOwnProperty(E))continue;let x=L[E];for(x!=null&&k.push(x);x;)x=x.parentElement,x&&k.indexOf(x)===-1&&k.push(x)}const j=k.filter(E=>T.indexOf(E)>-1).map(E=>this._getDropTargetId(E)).filter(E=>!!E).filter((E,x,O)=>O.indexOf(E)===x);if(p)for(const E in this.targetNodes){const x=this.targetNodes.get(E);if(y&&x&&x.contains(y)&&j.indexOf(E)===-1){j.unshift(E);break}}j.reverse(),this.actions.hover(j,{clientOffset:m})},this._getDropTargetId=c=>{const d=this.targetNodes.keys();let g=d.next();for(;g.done===!1;){const p=g.value;if(c===this.targetNodes.get(p))return p;g=d.next()}},this.handleTopMoveEndCapture=c=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!q0(c)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}c.cancelable&&c.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=c=>{c.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new W0(a,i),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Pn.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Pn.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Pn.keyboard)}}const Z0=function(r,i={},a={}){return new Do(r,i,a)},J0=N.createContext({isCustomDndProviderSet:!1}),em=({children:s})=>h.jsx(h.Fragment,{children:s}),tm=({customDndBackend:s,customDndBackendOptions:r,children:i})=>{const[a,c]=N.useState(),[d,g]=N.useState(!1),[p,m]=N.useState(!1),{isCustomDndProviderSet:y}=N.useContext(J0);N.useEffect(()=>{m("ontouchstart"in window),g(!0),c(window)},[]);const T=y?em:$g;return d?a?h.jsx(T,Object.assign({backend:s||(p?Z0:b0),context:a,options:s?r:void 0},{children:i})):h.jsx(h.Fragment,{children:i}):null};function nm({boardContainer:s}){const{boardWidth:r,chessPieces:i,id:a,snapToCursor:c,allowDragOutsideBoard:d}=tn(),g=u0(k=>({item:k.getItem(),clientOffset:k.getClientOffset(),sourceClientOffset:k.getSourceClientOffset(),isDragging:k.isDragging()})),{isDragging:p,item:m,clientOffset:y,sourceClientOffset:T}=g,L=N.useCallback((k,j)=>{if(!k||!j)return{display:"none"};let{x:E,y:x}=c?k:j;const O=r/8/2;if(c&&(E-=O,x-=O),!d){const{left:R,top:z}=s,V=R-O,Y=z-O,ne=R+r-O,ue=z+r-O;E=Math.max(V,Math.min(E,ne)),x=Math.max(Y,Math.min(x,ue))}const A=`translate(${E}px, ${x}px)`;return{transform:A,WebkitTransform:A,touchAction:"none"}},[r,d,c,s]);return p&&m.id===a?h.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:h.jsx("div",Object.assign({style:L(y,T)},{children:typeof i[m.piece]=="function"?i[m.piece]({squareWidth:r/8,isDragging:!0}):h.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:r/8,height:r/8},{children:h.jsx("g",{children:i[m.piece]})}))}))})):null}const rm=N.forwardRef((s,r)=>{const{customDndBackend:i,customDndBackendOptions:a,onBoardWidthChange:c}=s,d=dp(s,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[g,p]=N.useState(s.boardWidth),m=N.useRef(null),y=N.useRef(null),[T,L]=N.useState({left:0,top:0}),k=N.useMemo(()=>{var j;return(j=m.current)===null||j===void 0?void 0:j.getBoundingClientRect()},[m.current]);return N.useEffect(()=>{g&&(c==null||c(g))},[g]),N.useEffect(()=>{L({left:k!=null&&k.left?k==null?void 0:k.left:0,top:k!=null&&k.top?k==null?void 0:k.top:0})},[k]),N.useEffect(()=>{var j;if(s.boardWidth===void 0&&(!((j=m.current)===null||j===void 0)&&j.offsetWidth)){const E=new ResizeObserver(()=>{var x;p((x=m.current)===null||x===void 0?void 0:x.offsetWidth)});return E.observe(m.current),()=>{E.disconnect()}}},[m.current]),h.jsx($0,{children:h.jsxs("div",Object.assign({ref:y,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[h.jsx("div",{ref:m,style:{width:"100%"}}),h.jsx(tm,Object.assign({customDndBackend:i,customDndBackendOptions:a},{children:g&&h.jsxs(kp,Object.assign({boardWidth:g},d,{ref:r},{children:[h.jsx(nm,{boardContainer:T}),h.jsx(U0,{})]}))}))]}))})}),om=({fen:s="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",lastMove:r,onMove:i=()=>{},orientation:a="white",getLegalMoves:c=()=>[]})=>{const[d,g]=N.useState(null),[p,m]=N.useState([]),[y,T]=N.useState(null),L=A=>{try{const R=A.charCodeAt(0)-97;return(8-parseInt(A[1],10))*8+R}catch(R){return console.error(`Invalid square format: ${A}`,R),-1}},k=A=>{try{const R=s.split(" ")[0].split("/").map(V=>V.replace(/\d/g,Y=>".".repeat(parseInt(Y,10)))).join(""),z=L(A);return R[z]||"."}catch(R){return console.error(`Error parsing FEN for square ${A}:`,R),"."}},j=N.useCallback(A=>{try{const R=k(A),z=s.split(" ")[1]||"w";if(d){if(p.find(ue=>ue.to===A)){const ue=k(d);if(!ue||ue==="."){g(null),m([]);return}const he=ue.toLowerCase()==="p",ke=ue===ue.toUpperCase()&&A[1]==="8"||ue===ue.toLowerCase()&&A[1]==="1";if(he&&ke){T(A);return}i(d,A)}g(null),m([]);return}if(!R||R==="."||z==="w"&&R!==R.toUpperCase()||z==="b"&&R!==R.toLowerCase()){g(null),m([]);return}g(A);const Y=(c(A)||[]).map(ne=>typeof ne=="string"?{to:ne}:ne).filter(ne=>ne&&ne.to);m(Y)}catch(R){console.error(`Error in onSquareClick at ${A}:`,R),g(null),m([])}},[s,d,p,i,c]),E=(A,R,z)=>{try{const V=z.charAt(1).toLowerCase()==="p",Y=z[0]==="w"&&R[1]==="8"||z[0]==="b"&&R[1]==="1";if(V&&Y)return T(R),!1;const ne=i(A,R);return g(null),m([]),ne}catch(V){return console.error("Error in onPieceDrop:",V),!1}},x=(A,R,z)=>{try{const V=A?A.charAt(1).toLowerCase():"q";i(R,z,V)}catch(V){console.error("Error in onPromotionPieceSelect:",V)}finally{T(null),g(null),m([])}},O={};return r&&Array.isArray(r)&&r.length===2&&(O[r[0]]={backgroundColor:"rgba(155, 199, 0, 0.41)"},O[r[1]]={backgroundColor:"rgba(155, 199, 0, 0.41)"}),d&&(O[d]={backgroundColor:"rgba(255, 215, 0, 0.4)"}),p.length>0&&p.forEach(A=>{if(!A.to)return;const R=k(A.to);R&&R!=="."?O[A.to]={background:"radial-gradient(circle, transparent 55%, gray 60%, transparent 65%)",cursor:"pointer"}:O[A.to]={background:"radial-gradient(circle, rgba(0,0,0,.4) 20%, transparent 20%)",cursor:"pointer"}}),h.jsx("div",{className:"w-full max-w-[450px] mx-auto",children:h.jsx(rm,{id:"chess-board",position:s,onSquareClick:j,onPieceDrop:E,customSquareStyles:O,boardOrientation:a,promotionToSquare:y,onPromotionPieceSelect:x,arePiecesDraggable:!0,animationDuration:200,boardWidth:450,customBoardStyle:{borderRadius:"6px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},customDarkSquareStyle:{backgroundColor:"#4b7399"},customLightSquareStyle:{backgroundColor:"#e0e0e0"}})})},im=({history:s,onMoveClick:r})=>{const i=[];for(let a=0;a<s.length;a+=2)i.push({number:Math.floor(a/2)+1,white:s[a],black:s[a+1]});return h.jsxs("div",{className:"bg-white rounded-xl shadow-md ring-1 ring-gray-200/50 p-6 transition-all duration-300 hover:shadow-lg",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Move History"}),h.jsx("div",{className:"moves-container h-[400px] overflow-y-auto border border-gray-200 rounded-lg bg-gray-50",children:h.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[h.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10 shadow-sm",children:h.jsxs("tr",{children:[h.jsx("th",{className:"w-[20%] py-3 px-4 text-left font-medium text-gray-700 border-b border-gray-200",children:"Move"}),h.jsx("th",{className:"w-[40%] py-3 px-4 text-left font-medium text-gray-700 border-b border-gray-200",children:"White"}),h.jsx("th",{className:"w-[40%] py-3 px-4 text-left font-medium text-gray-700 border-b border-gray-200",children:"Black"})]})}),h.jsx("tbody",{children:i.map(a=>h.jsxs("tr",{className:"border-b border-gray-200 last:border-b-0 odd:bg-white even:bg-gray-50 transition-colors duration-200 hover:bg-gray-100",children:[h.jsxs("td",{className:"py-3 px-4 text-gray-600 font-medium",children:[a.number,"."]}),h.jsx("td",{className:`py-3 px-4 text-gray-800 ${r?"cursor-pointer hover:text-gray-900 hover:font-semibold":"cursor-default"}`,onClick:()=>r&&r(a.white),children:a.white.san}),h.jsx("td",{className:`py-3 px-4 text-gray-800 ${a.black&&r?"cursor-pointer hover:text-gray-900 hover:font-semibold":"cursor-default"}`,onClick:()=>a.black&&r&&r(a.black),children:a.black?a.black.san:""})]},a.number))})]})})]})},jd="https://us-central1-tidal-hack25tex-223.cloudfunctions.net/analyzeChessPosition",sm="http://34.42.200.208:8080",lm="https://us-central1-tidal-hack25tex-223.cloudfunctions.net/analyzeWithStockfish",da="https://us-central1-tidal-hack25tex-223.cloudfunctions.net/transcribeAudioWithGemini";let qi=!0;const am=1e4,um=6e4,Ft={preferVM:!1,localFallback:!0,vmUrl:sm,cloudFunctionUrl:lm,vmDepthBoost:6};let wt=null,ts=!1,Po=null,xa=null,No=0;function cm(){if(!wt)try{wt=new Worker("/stockfish-worker.js"),wt.onmessage=s=>{const r=s.data;if(typeof r=="string")if(r.startsWith("bestmove")){const a=r.split(" ")[1];Po&&xa&&Po({evaluation:ns||"0.0",bestMoves:bo||[],depth:No,source:"local",completed:!0})}else r.startsWith("info")&&r.includes("depth")&&r.includes("score")&&dm(r)},wt.postMessage("uci"),wt.postMessage("setoption name Threads value 4"),wt.postMessage("setoption name Hash value 128"),wt.postMessage("setoption name MultiPV value 5"),wt.postMessage("isready"),ts=!0,console.log("Local Stockfish engine initialized")}catch(s){console.error("Failed to initialize local Stockfish:",s),ts=!1}}let ns=null,bo=[];function dm(s){try{if(!s.includes("multipv 1")&&!s.includes("depth"))return;const r=s.match(/depth (\d+)/);if(!r)return;const i=parseInt(r[1],10);No=i;let a="0.0";if(s.includes("score cp")){const y=s.match(/score cp ([-\d]+)/);y&&(a=(parseInt(y[1],10)/100).toString())}else if(s.includes("score mate")){const y=s.match(/score mate ([-\d]+)/);y&&(a=`Mate in ${y[1]}`)}ns=a;const c=s.match(/pv (.+?)($| info)/);if(!c)return;const d=c[1].trim().split(" "),g=d[0];let p=[...bo];const m=s.includes("multipv")?parseInt(s.match(/multipv (\d+)/)[1],10)-1:0;for(;p.length<=m;)p.push({uci:"",san:"",evaluation:""});p[m]={uci:g,pv:d.join(" "),evaluation:a,source:"local"},bo=p,Po&&xa&&i>=8&&Po({evaluation:a,bestMoves:p,depth:i,source:"local",completed:!1})}catch(r){console.error("Error parsing Stockfish info:",r)}}function fm(s,r=18,i=null){return new Promise(a=>{if(ts||cm(),!ts){a({evaluation:"0.0",bestMoves:[],depth:0,source:"local",completed:!0,error:"Local Stockfish engine not available"});return}Po=i,xa=s,No=0,ns="0.0",bo=[],wt.postMessage("stop"),wt.postMessage("position fen "+s),wt.postMessage("go depth "+r),setTimeout(()=>{a({evaluation:ns||"0.0",bestMoves:bo||[],depth:No,source:"local",completed:No>=r})},500)})}const hm=async(s,r=32,i=null)=>{try{console.log(`Starting analysis with target depth ${r}...`);const a=performance.now();let c=null;Ft.localFallback&&(console.log("Starting local Stockfish analysis in parallel"),c=fm(s,r,i));const d=Ft.preferVM?Ft.vmUrl:Ft.cloudFunctionUrl,g=Ft.preferVM?Ft.cloudFunctionUrl:Ft.vmUrl;let p=null,m=null;try{console.log(`Trying primary server (${Ft.preferVM?"VM":"Function"}) analysis...`),p=await Pd(d,s,r,i),console.log(`Primary server analysis successful at depth ${p.depth}`)}catch(y){console.warn(`Primary server analysis failed: ${y.message}`),m=y;try{console.log(`Trying backup server (${Ft.preferVM?"Function":"VM"}) analysis...`),p=await Pd(g,s,r,i),console.log(`Backup server analysis successful at depth ${p.depth}`)}catch(T){if(console.error(`Backup server analysis failed: ${T.message}`),c)return console.log("Using local analysis results as fallback"),await c;throw m}}return c&&wt&&(console.log("Cloud analysis succeeded, stopping local analysis"),wt.postMessage("stop")),p}catch(a){throw console.error("Stockfish API error:",a),a}};async function Pd(s,r,i,a){const c=s===Ft.vmUrl,d=c?i+Ft.vmDepthBoost:i;try{const m=`${s}/status/${encodeURIComponent(r)}?minDepth=${d}`;console.log(`Checking for cached analysis at target depth ${d} from ${c?"VM":"Cloud Function"}: ${m}`);let y=null;try{const T=await rf(m,{method:"GET"},3e3);if(T.ok){if(y=await T.json(),console.log(`Found cached analysis at depth ${y.depth}`),y.source="cloud",a&&a(y),y.depth>=(c?i:d))return console.log(`Using cached result with depth ${y.depth} directly`),y}else console.warn(`Cache check returned status ${T.status} - continuing to full analysis`)}catch(T){console.warn(`Error fetching cached results: ${T.message}`)}if(y){console.log(`Using cached result as baseline at depth ${y.depth}, continuing analysis`);let T=y.depth,L=y;return new Promise(k=>{let j=20;const E=setInterval(async()=>{try{const x=T+1,O=`${s}/status/${encodeURIComponent(r)}?minDepth=${x}`;console.log(`Polling for updates with minDepth=${x}`);const A=await fetch(O);if(A.ok){const R=await A.json();R.source="cloud",R.depth>=T&&(console.log(`Updated analysis at depth ${R.depth}`),a(R),R.depth>T&&(T=R.depth,L=R),(T>=(c?i:d)||R.completed)&&(clearInterval(E),k(R)))}}catch(x){console.warn("Poll error:",x)}j--,j<=0&&(clearInterval(E),L.source="cloud",k(L))},200)})}console.log("No usable cached analysis found, proceeding with full analysis")}catch(m){console.log("Error in cache checking process:",m),console.log("Performing full analysis")}const g=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fen:r,depth:d})});if(!g.ok)throw new Error(`Stockfish analysis failed: ${g.status} ${g.statusText}`);const p=await g.json();return p.source="cloud",a&&a(p),p.depth>=i||!a?p:new Promise(m=>{let y=p.depth,T=p,L=20;const k=setInterval(async()=>{try{const j=y+1,E=`${s}/status/${encodeURIComponent(r)}?minDepth=${j}`;console.log(`Polling for updates with minDepth=${j} from ${c?"VM":"Cloud Function"}`);const x=await fetch(E);if(x.ok){const O=await x.json();O.source="cloud",O.depth>=y&&(console.log(`Updated analysis at depth ${O.depth}`),a(O),O.depth>y&&(y=O.depth,T=O),(y>=(c?i:d)||O.completed)&&(clearInterval(k),m(O)))}}catch(j){console.warn("Poll error:",j)}L--,L<=0&&(clearInterval(k),T.source="cloud",m(T))},200)})}const rf=async(s,r,i=am)=>{const a=new AbortController,c=setTimeout(()=>a.abort(),i);try{return await fetch(s,{...r,signal:a.signal,mode:"cors",credentials:"omit"})}finally{clearTimeout(c)}},of=async(s,r,i,a="advanced",c=!1,d=!1,g=null,p=!1)=>{var m,y;try{console.log(`Getting explanation for ${a} level...`);const T=performance.now();d||(d=r.includes("Checkmate")||i.length>0&&((m=i[0])==null?void 0:m.isCheckmate));const L=c||d;let k=null;if(d)if(r.includes("Checkmate")){const R=r.split("-");R.length>1&&R[1]?k=R[1].trim():k="Unknown"}else i.length>0&&((y=i[0])!=null&&y.winner)?k=i[0].winner:k="Unknown";const j={fen:s,evaluation:r,bestMoves:i,playerLevel:a,isCheckmate:d,isGameReport:L,checkmateWinner:k,useDeepThink:p};g&&(j.userQuestion=g);const E={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(j)};console.log(`Attempting to use endpoint: ${jd}`);const x=await rf(jd,E,um);if(!x.ok)throw new Error(`Gemini explanation failed: ${x.status} ${x.statusText}`);const O=await x.json(),A=Math.round(performance.now()-T);return console.log(`Explanation generated in ${A}ms`),O}catch(T){throw console.error("Gemini API error:",T),new Error(`The AI analysis service is currently unavailable. Please try again later or contact support if the issue persists. (Error: ${T.message})`)}},pm=async(s,r)=>{try{if(!qi)throw new Error("Audio transcription service is not available");if(!s||s.size<500)throw console.error("Audio blob is empty or too small:",(s==null?void 0:s.size)||0,"bytes"),new Error("Audio recording is too short or empty. Please try again and speak clearly.");console.log(`Sending audio for transcription (${Math.round(s.size/1024)} KB)...`);const i=performance.now(),a=new FormData;a.append("audio",s,"recording.webm"),r&&(a.append("fen",r),a.append("context","chess"));const c=new AbortController,d=setTimeout(()=>c.abort(),15e3);try{console.log(`Sending audio to ${da}...`);const g=await fetch(da,{method:"POST",body:a,signal:c.signal,mode:"cors",headers:{Accept:"application/json"},credentials:"omit"});if(!g.ok)throw console.error(`Audio transcription failed with status: ${g.status}`),(g.status===0||g.status>=500)&&(qi=!1,console.warn("Audio transcription service marked as unavailable")),new Error(`Failed to transcribe audio: ${g.status} ${g.statusText}`);const p=await g.json(),m=Math.round((performance.now()-i)/1e3);if(!p.transcription)throw console.error("No transcription in response:",p),new Error("No transcription returned from server");return qi=!0,console.log(`Audio transcribed in ${m}s: "${p.transcription}"`),p.transcription}finally{clearTimeout(d)}}catch(i){throw console.error("Error transcribing audio:",i),(i.message.includes("Failed to fetch")||i.message.includes("NetworkError")||i.message.includes("CORS"))&&(qi=!1,console.warn("Audio transcription service marked as unavailable due to network error")),new Error(`Failed to transcribe audio: ${i.message}`)}};/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const rt="w",Dt="b",Ge="p",fa="n",Ji="b",Oo="r",Nn="q",Ve="k",ta="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class Gi{constructor(r,i){Ae(this,"color");Ae(this,"from");Ae(this,"to");Ae(this,"piece");Ae(this,"captured");Ae(this,"promotion");Ae(this,"flags");Ae(this,"san");Ae(this,"lan");Ae(this,"before");Ae(this,"after");const{color:a,piece:c,from:d,to:g,flags:p,captured:m,promotion:y}=i,T=ot(d),L=ot(g);this.color=a,this.piece=c,this.from=T,this.to=L,this.san=r._moveToSan(i,r._moves({legal:!0})),this.lan=T+L,this.before=r.fen(),r._makeMove(i),this.after=r.fen(),r._undoMove(),this.flags="";for(const k in pe)pe[k]&p&&(this.flags+=er[k]);m&&(this.captured=m),y&&(this.promotion=y,this.lan+=y)}isCapture(){return this.flags.indexOf(er.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(er.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(er.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(er.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(er.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(er.BIG_PAWN)>-1}}const ht=-1,er={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},pe={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},ce={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},na={b:[16,32,17,15],w:[-16,-32,-17,-15]},bd={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},gm=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],mm=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],vm={p:1,n:2,b:4,r:8,q:16,k:32},ym="pnbrqkPNBRQK",Ld=[fa,Ji,Oo,Nn],wm=7,Sm=6,xm=1,km=0,Yi={[Ve]:pe.KSIDE_CASTLE,[Nn]:pe.QSIDE_CASTLE},Tn={w:[{square:ce.a1,flag:pe.QSIDE_CASTLE},{square:ce.h1,flag:pe.KSIDE_CASTLE}],b:[{square:ce.a8,flag:pe.QSIDE_CASTLE},{square:ce.h8,flag:pe.KSIDE_CASTLE}]},Cm={b:xm,w:Sm},Em=["1-0","0-1","1/2-1/2","*"];function tr(s){return s>>4}function Lo(s){return s&15}function sf(s){return"0123456789".indexOf(s)!==-1}function ot(s){const r=Lo(s),i=tr(s);return"abcdefgh".substring(r,r+1)+"87654321".substring(i,i+1)}function _o(s){return s===rt?Dt:rt}function _m(s){const r=s.split(/\s+/);if(r.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const i=parseInt(r[5],10);if(isNaN(i)||i<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const a=parseInt(r[4],10);if(isNaN(a)||a<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(r[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(r[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(r[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const c=r[0].split("/");if(c.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let g=0;g<c.length;g++){let p=0,m=!1;for(let y=0;y<c[g].length;y++)if(sf(c[g][y])){if(m)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};p+=parseInt(c[g][y],10),m=!0}else{if(!/^[prnbqkPRNBQK]$/.test(c[g][y]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};p+=1,m=!1}if(p!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(r[3][1]=="3"&&r[1]=="w"||r[3][1]=="6"&&r[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const d=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:g,regex:p}of d){if(!p.test(r[0]))return{ok:!1,error:`Invalid FEN: missing ${g} king`};if((r[0].match(p)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${g} kings`}}return Array.from(c[0]+c[7]).some(g=>g.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function Om(s,r){const i=s.from,a=s.to,c=s.piece;let d=0,g=0,p=0;for(let m=0,y=r.length;m<y;m++){const T=r[m].from,L=r[m].to,k=r[m].piece;c===k&&i!==T&&a===L&&(d++,tr(i)===tr(T)&&g++,Lo(i)===Lo(T)&&p++)}return d>0?g>0&&p>0?ot(i):p>0?ot(i).charAt(1):ot(i).charAt(0):""}function Dn(s,r,i,a,c,d=void 0,g=pe.NORMAL){const p=tr(a);if(c===Ge&&(p===wm||p===km))for(let m=0;m<Ld.length;m++){const y=Ld[m];s.push({color:r,from:i,to:a,piece:c,captured:d,promotion:y,flags:g|pe.PROMOTION})}else s.push({color:r,from:i,to:a,piece:c,captured:d,flags:g})}function Id(s){let r=s.charAt(0);return r>="a"&&r<="h"?s.match(/[a-h]\d.*[a-h]\d/)?void 0:Ge:(r=r.toLowerCase(),r==="o"?Ve:r)}function ra(s){return s.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function oa(s){return s.split(" ").slice(0,4).join(" ")}class ha{constructor(r=ta,{skipValidation:i=!1}={}){Ae(this,"_board",new Array(128));Ae(this,"_turn",rt);Ae(this,"_header",{});Ae(this,"_kings",{w:ht,b:ht});Ae(this,"_epSquare",-1);Ae(this,"_halfMoves",0);Ae(this,"_moveNumber",0);Ae(this,"_history",[]);Ae(this,"_comments",{});Ae(this,"_castling",{w:0,b:0});Ae(this,"_positionCount",{});this.load(r,{skipValidation:i})}clear({preserveHeaders:r=!1}={}){this._board=new Array(128),this._kings={w:ht,b:ht},this._turn=rt,this._castling={w:0,b:0},this._epSquare=ht,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=r?this._header:{},this._positionCount={},delete this._header.SetUp,delete this._header.FEN}load(r,{skipValidation:i=!1,preserveHeaders:a=!1}={}){let c=r.split(/\s+/);if(c.length>=2&&c.length<6){const p=["-","-","0","1"];r=c.concat(p.slice(-(6-c.length))).join(" ")}if(c=r.split(/\s+/),!i){const{ok:p,error:m}=_m(r);if(!p)throw new Error(m)}const d=c[0];let g=0;this.clear({preserveHeaders:a});for(let p=0;p<d.length;p++){const m=d.charAt(p);if(m==="/")g+=8;else if(sf(m))g+=parseInt(m,10);else{const y=m<"a"?rt:Dt;this._put({type:m.toLowerCase(),color:y},ot(g)),g++}}this._turn=c[1],c[2].indexOf("K")>-1&&(this._castling.w|=pe.KSIDE_CASTLE),c[2].indexOf("Q")>-1&&(this._castling.w|=pe.QSIDE_CASTLE),c[2].indexOf("k")>-1&&(this._castling.b|=pe.KSIDE_CASTLE),c[2].indexOf("q")>-1&&(this._castling.b|=pe.QSIDE_CASTLE),this._epSquare=c[3]==="-"?ht:ce[c[3]],this._halfMoves=parseInt(c[4],10),this._moveNumber=parseInt(c[5],10),this._updateSetup(r),this._incPositionCount(r)}fen(){var d,g;let r=0,i="";for(let p=ce.a8;p<=ce.h1;p++){if(this._board[p]){r>0&&(i+=r,r=0);const{color:m,type:y}=this._board[p];i+=m===rt?y.toUpperCase():y.toLowerCase()}else r++;p+1&136&&(r>0&&(i+=r),p!==ce.h1&&(i+="/"),r=0,p+=8)}let a="";this._castling[rt]&pe.KSIDE_CASTLE&&(a+="K"),this._castling[rt]&pe.QSIDE_CASTLE&&(a+="Q"),this._castling[Dt]&pe.KSIDE_CASTLE&&(a+="k"),this._castling[Dt]&pe.QSIDE_CASTLE&&(a+="q"),a=a||"-";let c="-";if(this._epSquare!==ht){const p=this._epSquare+(this._turn===rt?16:-16),m=[p+1,p-1];for(const y of m){if(y&136)continue;const T=this._turn;if(((d=this._board[y])==null?void 0:d.color)===T&&((g=this._board[y])==null?void 0:g.type)===Ge){this._makeMove({color:T,from:y,to:this._epSquare,piece:Ge,captured:Ge,flags:pe.EP_CAPTURE});const L=!this._isKingAttacked(T);if(this._undoMove(),L){c=ot(this._epSquare);break}}}}return[i,this._turn,a,c,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(r){this._history.length>0||(r!==ta?(this._header.SetUp="1",this._header.FEN=r):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(ta)}get(r){return this._board[ce[r]]}put({type:r,color:i},a){return this._put({type:r,color:i},a)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_put({type:r,color:i},a){if(ym.indexOf(r.toLowerCase())===-1||!(a in ce))return!1;const c=ce[a];if(r==Ve&&!(this._kings[i]==ht||this._kings[i]==c))return!1;const d=this._board[c];return d&&d.type===Ve&&(this._kings[d.color]=ht),this._board[c]={type:r,color:i},r===Ve&&(this._kings[i]=c),!0}remove(r){const i=this.get(r);return delete this._board[ce[r]],i&&i.type===Ve&&(this._kings[i.color]=ht),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),i}_updateCastlingRights(){var a,c,d,g,p,m,y,T,L,k,j,E;const r=((a=this._board[ce.e1])==null?void 0:a.type)===Ve&&((c=this._board[ce.e1])==null?void 0:c.color)===rt,i=((d=this._board[ce.e8])==null?void 0:d.type)===Ve&&((g=this._board[ce.e8])==null?void 0:g.color)===Dt;(!r||((p=this._board[ce.a1])==null?void 0:p.type)!==Oo||((m=this._board[ce.a1])==null?void 0:m.color)!==rt)&&(this._castling.w&=-65),(!r||((y=this._board[ce.h1])==null?void 0:y.type)!==Oo||((T=this._board[ce.h1])==null?void 0:T.color)!==rt)&&(this._castling.w&=-33),(!i||((L=this._board[ce.a8])==null?void 0:L.type)!==Oo||((k=this._board[ce.a8])==null?void 0:k.color)!==Dt)&&(this._castling.b&=-65),(!i||((j=this._board[ce.h8])==null?void 0:j.type)!==Oo||((E=this._board[ce.h8])==null?void 0:E.color)!==Dt)&&(this._castling.b&=-33)}_updateEnPassantSquare(){var d,g;if(this._epSquare===ht)return;const r=this._epSquare+(this._turn===rt?-16:16),i=this._epSquare+(this._turn===rt?16:-16),a=[i+1,i-1];if(this._board[r]!==null||this._board[this._epSquare]!==null||((d=this._board[i])==null?void 0:d.color)!==_o(this._turn)||((g=this._board[i])==null?void 0:g.type)!==Ge){this._epSquare=ht;return}const c=p=>{var m,y;return!(p&136)&&((m=this._board[p])==null?void 0:m.color)===this._turn&&((y=this._board[p])==null?void 0:y.type)===Ge};a.some(c)||(this._epSquare=ht)}_attacked(r,i,a){const c=[];for(let d=ce.a8;d<=ce.h1;d++){if(d&136){d+=7;continue}if(this._board[d]===void 0||this._board[d].color!==r)continue;const g=this._board[d],p=d-i;if(p===0)continue;const m=p+119;if(gm[m]&vm[g.type]){if(g.type===Ge){if(p>0&&g.color===rt||p<=0&&g.color===Dt)if(a)c.push(ot(d));else return!0;continue}if(g.type==="n"||g.type==="k")if(a){c.push(ot(d));continue}else return!0;const y=mm[m];let T=d+y,L=!1;for(;T!==i;){if(this._board[T]!=null){L=!0;break}T+=y}if(!L)if(a){c.push(ot(d));continue}else return!0}}return a?c:!1}attackers(r,i){return i?this._attacked(i,ce[r],!0):this._attacked(this._turn,ce[r],!0)}_isKingAttacked(r){const i=this._kings[r];return i===-1?!1:this._attacked(_o(r),i)}isAttacked(r,i){return this._attacked(i,ce[r])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const r={b:0,n:0,r:0,q:0,k:0,p:0},i=[];let a=0,c=0;for(let d=ce.a8;d<=ce.h1;d++){if(c=(c+1)%2,d&136){d+=7;continue}const g=this._board[d];g&&(r[g.type]=g.type in r?r[g.type]+1:1,g.type===Ji&&i.push(c),a++)}if(a===2)return!0;if(a===3&&(r[Ji]===1||r[fa]===1))return!0;if(a===r[Ji]+2){let d=0;const g=i.length;for(let p=0;p<g;p++)d+=i[p];if(d===0||d===g)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this.fen())>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:r=!1,square:i=void 0,piece:a=void 0}={}){const c=this._moves({square:i,piece:a});return r?c.map(d=>new Gi(this,d)):c.map(d=>this._moveToSan(d,c))}_moves({legal:r=!0,piece:i=void 0,square:a=void 0}={}){var j;const c=a?a.toLowerCase():void 0,d=i==null?void 0:i.toLowerCase(),g=[],p=this._turn,m=_o(p);let y=ce.a8,T=ce.h1,L=!1;if(c)if(c in ce)y=T=ce[c],L=!0;else return[];for(let E=y;E<=T;E++){if(E&136){E+=7;continue}if(!this._board[E]||this._board[E].color===m)continue;const{type:x}=this._board[E];let O;if(x===Ge){if(d&&d!==x)continue;O=E+na[p][0],this._board[O]||(Dn(g,p,E,O,Ge),O=E+na[p][1],Cm[p]===tr(E)&&!this._board[O]&&Dn(g,p,E,O,Ge,void 0,pe.BIG_PAWN));for(let A=2;A<4;A++)O=E+na[p][A],!(O&136)&&(((j=this._board[O])==null?void 0:j.color)===m?Dn(g,p,E,O,Ge,this._board[O].type,pe.CAPTURE):O===this._epSquare&&Dn(g,p,E,O,Ge,Ge,pe.EP_CAPTURE))}else{if(d&&d!==x)continue;for(let A=0,R=bd[x].length;A<R;A++){const z=bd[x][A];for(O=E;O+=z,!(O&136);){if(!this._board[O])Dn(g,p,E,O,x);else{if(this._board[O].color===p)break;Dn(g,p,E,O,x,this._board[O].type,pe.CAPTURE);break}if(x===fa||x===Ve)break}}}}if((d===void 0||d===Ve)&&(!L||T===this._kings[p])){if(this._castling[p]&pe.KSIDE_CASTLE){const E=this._kings[p],x=E+2;!this._board[E+1]&&!this._board[x]&&!this._attacked(m,this._kings[p])&&!this._attacked(m,E+1)&&!this._attacked(m,x)&&Dn(g,p,this._kings[p],x,Ve,void 0,pe.KSIDE_CASTLE)}if(this._castling[p]&pe.QSIDE_CASTLE){const E=this._kings[p],x=E-2;!this._board[E-1]&&!this._board[E-2]&&!this._board[E-3]&&!this._attacked(m,this._kings[p])&&!this._attacked(m,E-1)&&!this._attacked(m,x)&&Dn(g,p,this._kings[p],x,Ve,void 0,pe.QSIDE_CASTLE)}}if(!r||this._kings[p]===-1)return g;const k=[];for(let E=0,x=g.length;E<x;E++)this._makeMove(g[E]),this._isKingAttacked(p)||k.push(g[E]),this._undoMove();return k}move(r,{strict:i=!1}={}){let a=null;if(typeof r=="string")a=this._moveFromSan(r,i);else if(typeof r=="object"){const d=this._moves();for(let g=0,p=d.length;g<p;g++)if(r.from===ot(d[g].from)&&r.to===ot(d[g].to)&&(!("promotion"in d[g])||r.promotion===d[g].promotion)){a=d[g];break}}if(!a)throw typeof r=="string"?new Error(`Invalid move: ${r}`):new Error(`Invalid move: ${JSON.stringify(r)}`);const c=new Gi(this,a);return this._makeMove(a),this._incPositionCount(c.after),c}_push(r){this._history.push({move:r,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(r){const i=this._turn,a=_o(i);if(this._push(r),this._board[r.to]=this._board[r.from],delete this._board[r.from],r.flags&pe.EP_CAPTURE&&(this._turn===Dt?delete this._board[r.to-16]:delete this._board[r.to+16]),r.promotion&&(this._board[r.to]={type:r.promotion,color:i}),this._board[r.to].type===Ve){if(this._kings[i]=r.to,r.flags&pe.KSIDE_CASTLE){const c=r.to-1,d=r.to+1;this._board[c]=this._board[d],delete this._board[d]}else if(r.flags&pe.QSIDE_CASTLE){const c=r.to+1,d=r.to-2;this._board[c]=this._board[d],delete this._board[d]}this._castling[i]=0}if(this._castling[i]){for(let c=0,d=Tn[i].length;c<d;c++)if(r.from===Tn[i][c].square&&this._castling[i]&Tn[i][c].flag){this._castling[i]^=Tn[i][c].flag;break}}if(this._castling[a]){for(let c=0,d=Tn[a].length;c<d;c++)if(r.to===Tn[a][c].square&&this._castling[a]&Tn[a][c].flag){this._castling[a]^=Tn[a][c].flag;break}}r.flags&pe.BIG_PAWN?i===Dt?this._epSquare=r.to-16:this._epSquare=r.to+16:this._epSquare=ht,r.piece===Ge?this._halfMoves=0:r.flags&(pe.CAPTURE|pe.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,i===Dt&&this._moveNumber++,this._turn=a}undo(){const r=this._undoMove();if(r){const i=new Gi(this,r);return this._decPositionCount(i.after),i}return null}_undoMove(){const r=this._history.pop();if(r===void 0)return null;const i=r.move;this._kings=r.kings,this._turn=r.turn,this._castling=r.castling,this._epSquare=r.epSquare,this._halfMoves=r.halfMoves,this._moveNumber=r.moveNumber;const a=this._turn,c=_o(a);if(this._board[i.from]=this._board[i.to],this._board[i.from].type=i.piece,delete this._board[i.to],i.captured)if(i.flags&pe.EP_CAPTURE){let d;a===Dt?d=i.to-16:d=i.to+16,this._board[d]={type:Ge,color:c}}else this._board[i.to]={type:i.captured,color:c};if(i.flags&(pe.KSIDE_CASTLE|pe.QSIDE_CASTLE)){let d,g;i.flags&pe.KSIDE_CASTLE?(d=i.to+1,g=i.to-1):(d=i.to-2,g=i.to+1),this._board[d]=this._board[g],delete this._board[g]}return i}pgn({newline:r=`
`,maxWidth:i=0}={}){const a=[];let c=!1;for(const k in this._header)a.push("["+k+' "'+this._header[k]+'"]'+r),c=!0;c&&this._history.length&&a.push(r);const d=k=>{const j=this._comments[this.fen()];if(typeof j<"u"){const E=k.length>0?" ":"";k=`${k}${E}{${j}}`}return k},g=[];for(;this._history.length>0;)g.push(this._undoMove());const p=[];let m="";for(g.length===0&&p.push(d(""));g.length>0;){m=d(m);const k=g.pop();if(!k)break;if(!this._history.length&&k.color==="b"){const j=`${this._moveNumber}. ...`;m=m?`${m} ${j}`:j}else k.color==="w"&&(m.length&&p.push(m),m=this._moveNumber+".");m=m+" "+this._moveToSan(k,this._moves({legal:!0})),this._makeMove(k)}if(m.length&&p.push(d(m)),typeof this._header.Result<"u"&&p.push(this._header.Result),i===0)return a.join("")+p.join(" ");const y=function(){return a.length>0&&a[a.length-1]===" "?(a.pop(),!0):!1},T=function(k,j){for(const E of j.split(" "))if(E){if(k+E.length>i){for(;y();)k--;a.push(r),k=0}a.push(E),k+=E.length,a.push(" "),k++}return y()&&k--,k};let L=0;for(let k=0;k<p.length;k++){if(L+p[k].length>i&&p[k].includes("{")){L=T(L,p[k]);continue}L+p[k].length>i&&k!==0?(a[a.length-1]===" "&&a.pop(),a.push(r),L=0):k!==0&&(a.push(" "),L++),a.push(p[k]),L+=p[k].length}return a.join("")}header(...r){for(let i=0;i<r.length;i+=2)typeof r[i]=="string"&&typeof r[i+1]=="string"&&(this._header[r[i]]=r[i+1]);return this._header}setHeader(r,i){return this._header[r]=i,this._header}removeHeader(r){return r in this._header?(delete this._header[r],!0):!1}getHeaders(){return this._header}loadPgn(r,{strict:i=!1,newlineChar:a=`\r?
`}={}){function c(z){return z.replace(/\\/g,"\\")}function d(z){const V={},Y=z.split(new RegExp(c(a)));let ne="",ue="";for(let he=0;he<Y.length;he++){const ke=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;ne=Y[he].replace(ke,"$1"),ue=Y[he].replace(ke,"$2"),ne.trim().length>0&&(V[ne]=ue)}return V}r=r.trim();const p=new RegExp("^(\\[((?:"+c(a)+")|.)*\\])((?:\\s*"+c(a)+"){2}|(?:\\s*"+c(a)+")*$)").exec(r),m=p&&p.length>=2?p[1]:"";this.reset();const y=d(m);let T="";for(const z in y)z.toLowerCase()==="fen"&&(T=y[z]),this.header(z,y[z]);if(!i)T&&this.load(T,{preserveHeaders:!0});else if(y.SetUp==="1"){if(!("FEN"in y))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(y.FEN,{preserveHeaders:!0})}function L(z){return Array.from(z).map(function(V){return V.charCodeAt(0)<128?V.charCodeAt(0).toString(16):encodeURIComponent(V).replace(/%/g,"").toLowerCase()}).join("")}function k(z){return z.length==0?"":decodeURIComponent("%"+(z.match(/.{1,2}/g)||[]).join("%"))}const j=function(z){return z=z.replace(new RegExp(c(a),"g")," "),`{${L(z.slice(1,z.length-1))}}`},E=function(z){if(z.startsWith("{")&&z.endsWith("}"))return k(z.slice(1,z.length-1))};let x=r.replace(m,"").replace(new RegExp(`({[^}]*})+?|;([^${c(a)}]*)`,"g"),function(z,V,Y){return V!==void 0?j(V):" "+j(`{${Y.slice(1)}}`)}).replace(new RegExp(c(a),"g")," ");const O=/(\([^()]+\))+?/g;for(;O.test(x);)x=x.replace(O,"");x=x.replace(/\d+\.(\.\.)?/g,""),x=x.replace(/\.\.\./g,""),x=x.replace(/\$\d+/g,"");let A=x.trim().split(new RegExp(/\s+/));A=A.filter(z=>z!=="");let R="";for(let z=0;z<A.length;z++){const V=E(A[z]);if(V!==void 0){this._comments[this.fen()]=V;continue}const Y=this._moveFromSan(A[z],i);if(Y==null)if(Em.indexOf(A[z])>-1)R=A[z];else throw new Error(`Invalid move in PGN: ${A[z]}`);else R="",this._makeMove(Y),this._incPositionCount(this.fen())}R&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",R)}_moveToSan(r,i){let a="";if(r.flags&pe.KSIDE_CASTLE)a="O-O";else if(r.flags&pe.QSIDE_CASTLE)a="O-O-O";else{if(r.piece!==Ge){const c=Om(r,i);a+=r.piece.toUpperCase()+c}r.flags&(pe.CAPTURE|pe.EP_CAPTURE)&&(r.piece===Ge&&(a+=ot(r.from)[0]),a+="x"),a+=ot(r.to),r.promotion&&(a+="="+r.promotion.toUpperCase())}return this._makeMove(r),this.isCheck()&&(this.isCheckmate()?a+="#":a+="+"),this._undoMove(),a}_moveFromSan(r,i=!1){const a=ra(r);let c=Id(a),d=this._moves({legal:!0,piece:c});for(let k=0,j=d.length;k<j;k++)if(a===ra(this._moveToSan(d[k],d)))return d[k];if(i)return null;let g,p,m,y,T,L=!1;if(p=a.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),p?(g=p[1],m=p[2],y=p[3],T=p[4],m.length==1&&(L=!0)):(p=a.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),p&&(g=p[1],m=p[2],y=p[3],T=p[4],m.length==1&&(L=!0))),c=Id(a),d=this._moves({legal:!0,piece:g||c}),!y)return null;for(let k=0,j=d.length;k<j;k++)if(m){if((!g||g.toLowerCase()==d[k].piece)&&ce[m]==d[k].from&&ce[y]==d[k].to&&(!T||T.toLowerCase()==d[k].promotion))return d[k];if(L){const E=ot(d[k].from);if((!g||g.toLowerCase()==d[k].piece)&&ce[y]==d[k].to&&(m==E[0]||m==E[1])&&(!T||T.toLowerCase()==d[k].promotion))return d[k]}}else if(a===ra(this._moveToSan(d[k],d)).replace("x",""))return d[k];return null}ascii(){let r=`   +------------------------+
`;for(let i=ce.a8;i<=ce.h1;i++){if(Lo(i)===0&&(r+=" "+"87654321"[tr(i)]+" |"),this._board[i]){const a=this._board[i].type,d=this._board[i].color===rt?a.toUpperCase():a.toLowerCase();r+=" "+d+" "}else r+=" . ";i+1&136&&(r+=`|
`,i+=8)}return r+=`   +------------------------+
`,r+="     a  b  c  d  e  f  g  h",r}perft(r){const i=this._moves({legal:!1});let a=0;const c=this._turn;for(let d=0,g=i.length;d<g;d++)this._makeMove(i[d]),this._isKingAttacked(c)||(r-1>0?a+=this.perft(r-1):a++),this._undoMove();return a}turn(){return this._turn}board(){const r=[];let i=[];for(let a=ce.a8;a<=ce.h1;a++)this._board[a]==null?i.push(null):i.push({square:ot(a),type:this._board[a].type,color:this._board[a].color}),a+1&136&&(r.push(i),i=[],a+=8);return r}squareColor(r){if(r in ce){const i=ce[r];return(tr(i)+Lo(i))%2===0?"light":"dark"}return null}history({verbose:r=!1}={}){const i=[],a=[];for(;this._history.length>0;)i.push(this._undoMove());for(;;){const c=i.pop();if(!c)break;r?a.push(new Gi(this,c)):a.push(this._moveToSan(c,this._moves())),this._makeMove(c)}return a}_getPositionCount(r){const i=oa(r);return this._positionCount[i]||0}_incPositionCount(r){const i=oa(r);this._positionCount[i]===void 0&&(this._positionCount[i]=0),this._positionCount[i]+=1}_decPositionCount(r){const i=oa(r);this._positionCount[i]===1?delete this._positionCount[i]:this._positionCount[i]-=1}_pruneComments(){const r=[],i={},a=c=>{c in this._comments&&(i[c]=this._comments[c])};for(;this._history.length>0;)r.push(this._undoMove());for(a(this.fen());;){const c=r.pop();if(!c)break;this._makeMove(c),a(this.fen())}this._comments=i}getComment(){return this._comments[this.fen()]}setComment(r){this._comments[this.fen()]=r.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const r=this._comments[this.fen()];return delete this._comments[this.fen()],r}getComments(){return this._pruneComments(),Object.keys(this._comments).map(r=>({fen:r,comment:this._comments[r]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(r=>{const i=this._comments[r];return delete this._comments[r],{fen:r,comment:i}})}setCastlingRights(r,i){for(const c of[Ve,Nn])i[c]!==void 0&&(i[c]?this._castling[r]|=Yi[c]:this._castling[r]&=~Yi[c]);this._updateCastlingRights();const a=this.getCastlingRights(r);return(i[Ve]===void 0||i[Ve]===a[Ve])&&(i[Nn]===void 0||i[Nn]===a[Nn])}getCastlingRights(r){return{[Ve]:(this._castling[r]&Yi[Ve])!==0,[Nn]:(this._castling[r]&Yi[Nn])!==0}}moveNumber(){return this._moveNumber}}const jn=typeof window<"u"?window.speechSynthesis:null,lf=(s,r={})=>new Promise((i,a)=>{if(!jn){const d=new Error("Speech synthesis not supported in this browser");return r.onError&&r.onError(d),a(d)}jn.speaking&&(console.log("Cancelling ongoing speech..."),jn.cancel());const c=new SpeechSynthesisUtterance(s);if(c.pitch=r.pitch||1,c.rate=r.rate||1,c.volume=r.volume||1,r.voice){const g=jn.getVoices().find(p=>p.name===r.voice);g&&(c.voice=g)}c.onstart=()=>{console.log("Speech started"),r.onStart&&r.onStart()},c.onend=()=>{console.log("Speech completed"),r.onEnd&&r.onEnd(),i()},c.onerror=d=>{console.error("Speech synthesis error:",d.error),r.onError&&r.onError(d),a(d)},jn.speak(c)}),af=s=>s?s.replace(/\+(\d+\.\d+)/g,"plus $1").replace(/-(\d+\.\d+)/g,"minus $1").replace(/([KQNBR]?)x([a-h]\d)/g,"$1 takes $2 ").replace(/([a-h])x([a-h]\d)/g,"$1 takes $2 ").replace(/\+$/g," check").replace(/\#$/g," checkmate").replace(/O-O-O/g,"Queen side castle").replace(/O-O/g,"King side castle").replace(/([a-h])(\d)/g,"$1 $2").replace(/([KQNBR])([a-h])(\d)/g,"$1 to $2 $3").replace(/\bK\b/g,"King").replace(/\bQ\b/g,"Queen").replace(/\bR\b/g,"Rook").replace(/\bB\b/g,"Bishop").replace(/\bN\b/g,"Knight").replace(/\s+K\s+/g," King ").replace(/\s+Q\s+/g," Queen ").replace(/\s+R\s+/g," Rook ").replace(/\s+B\s+/g," Bishop ").replace(/\s+N\s+/g," Knight ").replace(/0\.00/g,"zero point zero zero").replace(/0\.0/g,"zero point zero").replace(/[Mm]ate in (\d+)/g,"Mate in $1 moves").replace(/e\.p\./g,"en passant"):"",rs=()=>{jn&&jn.speaking&&jn.cancel()},Tm=({fen:s,onSelectMove:r,onEvaluationChange:i,onBestMovesChange:a,onPlayerLevelChange:c,onAnalyzingChange:d,playerLevel:g="beginner"})=>{var se;const[p,m]=N.useState("0.0"),[y,T]=N.useState([]),[L,k]=N.useState(""),[j,E]=N.useState(!1),[x,O]=N.useState(!1),[A,R]=N.useState("advanced"),[z,V]=N.useState(null),[Y,ne]=N.useState(!0),[ue,he]=N.useState(22),[ke,je]=N.useState(null),[Oe,ge]=N.useState(!1),[ye,Ie]=N.useState(1),[Te,we]=N.useState(!1);N.useEffect(()=>{i&&i(p)},[p,i]),N.useEffect(()=>{a&&a(y)},[y,a]),N.useEffect(()=>{d&&d(j)},[j,d]),N.useEffect(()=>()=>{rs()},[]);const fe=N.useRef(""),W=N.useRef(null),I=async(Q=ue)=>{if(!(!s||j)){fe.current=s,E(!0),V(null);try{const H=new ha(s);if(H.isCheckmate()){const te=H.turn()==="w"?"Black":"White";m(`Checkmate = ${te} wins`),T([{uci:"0000",san:"Checkmate",isCheckmate:!0,winner:te}]),E(!1);return}console.log(`Starting analysis at depth ${ue}...`),await hm(s,Q,te=>{if(fe.current!==s)return;const ve=te.depth||0,Ce=te.source||"cloud";if(console.log(`Analysis update from ${Ce}: depth ${ve}, eval: ${te.evaluation}`),m(te.evaluation),te.bestMoves&&te.bestMoves.length>0){const jt=te.bestMoves.map(bn=>({...bn,source:Ce,depth:ve}));T(jt)}(Ce==="cloud"&&ve>=ue||te.completed)&&E(!1)})}catch(H){console.error("Stockfish analysis error:",H),V("Analysis unavailable. Try again or adjust depth."),E(!1)}return()=>{fe.current===s&&E(!1)}}};N.useEffect(()=>{if(!s||!Y||(W.current&&clearTimeout(W.current),fe.current===s))return;const Q=I();return()=>{W.current&&clearTimeout(W.current),typeof Q=="function"&&Q()}},[s,Y]);const[M,w]=N.useState(null),b=async(Q=!1)=>{if(!s||x)return;const H=y.length===1&&y[0].isCheckmate;if(!(!H&&y.length===0)){O(!0),V(null),k(""),w(null);try{console.log(`Requesting explanation with ${Q?"Deep Think":"standard"} mode`);const q=performance.now(),te=await of(s,p,y,"advanced",H,!1,null,Q),ve=((performance.now()-q)/1e3).toFixed(2);if(console.log(`Response received in ${ve}s (client-side measurement)`),te&&te.explanation){k(te.explanation);const Ce=te.responseTime||ve;w(Ce),(te.model||te.deepThinkMode!==void 0)&&je({model:te.model||(te.deepThinkMode?"gemini-2.0-pro-exp-02-05":"gemini-2.0-flash"),deepThinkMode:te.deepThinkMode===!0}),console.log(`AI generated ${te.explanation.length} characters in ${Ce}s using ${te.model||"unknown model"}`),Te&&K(te.explanation)}else throw new Error("Empty or invalid response from AI service")}catch(q){console.error("Gemini explanation error:",q);const le=q.message.includes("AI analysis service")?q.message:`Failed to get AI explanation: ${q.message}. Please try again.`;V(le),k("Unable to generate AI analysis for this position. Please try again later.")}finally{O(!1)}}},K=async(Q=L)=>{if(Q)try{if(Oe){rs(),ge(!1);return}const H=af(Q);ge(!0),await lf(H,{rate:ye,onStart:()=>ge(!0),onEnd:()=>ge(!1),onError:q=>{console.error("Speech synthesis error:",q),ge(!1),V("Failed to use speech synthesis. Please check if your browser supports this feature.")}})}catch(H){console.error("Failed to speak analysis:",H),ge(!1),V("Failed to use speech synthesis. Please check if your browser supports this feature.")}},re=()=>{if(!y||y.length===0)return;let Q=`The position evaluation is ${p}. `;y&&y.length>0&&(Q+=`The best move is ${y[0].san||y[0].uci}. `,y.length>1&&(Q+=`Alternative moves include ${y.slice(1,3).map(H=>H.san||H.uci).join(" and ")}.`)),K(Q)};return h.jsxs("div",{className:"bg-white rounded-xl shadow-md ring-1 ring-gray-200/50 p-6 transition-all duration-300 hover:shadow-lg",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Position Analysis"}),h.jsxs("div",{className:"evaluation mb-6",children:[h.jsx("h4",{className:"text-md font-medium text-gray-700 mb-2",children:"Evaluation"}),h.jsxs("div",{className:"eval-display flex items-center",children:[h.jsx("div",{className:`text-lg font-bold ${p.includes("Mate")?p.includes("Mated")?"text-red-600":"text-green-600":parseFloat(p)>0?"text-green-600":parseFloat(p)<0?"text-red-600":"text-gray-800"}`,children:p.includes("Mate")?p:parseFloat(p)>0?"+"+Math.abs(parseFloat(p)).toFixed(2):parseFloat(p)<0?"-"+Math.abs(parseFloat(p)).toFixed(2):"0.00"}),j&&h.jsxs("div",{className:"ml-3 text-sm text-gray-600 flex items-center",children:[h.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-green-500 rounded-full border-t-transparent mr-2"}),"Analyzing..."]}),y.length>0&&((se=y[0])==null?void 0:se.source)&&h.jsx("div",{className:"ml-3 text-xs text-gray-500 flex items-center",children:y[0].source==="local"?h.jsxs(h.Fragment,{children:[h.jsxs("span",{children:["Browser analysis at depth ",y[0].depth||"?"]}),j&&h.jsxs("span",{className:"ml-2 flex items-center",children:[h.jsx("div",{className:"animate-pulse h-2 w-2 bg-blue-400 rounded-full mr-1"}),h.jsx("span",{className:"text-blue-500",children:"Cloud analysis in progress..."})]})]}):h.jsxs("span",{children:["Cloud analysis at depth ",y[0].depth||"?"]})})]})]}),h.jsxs("div",{className:"best-moves mb-6",children:[h.jsx("h4",{className:"text-md font-medium text-gray-700 mb-2",children:"Suggested Moves"}),y.length>0?h.jsx("ul",{className:"list-none p-0 border rounded-md divide-y shadow-sm",children:y.map((Q,H)=>h.jsxs("li",{className:"py-2 px-3 cursor-pointer hover:bg-gray-100 flex items-center",onClick:()=>r&&r(Q),children:[h.jsx("div",{className:"move-number mr-3 bg-green-100 text-green-800 px-2 py-1 rounded-md font-medium text-sm",children:H+1}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-bold",children:Q.san||"Unknown"}),h.jsx("div",{className:"text-xs text-gray-600",children:Q.uci})]}),h.jsx("div",{className:"ml-auto",children:h.jsx("button",{className:"text-sm bg-gray-800 hover:bg-gray-900 text-white px-2 py-1 rounded shadow-sm transition-all duration-200",onClick:q=>{q.stopPropagation(),r&&r(Q)},children:"Play"})})]},H))}):j?h.jsxs("div",{className:"p-4 bg-gray-50 text-center rounded-md shadow-sm",children:[h.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-gray-500 rounded-full border-t-transparent mx-auto mb-2"}),h.jsx("p",{className:"text-gray-600",children:"Analyzing position..."})]}):h.jsxs("div",{className:"p-4 bg-gray-50 text-center rounded-md shadow-sm",children:[h.jsx("p",{className:"text-gray-600 italic",children:"No suggested moves available"}),!Y&&h.jsx("button",{onClick:()=>I(ue),className:"mt-2 text-sm bg-gray-800 hover:bg-gray-900 text-white px-3 py-1 rounded shadow-sm transition-all duration-200",children:"Analyze Now"})]})]}),h.jsxs("div",{className:"analysis-settings mb-6",children:[h.jsx("h4",{className:"text-md font-medium text-gray-700 mb-2",children:"Analysis Settings"}),h.jsxs("div",{className:"flex flex-wrap gap-3 bg-gray-50 p-3 rounded-md shadow-sm",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",id:"autoAnalyze",checked:Y,onChange:()=>ne(!Y),className:"mr-2 h-4 w-4"}),h.jsx("label",{htmlFor:"autoAnalyze",className:"text-gray-800",children:"Auto-analyze positions"})]}),h.jsxs("div",{className:"flex items-center ml-4",children:[h.jsx("label",{htmlFor:"depth",className:"mr-2 text-gray-800",children:"Depth:"}),h.jsxs("select",{id:"depth",value:ue,onChange:Q=>he(Number(Q.target.value)),className:"py-1 px-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-1 text-gray-800",children:[h.jsx("option",{value:"12",children:"12 (Fast)"}),h.jsx("option",{value:"18",children:"18 (Balanced)"}),h.jsx("option",{value:"22",children:"22 (Strong)"}),h.jsx("option",{value:"26",children:"26 (Deeper)"}),h.jsx("option",{value:"32",children:"32 (Maximum)"})]})]}),!Y&&h.jsx("button",{onClick:()=>I(ue),disabled:j||!s,className:`text-sm py-1 px-3 rounded-md shadow-sm transition-all duration-200 ${j||!s?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-gray-800 hover:bg-gray-900 text-white"}`,children:j?"Analyzing...":"Analyze Now"})]})]}),h.jsxs("div",{className:"ai-explanation mb-6",children:[h.jsx("h4",{className:"text-md font-medium text-gray-700 mb-2",children:"AI Coach Explanation"}),h.jsxs("div",{className:"controls flex flex-wrap gap-3 mb-4",children:[h.jsx("button",{onClick:()=>b(!1),disabled:x||!s||y.length===0&&!p.includes("Checkmate"),className:`py-2 px-4 rounded-md font-medium text-white transition-all duration-200 shadow-md
              ${x||!s||y.length===0&&!p.includes("Checkmate")?"bg-gray-400 cursor-not-allowed":"bg-gray-800 hover:bg-gray-900 hover:shadow-lg focus:ring-2 focus:ring-gray-500 focus:ring-offset-2"}`,children:x?"Loading explanation...":p.includes("Checkmate")?"Get Game Report":"Get AI Explanation"}),h.jsx("button",{onClick:()=>b(!0),disabled:x||!s||y.length===0&&!p.includes("Checkmate"),className:`py-2 px-4 rounded-md font-medium text-white transition-all duration-200 shadow-md
              ${x||!s||y.length===0&&!p.includes("Checkmate")?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 hover:shadow-lg focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"}`,children:x?"Loading explanation...":"Deep Think Analysis"})]}),z&&h.jsx("div",{className:"text-red-600 bg-red-50 py-2 px-4 rounded-md mb-4",children:z}),h.jsx("div",{className:"explanation-content p-4 bg-gray-50 rounded-md shadow-sm text-gray-800 whitespace-pre-line",children:x?h.jsx("p",{className:"text-gray-600 italic",children:"Getting AI explanation..."}):L?h.jsxs("div",{children:[h.jsx("p",{children:L}),M&&h.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-right",children:["Generated in ",typeof M=="number"?M.toFixed(2):M,"s",ke&&h.jsxs("span",{className:"ml-2",children:["using ",ke.deepThinkMode?h.jsx("span",{className:"text-blue-600 font-medium",children:"Gemini Pro 2.0 (Deep Think)"}):h.jsx("span",{children:"Gemini Flash 2.0"})]})]})]}):h.jsx("p",{className:"text-gray-600",children:'First analyze the position, then click "Get AI Explanation" to receive personalized coaching.'})})]}),h.jsxs("div",{className:"voice-controls",children:[h.jsx("h4",{className:"text-md font-medium text-gray-700 mb-2",children:"Voice Output"}),h.jsxs("div",{className:"bg-gray-50 p-3 rounded-md shadow-sm mb-4",children:[h.jsxs("div",{className:"flex flex-wrap gap-4 mb-3",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",id:"autoSpeak",checked:Te,onChange:()=>we(!Te),className:"mr-2 h-4 w-4"}),h.jsx("label",{htmlFor:"autoSpeak",className:"text-gray-800",children:"Auto-speak analysis"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("label",{htmlFor:"speechRate",className:"mr-2 text-gray-800",children:"Speech Rate:"}),h.jsxs("select",{id:"speechRate",value:ye,onChange:Q=>Ie(Number(Q.target.value)),className:"py-1 px-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-1 text-gray-800",children:[h.jsx("option",{value:"1.0",children:"1x"}),h.jsx("option",{value:"1.5",children:"1.5x"}),h.jsx("option",{value:"2.0",children:"2x"}),h.jsx("option",{value:"2.5",children:"2.5x"}),h.jsx("option",{value:"3.0",children:"3x"})]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>K(),disabled:!L||x,className:`flex items-center py-2 px-4 rounded-md font-medium text-white transition-all duration-200 shadow-md ${!L||x?"bg-gray-400 cursor-not-allowed":Oe?"bg-red-500 hover:bg-red-600":"bg-gray-700 hover:bg-gray-800"}`,children:Oe?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]}),"Stop Speaking"]}):h.jsxs(h.Fragment,{children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15.465a5 5 0 001.414 1.414m-.293-4.95a7 7 0 011.414-3.95m2.879 2.879a3 3 0 00-4.243-4.243m2.121-2.121a7 7 0 0110 0l-5 5m-9.9 2.828a13 13 0 000 12.728"})}),"Speak Analysis"]})}),h.jsxs("button",{onClick:re,disabled:!y||y.length===0||Oe||j,className:`flex items-center py-2 px-4 rounded-md font-medium text-white transition-all duration-200 shadow-md ${!y||y.length===0||Oe||j?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3"})}),"Speak Evaluation"]})]})]})]})]})},Dm=({fen:s,evaluation:r,bestMoves:i})=>{const[a,c]=N.useState([]),[d,g]=N.useState(""),[p,m]=N.useState(!1),[y,T]=N.useState(!1),[L,k]=N.useState(""),j=N.useRef(null),E=N.useRef(null),[x,O]=N.useState(""),[A,R]=N.useState(!1),z=N.useRef(!1),[V,Y]=N.useState(!1),[ne,ue]=N.useState(!1),he=N.useRef(null),ke=N.useRef([]),je=N.useRef(null),Oe=N.useCallback(()=>{const I=window.SpeechRecognition||window.webkitSpeechRecognition;if(!I)return console.error("Speech recognition not supported in this browser"),O("Speech recognition not supported in this browser. Try using Chrome or Edge."),null;const M=new I;M.continuous=!0,M.interimResults=!0,M.maxAlternatives=5,M.lang="en-US",M.onstart=()=>{console.log("Speech recognition started"),O("Listening..."),m(!0)};const w=b=>{const K={ay:"a",a:"a",hey:"a",play:"a",bee:"b",be:"b",b:"b",beat:"b",bean:"b",see:"c",sea:"c",c:"c",seize:"c",dee:"d",de:"d",d:"d",deep:"d",e:"e",ee:"e",eat:"e",each:"e",f:"f",ef:"f",eff:"f",gee:"g",g:"g",ji:"g",gene:"g",jeep:"g",aitch:"h",h:"h",age:"h",ach:"h"},re={one:"1",1:"1",won:"1",fun:"1",two:"2",to:"2",2:"2",too:"2",do:"2",due:"2",three:"3",3:"3",tree:"3",free:"3",four:"4",for:"4",4:"4",fore:"4",five:"5",5:"5",hive:"5",six:"6",6:"6",sicks:"6",seven:"7",7:"7",heaven:"7",eight:"8",8:"8",ate:"8",hate:"8"},se={knight:"N",night:"N",net:"N",mate:"N",neat:"N",knit:"N",bishop:"B",shop:"B","be shop":"B",rook:"R",ruck:"R",rock:"R",brook:"R",rookie:"R",queen:"Q",ween:"Q",clean:"Q",cream:"Q",king:"K",keen:"K",kim:"K",pawn:"",pond:"",prawns:"",ponds:"",prawn:"",porn:"",bon:"",pan:""},Q={center:"center",centre:"center",central:"center",square:"square",diagonal:"diagonal",diagonally:"diagonal",control:"control",controls:"control",controlling:"control",developing:"development",develop:"development",attacking:"attack",attack:"attack",defending:"defense",defense:"defense",defend:"defense",castling:"castling",castle:"castling",material:"material",position:"position",positioning:"position",evaluation:"evaluation",evaluate:"evaluation",eval:"evaluation"};let q=b.toLowerCase().replace(/\b2\b/g,"to").replace(/\b4\b/g,"for").replace(/pond/g,"pawn").replace(/bond/g,"pawn").replace(/porn/g,"pawn").replace(/bon/g,"pawn").replace(/center square/g,"center squares").replace(/central square/g,"center squares").replace(/middle of the board/g,"center").split(" ").map(le=>K[le]?K[le]:re[le]?re[le]:se[le]!==void 0?se[le]:Q[le]?Q[le]:le).join(" ");return q=q.replace(/move from/gi,"").replace(/move to/gi,"").replace(/captures on/gi,"x").replace(/captures/gi,"x").replace(/takes on/gi,"x").replace(/takes/gi,"x").replace(/\s+to\s+([a-h][1-8])/gi," $1").replace(/castle/gi,"O-O").replace(/queen side castle/gi,"O-O-O").replace(/long castle/gi,"O-O-O").replace(/short castle/gi,"O-O").replace(/king side castle/gi,"O-O").replace(/check/gi,"+").replace(/checkmate/gi,"#").replace(/file/gi,"").replace(/is\s+(.*?)\s+a good move/gi,"Is $1 a good move?").replace(/what is the best move/gi,"What is the best move?").replace(/why (.*?) the best move/gi,"Why is $1 the best move?").replace(/explain the position/gi,"Explain the position.").replace(/explain this position/gi,"Explain this position."),q.includes("best move")||q.includes("why")||q.includes("how")||q.includes("what")||q.includes("is")||q.includes("explain")||q.includes("center")||q.includes("attack")||q.includes("defense")||q.includes("development")||q.includes("should i"),q};return M.onresult=b=>{let K="",re="";for(let se=b.resultIndex;se<b.results.length;se++){let Q="",H=0;const q=[];for(let te=0;te<b.results[se].length;te++){const ve=b.results[se][te].transcript,Ce=b.results[se][te].confidence;console.log(`Alternative ${te}: "${ve}" (${(Ce*100).toFixed(1)}%)`),q.push({text:ve,confidence:Ce}),Ce>H&&(Q=ve,H=Ce)}const le=["pawn","knight","bishop","rook","queen","king","e4","d4","center"];for(const te of le){const ve=q.find(Ce=>Ce.text.toLowerCase().includes(te)&&!Q.toLowerCase().includes(te)&&Ce.confidence>H*.7);if(ve){console.log(`Preferring alternative with chess term "${te}": "${ve.text}"`),Q=ve.text,H=ve.confidence;break}}if(b.results[se].isFinal){K+=Q;const te=w(Q);te!==Q.toLowerCase()?O(`Transcribed: "${Q}"  "${te}"`):O(`Transcribed with ${(H*100).toFixed(1)}% confidence`)}else re+=Q}if(K){const se=w(K);g(Q=>Q+se+" ")}k(re?w(re):"")},M.onerror=b=>{switch(console.error("Speech recognition error",b.error),b.error){case"no-speech":O("No speech detected. Please try again.");break;case"audio-capture":O("Microphone not available. Check your microphone settings.");break;case"not-allowed":O("Microphone permission denied. Please allow microphone access.");break;case"network":O("Network error. Please check your connection.");break;case"aborted":O("Speech recognition aborted");break;default:O(`Error: ${b.error}`)}m(!1)},M.onend=()=>{console.log("Speech recognition ended"),p?setTimeout(()=>{try{M.start(),O("Listening again...")}catch(b){console.error("Error restarting speech recognition:",b),m(!1),O("Failed to restart speech recognition. Click microphone to reset.")}},300):O("")},M},[p]),ge=N.useCallback(()=>{if(E.current)try{E.current.stop()}catch(M){console.error("Error stopping current speech recognition:",M)}m(!1),O("Speech recognition reset. Click microphone to start again."),k("");const I=Oe();I&&(E.current=I)},[Oe]);N.useEffect(()=>{const I=Oe();return I&&(E.current=I),()=>{if(E.current)try{E.current.stop()}catch(M){console.error("Error stopping speech recognition on unmount:",M)}}},[Oe]),N.useEffect(()=>{a.length===0&&c([{role:"assistant",content:`Welcome to Chess Coach Chat! You can ask me any questions about chess or the current position. Try asking:
        
 "Why is this move the best?"
 "What should I focus on in this position?"
 "Is e4 a good move here?"
 "How do I improve my pawn structure?"
 "Can you explain the evaluation?"
 "What's the idea behind Queen to d5?"

You can type or use the microphone button to speak your question. For chess notation, you can say moves like:
"Knight to e5" or "e4" or "Queen captures on d7".`}])},[]),N.useEffect(()=>{var I;(I=j.current)==null||I.scrollIntoView({behavior:"smooth"})},[a]);const ye=async I=>{if(I)try{if(V){rs(),Y(!1);return}const M=af(I);Y(!0),await lf(M,{onStart:()=>Y(!0),onEnd:()=>Y(!1),onError:w=>{console.error("Speech synthesis error:",w),Y(!1)}})}catch(M){console.error("Failed to speak message:",M),Y(!1)}},Ie=I=>{I=I.trim();const M=[{pattern:/\b2\b/g,replacement:"to"},{pattern:/\bpond(s)?\b/g,replacement:"pawn$1"},{pattern:/\bbon\b/g,replacement:"pawn"},{pattern:/\bbond\b/g,replacement:"pawn"},{pattern:/\bi'm trying 2\b/g,replacement:"is it good to"},{pattern:/\bwanted 2\b/g,replacement:"should I"},{pattern:/\bcentre square\b/g,replacement:"center"},{pattern:/\bcentral square\b/g,replacement:"center"},{pattern:/\bsquares? in the center\b/g,replacement:"center"},{pattern:/\bin the center\b/g,replacement:"in the center"},{pattern:/\bbest move in this position\b/g,replacement:"best move"},{pattern:/\bwhat should i do\b/g,replacement:"what is the best move"},{pattern:/\bporn\b/g,replacement:"pawn"},{pattern:/\bis ([a-h][1-8]) good\b/g,replacement:"is $1 a good move"}];let w=I;for(const{pattern:b,replacement:K}of M)w=w.replace(b,K);return(w.startsWith("what")||w.startsWith("why")||w.startsWith("how")||w.startsWith("is")||w.startsWith("should")||w.startsWith("can"))&&!w.endsWith("?")&&(w=w+"?"),console.log("Processed question:",w),w},Te=async I=>{if(!I.trim())return;const M=Ie(I);c(w=>[...w,{role:"user",content:I}]),g(""),k(""),T(!0);try{const w=await of(s,r,i,"advanced",!1,!1,M);if(w&&w.explanation){const b=w.explanation;c(K=>[...K,{role:"assistant",content:b,responseTime:w.responseTime}]),ne&&ye(b)}else throw new Error("Empty or invalid response from AI service")}catch(w){console.error("Error getting AI response:",w);const b="Sorry, I encountered an error processing your question. Please try again.";c(K=>[...K,{role:"assistant",content:b}]),ne&&ye(b)}finally{T(!1)}},we=N.useCallback(()=>{if(he.current&&he.current.state==="recording")try{he.current.stop()}catch(I){console.error("Error stopping MediaRecorder:",I)}if(je.current)try{je.current.getTracks().forEach(M=>M.stop()),je.current=null}catch(I){console.error("Error stopping media tracks:",I)}he.current=null,ke.current=[],R(!1),z.current=!1},[]);N.useCallback(async()=>{try{return(await fetch(da,{method:"OPTIONS",mode:"cors",headers:{Accept:"application/json"},credentials:"omit"})).status===204}catch(I){return console.warn("Audio service availability check failed:",I),!1}},[]);const fe=N.useCallback(async()=>{if(A){O("Stopping recording..."),R(!1),z.current=!1,he.current&&he.current.state==="recording"?he.current.stop():we();return}g(""),k(""),O("Initializing audio..."),ke.current=[];try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Your browser does not support audio recording");const I=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,channelCount:1}});je.current=I;let M="audio/webm";MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?M="audio/webm;codecs=opus":MediaRecorder.isTypeSupported("audio/webm")?M="audio/webm":MediaRecorder.isTypeSupported("audio/mp4")?M="audio/mp4":MediaRecorder.isTypeSupported("audio/ogg;codecs=opus")&&(M="audio/ogg;codecs=opus"),console.log(`Using mime type: ${M} for audio recording`);const w=new MediaRecorder(I,{mimeType:M,audioBitsPerSecond:128e3});w.ondataavailable=b=>{b.data&&b.data.size>0&&(ke.current.push(b.data),console.log(`Received audio chunk: ${b.data.size} bytes`))},he.current=w,w.onstop=async()=>{console.log("MediaRecorder stopped, processing audio...");const b=new Blob(ke.current,{type:M});if(console.log(`Recording complete: ${b.size} bytes`),b.size<1e3){O("Recording too short. Please try again and speak clearly."),R(!1),z.current=!1,we();return}O("Processing audio recording...");try{const K=await pm(b,s);K&&K!=="No audible speech detected."?(console.log("Transcription received:",K),g(K),O(`Transcribed: "${K}"`)):(console.warn("Empty or invalid transcript received"),O("No speech detected. Please try again."))}catch(K){console.error("Error transcribing audio:",K),O(`Error: ${K.message}`)}finally{R(!1),je.current&&(je.current.getTracks().forEach(K=>K.stop()),je.current=null),he.current=null}},w.onerror=b=>{console.error("MediaRecorder error:",b.error),O(`Recording error: ${b.error}`),R(!1),we()},w.start(500),R(!0),z.current=!0,O("Recording audio... Click microphone again to stop and process.")}catch(I){console.error("Error setting up audio recording:",I),O(`Error: ${I.message}. Please type your question instead.`),R(!1),we()}},[A,s,we]);N.useCallback(()=>{var I;if(x&&(x.includes("Error")||x.includes("Failed")||x.includes("denied"))){ge();return}if(p){m(!1),O("Recording stopped");try{(I=E.current)==null||I.stop()}catch(M){console.error("Error stopping speech recognition:",M),ge()}}else k(""),O("Starting microphone..."),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}).then(()=>{try{if(!E.current){const M=Oe();if(M)E.current=M;else throw new Error("Failed to initialize speech recognition")}E.current.start()}catch(M){console.error("Error starting speech recognition:",M),m(!1),O("Error starting speech recognition. Click microphone to reset.")}}).catch(M=>{console.error("Microphone permission error:",M),m(!1),O("Microphone access denied. Please allow microphone access in your browser settings.")}):(console.error("Media devices API not available"),m(!1),O("Speech recognition not supported in this browser. Try using Chrome or Edge."))},[p,x,ge,Oe]),N.useEffect(()=>{const I=M=>{M.ctrlKey&&M.code==="Space"&&(M.preventDefault(),fe())};return window.addEventListener("keydown",I),()=>{window.removeEventListener("keydown",I),rs(),we()}},[fe,we]);const W=()=>{if(a.length===0)return null;for(let I=a.length-1;I>=0;I--)if(a[I].role==="assistant")return a[I].content;return null};return h.jsxs("div",{className:"bg-white rounded-xl shadow-md ring-1 ring-gray-200/50 p-6 transition-all duration-300 hover:shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Chess Coach Chat"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"flex items-center mr-2",children:[h.jsx("input",{type:"checkbox",id:"autoSpeakChat",checked:ne,onChange:()=>ue(!ne),className:"mr-1 h-4 w-4"}),h.jsx("label",{htmlFor:"autoSpeakChat",className:"text-sm text-gray-600",children:"Auto-speak"})]}),h.jsx("button",{onClick:()=>{const I=W();I&&ye(I)},disabled:!W()||y||V,className:`flex items-center p-1.5 rounded-md text-white text-sm ${!W()||y?"bg-gray-300 cursor-not-allowed":V?"bg-red-500":"bg-gray-700 hover:bg-gray-800"}`,title:V?"Stop speaking":"Speak last response",children:V?h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15.465a5 5 0 001.414 1.414m-.293-4.95a7 7 0 011.414-3.95m2.879 2.879a3 3 0 00-4.243-4.243m2.121-2.121a7 7 0 0110 0l-5 5m-9.9 2.828a13 13 0 000 12.728"})})})]})]}),h.jsxs("div",{className:"h-96 overflow-y-auto mb-4 p-4 bg-gray-50 rounded-md",children:[a.length===0?h.jsx("div",{className:"text-gray-500 text-center italic",children:"Ask your chess coach a question about the current position..."}):a.map((I,M)=>h.jsx("div",{className:`mb-4 ${I.role==="user"?"text-right":"text-left"}`,children:h.jsxs("div",{className:`inline-block max-w-[80%] p-3 rounded-lg ${I.role==="user"?"bg-gray-700 text-white rounded-tr-none":"bg-gray-200 text-gray-800 rounded-tl-none"}`,children:[h.jsx("div",{className:"whitespace-pre-line",children:I.content}),h.jsxs("div",{className:"flex items-center justify-between mt-1",children:[I.role==="assistant"&&h.jsx("button",{onClick:()=>ye(I.content),disabled:V,className:`p-1 rounded ${V?"opacity-50 cursor-not-allowed":"hover:bg-gray-300"}`,title:"Speak this message",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15.465a5 5 0 001.414 1.414m-.293-4.95a7 7 0 011.414-3.95m2.879 2.879a3 3 0 00-4.243-4.243m2.121-2.121a7 7 0 0110 0l-5 5m-9.9 2.828a13 13 0 000 12.728"})})}),I.responseTime&&h.jsx("div",{className:"text-xs opacity-70 text-right",children:typeof I.responseTime=="number"?`${I.responseTime.toFixed(2)}s`:`${I.responseTime}s`})]})]})},M)),y&&h.jsx("div",{className:"text-center p-2",children:h.jsxs("div",{className:"inline-block",children:[h.jsx("div",{className:"animate-bounce inline-block bg-gray-500 rounded-full w-2 h-2 mr-1"}),h.jsx("div",{className:"animate-bounce inline-block bg-gray-500 rounded-full w-2 h-2 mr-1",style:{animationDelay:"0.2s"}}),h.jsx("div",{className:"animate-bounce inline-block bg-gray-500 rounded-full w-2 h-2",style:{animationDelay:"0.4s"}})]})}),h.jsx("div",{ref:j})]}),(p||x)&&h.jsxs("div",{className:"mb-3",children:[L&&h.jsx("div",{className:"p-2 bg-gray-100 text-gray-600 rounded-md italic",children:L}),x&&h.jsxs("div",{className:`mt-1 text-xs flex items-center ${x.includes("Error")||x.includes("denied")?"text-red-500":p?"text-green-600":"text-gray-500"}`,children:[p&&h.jsx("span",{className:"mr-1 inline-block h-2 w-2 rounded-full bg-green-500 animate-pulse"}),x]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("div",{className:"relative",children:h.jsxs("button",{onClick:fe,disabled:x&&(x.includes("Processing")||x.includes("Initializing")),className:`p-2 rounded-full flex items-center justify-center ${A?"bg-red-600 text-white animate-pulse":x&&(x.includes("Processing")||x.includes("Initializing"))?"bg-purple-400 text-white animate-pulse cursor-not-allowed":"bg-purple-500 text-white hover:bg-purple-600"}`,title:A?"Click to STOP recording and transcribe":x&&(x.includes("Processing")||x.includes("Initializing"))?"Processing in progress, please wait...":"Start manual recording (Ctrl+Space)",children:[A?h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]}):h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),A&&h.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[h.jsx("span",{className:"absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75 animate-ping"}),h.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]})}),h.jsxs("div",{className:"flex-1 relative",children:[h.jsx("input",{type:"text",value:d,onChange:I=>g(I.target.value),onKeyDown:I=>I.key==="Enter"&&Te(d),placeholder:p?"Speak your chess question...":"Ask about a specific move or position aspect...",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500",disabled:y}),d&&h.jsx("button",{onClick:()=>g(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Clear text",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]}),h.jsx("button",{onClick:()=>Te(d),disabled:!d.trim()||y,className:`px-4 py-2 rounded-md ${!d.trim()||y?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-800"}`,children:"Send"})]})]})},Nm=({evaluation:s,isAnalyzing:r,orientation:i="white"})=>{let a=0,c=!1,d=!1;if(typeof s=="string")if(s.includes("Mate")||s.includes("Checkmate"))c=!0,d=!s.includes("Black wins");else try{a=parseFloat(s)}catch{a=0}else typeof s=="number"&&(a=s);const g=Math.min(Math.abs(a)*5,100)/2;let p=50-g;return a<0&&(p=50+g),c&&(p=d?0:100),h.jsxs("div",{className:"evaluation-bar-container h-[450px] w-8 mr-3 flex flex-col relative rounded-md overflow-hidden shadow-md",children:[h.jsx("div",{className:"bg-black",style:{height:`${p}%`,transition:"height 0.5s ease"}}),h.jsx("div",{className:"h-[2px] bg-gray-400 absolute left-0 right-0",style:{top:"50%"}}),h.jsx("div",{className:"bg-white flex-grow border border-gray-200",style:{height:`${100-p}%`,transition:"height 0.5s ease"}}),h.jsxs("div",{className:"absolute top-0 left-0 right-0 bottom-0 flex items-center justify-center",children:[h.jsx("div",{className:`text-xs font-bold px-1 py-1 rounded-sm ${a>0?"bg-white/80 text-black":a<0?"bg-black/80 text-white":"bg-gray-400/80 text-gray-800"}`,children:c?d?"":"":a>0?"+"+Math.abs(a).toFixed(1):a<0?"-"+Math.abs(a).toFixed(1):"0.0"}),r&&h.jsxs("div",{className:"absolute top-0 left-0 right-0 bottom-0 flex items-center justify-center",children:[h.jsx("div",{className:"animate-pulse h-full w-full bg-gradient-to-b from-black/10 to-white/10 absolute"}),h.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 rounded-full border-t-transparent"})]})]}),h.jsxs("div",{className:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none",children:[h.jsx("div",{className:"absolute w-full h-[1px] bg-gray-300",style:{top:"20%"}}),h.jsx("div",{className:"absolute w-full h-[1px] bg-gray-300",style:{top:"40%"}}),h.jsx("div",{className:"absolute w-full h-[1px] bg-gray-300",style:{top:"60%"}}),h.jsx("div",{className:"absolute w-full h-[1px] bg-gray-300",style:{top:"80%"}})]})]})},jm=(s="start")=>{const[r,i]=N.useState(new ha),[a,c]=N.useState(""),[d,g]=N.useState([]),[p,m]=N.useState(null),y=N.useCallback((E=s)=>{const x=new ha(E==="start"?void 0:E);i(x),c(x.fen()),g(x.history({verbose:!0})),m(null)},[s]),T=N.useCallback((E,x,O)=>{try{console.log("Making move in chess.js:",{from:E,to:x,promotion:O});const A={from:E,to:x};O&&(A.promotion=O.toLowerCase()),console.log("Chess move object:",A);const R=r.move(A);return R?(console.log("Move successful:",R),c(r.fen()),g(r.history({verbose:!0})),m([E,x]),!0):(console.log("Move rejected by chess.js"),!1)}catch(A){return console.error("Invalid move:",A),!1}},[r]),L=N.useCallback(E=>{try{const x=r.move(E);return x?(c(r.fen()),g(r.history({verbose:!0})),m([x.from,x.to]),!0):!1}catch(x){return console.error("Invalid SAN move:",x),!1}},[r]),k=N.useCallback(()=>{if(r.undo()){c(r.fen());const x=r.history({verbose:!0});return g(x),m(x.length>0?[x[x.length-1].from,x[x.length-1].to]:null),!0}return!1},[r]),j=N.useCallback(E=>r.moves({square:E,verbose:!0}).map(O=>O.to),[r]);return N.useEffect(()=>{y()},[y]),{chess:r,fen:a,history:d,lastMove:p,makeMove:T,playMove:L,undoMove:k,initGame:y,getLegalMoves:j,isCheck:r.isCheck(),isCheckmate:r.isCheckmate(),isDraw:r.isDraw(),turn:r.turn()}},Pm=()=>{const{fen:s,history:r,lastMove:i,makeMove:a,undoMove:c,initGame:d,getLegalMoves:g,turn:p}=jm(),[m,y]=N.useState("white"),[T,L]=N.useState("0.0"),[k,j]=N.useState([]),[E,x]=N.useState(!1),O=Y=>{if(Y&&Y.uci){const ne=Y.uci.substring(0,2),ue=Y.uci.substring(2,4),he=Y.uci.length>4?Y.uci[4]:void 0;a(ne,ue,he)}},A=Y=>{console.log("Clicked move in history:",Y)},R=()=>{y(Y=>Y==="white"?"black":"white")},z=()=>{console.log("Loading white promotion test position"),d("7k/1P6/8/8/8/8/8/K7 w - - 0 1"),console.log("White pawn on b7 can be promoted by moving to b8")},V=()=>{console.log("Loading black promotion test position"),d("k7/8/8/8/8/8/1p6/K7 b - - 0 1"),console.log("Black pawn on b2 can be promoted by moving to b1")};return h.jsxs("div",{className:"max-w-[1200px] mx-auto p-5 bg-gray-100 rounded-md shadow-md",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-800",children:"Chess Voice Coach"}),h.jsxs("div",{className:"mb-2",children:[h.jsx("span",{className:"font-bold text-gray-700",children:"Current turn:"})," ",p==="w"?"White":"Black"]}),h.jsxs("div",{className:"flex flex-wrap gap-5",children:[h.jsxs("div",{className:"flex-1 min-w-[400px]",children:[h.jsxs("div",{className:"flex items-start",children:[h.jsx(Nm,{evaluation:T,isAnalyzing:E,orientation:m}),h.jsx(om,{fen:s,lastMove:i,onMove:a,orientation:m,getLegalMoves:g})]}),h.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[h.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded transition duration-200",onClick:()=>d(),children:"New Game"}),h.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded transition duration-200",onClick:c,children:"Undo Move"}),h.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded transition duration-200",onClick:R,children:"Flip Board"}),h.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded transition duration-200",onClick:()=>d("r1bqkbnr/pppp1ppp/2n5/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R w KQkq - 2 3"),children:"Load Position"}),h.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded transition duration-200",onClick:z,children:"Test White Promotion"}),h.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded transition duration-200",onClick:V,children:"Test Black Promotion"})]})]}),h.jsxs("div",{className:"flex-1 min-w-[300px] bg-white rounded-md shadow-sm p-4",children:[h.jsx(im,{history:r,onMoveClick:A}),h.jsxs("div",{className:"flex flex-col gap-5",children:[h.jsx(Tm,{fen:s,onSelectMove:O,onEvaluationChange:L,onBestMovesChange:j,onAnalyzingChange:x}),h.jsx(Dm,{fen:s,evaluation:T,bestMoves:k})]})]})]})]})};function bm(){return h.jsx("div",{className:"App",children:h.jsx(Pm,{})})}cp.createRoot(document.getElementById("root")).render(h.jsx(N.StrictMode,{children:h.jsx(bm,{})}));
