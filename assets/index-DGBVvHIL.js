var np=Object.defineProperty;var rp=(s,r,o)=>r in s?np(s,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[r]=o;var ze=(s,r,o)=>rp(s,typeof r!="symbol"?r+"":r,o);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&a(g)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();var ql={exports:{}},ji={},Kl={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nd;function ip(){if(nd)return xe;nd=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),g=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),_=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=_&&C[_]||C["@@iterator"],typeof C=="function"?C:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function L(C,b,de){this.props=C,this.context=b,this.refs=k,this.updater=de||P}L.prototype.isReactComponent={},L.prototype.setState=function(C,b){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,b,"setState")},L.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function M(){}M.prototype=L.prototype;function R(C,b,de){this.props=C,this.context=b,this.refs=k,this.updater=de||P}var I=R.prototype=new M;I.constructor=R,E(I,L.prototype),I.isPureReactComponent=!0;var Q=Array.isArray,te=Object.prototype.hasOwnProperty,ne={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function ke(C,b,de){var he,H={},Z=null,W=null;if(b!=null)for(he in b.ref!==void 0&&(W=b.ref),b.key!==void 0&&(Z=""+b.key),b)te.call(b,he)&&!se.hasOwnProperty(he)&&(H[he]=b[he]);var le=arguments.length-2;if(le===1)H.children=de;else if(1<le){for(var fe=Array(le),Se=0;Se<le;Se++)fe[Se]=arguments[Se+2];H.children=fe}if(C&&C.defaultProps)for(he in le=C.defaultProps,le)H[he]===void 0&&(H[he]=le[he]);return{$$typeof:s,type:C,key:Z,ref:W,props:H,_owner:ne.current}}function V(C,b){return{$$typeof:s,type:C.type,key:b,ref:C.ref,props:C.props,_owner:C._owner}}function ue(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function re(C){var b={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(de){return b[de]})}var ae=/\/+/g;function ee(C,b){return typeof C=="object"&&C!==null&&C.key!=null?re(""+C.key):b.toString(36)}function pe(C,b,de,he,H){var Z=typeof C;(Z==="undefined"||Z==="boolean")&&(C=null);var W=!1;if(C===null)W=!0;else switch(Z){case"string":case"number":W=!0;break;case"object":switch(C.$$typeof){case s:case r:W=!0}}if(W)return W=C,H=H(W),C=he===""?"."+ee(W,0):he,Q(H)?(de="",C!=null&&(de=C.replace(ae,"$&/")+"/"),pe(H,b,de,"",function(Se){return Se})):H!=null&&(ue(H)&&(H=V(H,de+(!H.key||W&&W.key===H.key?"":(""+H.key).replace(ae,"$&/")+"/")+C)),b.push(H)),1;if(W=0,he=he===""?".":he+":",Q(C))for(var le=0;le<C.length;le++){Z=C[le];var fe=he+ee(Z,le);W+=pe(Z,b,de,fe,H)}else if(fe=w(C),typeof fe=="function")for(C=fe.call(C),le=0;!(Z=C.next()).done;)Z=Z.value,fe=he+ee(Z,le++),W+=pe(Z,b,de,fe,H);else if(Z==="object")throw b=String(C),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return W}function _e(C,b,de){if(C==null)return C;var he=[],H=0;return pe(C,he,"","",function(Z){return b.call(de,Z,H++)}),he}function Ce(C){if(C._status===-1){var b=C._result;b=b(),b.then(function(de){(C._status===0||C._status===-1)&&(C._status=1,C._result=de)},function(de){(C._status===0||C._status===-1)&&(C._status=2,C._result=de)}),C._status===-1&&(C._status=0,C._result=b)}if(C._status===1)return C._result.default;throw C._result}var ge={current:null},B={transition:null},J={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:B,ReactCurrentOwner:ne};function $(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:_e,forEach:function(C,b,de){_e(C,function(){b.apply(this,arguments)},de)},count:function(C){var b=0;return _e(C,function(){b++}),b},toArray:function(C){return _e(C,function(b){return b})||[]},only:function(C){if(!ue(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},xe.Component=L,xe.Fragment=o,xe.Profiler=u,xe.PureComponent=R,xe.StrictMode=a,xe.Suspense=m,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,xe.act=$,xe.cloneElement=function(C,b,de){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var he=E({},C.props),H=C.key,Z=C.ref,W=C._owner;if(b!=null){if(b.ref!==void 0&&(Z=b.ref,W=ne.current),b.key!==void 0&&(H=""+b.key),C.type&&C.type.defaultProps)var le=C.type.defaultProps;for(fe in b)te.call(b,fe)&&!se.hasOwnProperty(fe)&&(he[fe]=b[fe]===void 0&&le!==void 0?le[fe]:b[fe])}var fe=arguments.length-2;if(fe===1)he.children=de;else if(1<fe){le=Array(fe);for(var Se=0;Se<fe;Se++)le[Se]=arguments[Se+2];he.children=le}return{$$typeof:s,type:C.type,key:H,ref:Z,props:he,_owner:W}},xe.createContext=function(C){return C={$$typeof:g,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:d,_context:C},C.Consumer=C},xe.createElement=ke,xe.createFactory=function(C){var b=ke.bind(null,C);return b.type=C,b},xe.createRef=function(){return{current:null}},xe.forwardRef=function(C){return{$$typeof:p,render:C}},xe.isValidElement=ue,xe.lazy=function(C){return{$$typeof:N,_payload:{_status:-1,_result:C},_init:Ce}},xe.memo=function(C,b){return{$$typeof:x,type:C,compare:b===void 0?null:b}},xe.startTransition=function(C){var b=B.transition;B.transition={};try{C()}finally{B.transition=b}},xe.unstable_act=$,xe.useCallback=function(C,b){return ge.current.useCallback(C,b)},xe.useContext=function(C){return ge.current.useContext(C)},xe.useDebugValue=function(){},xe.useDeferredValue=function(C){return ge.current.useDeferredValue(C)},xe.useEffect=function(C,b){return ge.current.useEffect(C,b)},xe.useId=function(){return ge.current.useId()},xe.useImperativeHandle=function(C,b,de){return ge.current.useImperativeHandle(C,b,de)},xe.useInsertionEffect=function(C,b){return ge.current.useInsertionEffect(C,b)},xe.useLayoutEffect=function(C,b){return ge.current.useLayoutEffect(C,b)},xe.useMemo=function(C,b){return ge.current.useMemo(C,b)},xe.useReducer=function(C,b,de){return ge.current.useReducer(C,b,de)},xe.useRef=function(C){return ge.current.useRef(C)},xe.useState=function(C){return ge.current.useState(C)},xe.useSyncExternalStore=function(C,b,de){return ge.current.useSyncExternalStore(C,b,de)},xe.useTransition=function(){return ge.current.useTransition()},xe.version="18.3.1",xe}var rd;function ya(){return rd||(rd=1,Kl.exports=ip()),Kl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id;function op(){if(id)return ji;id=1;var s=ya(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function g(p,m,x){var N,_={},w=null,P=null;x!==void 0&&(w=""+x),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(P=m.ref);for(N in m)a.call(m,N)&&!d.hasOwnProperty(N)&&(_[N]=m[N]);if(p&&p.defaultProps)for(N in m=p.defaultProps,m)_[N]===void 0&&(_[N]=m[N]);return{$$typeof:r,type:p,key:w,ref:P,props:_,_owner:u.current}}return ji.Fragment=o,ji.jsx=g,ji.jsxs=g,ji}var od;function sp(){return od||(od=1,ql.exports=op()),ql.exports}var h=sp(),T=ya(),Zo={},Gl={exports:{}},vt={},Yl={exports:{}},Xl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd;function lp(){return sd||(sd=1,function(s){function r(B,J){var $=B.length;B.push(J);e:for(;0<$;){var C=$-1>>>1,b=B[C];if(0<u(b,J))B[C]=J,B[$]=b,$=C;else break e}}function o(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var J=B[0],$=B.pop();if($!==J){B[0]=$;e:for(var C=0,b=B.length,de=b>>>1;C<de;){var he=2*(C+1)-1,H=B[he],Z=he+1,W=B[Z];if(0>u(H,$))Z<b&&0>u(W,H)?(B[C]=W,B[Z]=$,C=Z):(B[C]=H,B[he]=$,C=he);else if(Z<b&&0>u(W,$))B[C]=W,B[Z]=$,C=Z;else break e}}return J}function u(B,J){var $=B.sortIndex-J.sortIndex;return $!==0?$:B.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var g=Date,p=g.now();s.unstable_now=function(){return g.now()-p}}var m=[],x=[],N=1,_=null,w=3,P=!1,E=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(B){for(var J=o(x);J!==null;){if(J.callback===null)a(x);else if(J.startTime<=B)a(x),J.sortIndex=J.expirationTime,r(m,J);else break;J=o(x)}}function Q(B){if(k=!1,I(B),!E)if(o(m)!==null)E=!0,Ce(te);else{var J=o(x);J!==null&&ge(Q,J.startTime-B)}}function te(B,J){E=!1,k&&(k=!1,M(ke),ke=-1),P=!0;var $=w;try{for(I(J),_=o(m);_!==null&&(!(_.expirationTime>J)||B&&!re());){var C=_.callback;if(typeof C=="function"){_.callback=null,w=_.priorityLevel;var b=C(_.expirationTime<=J);J=s.unstable_now(),typeof b=="function"?_.callback=b:_===o(m)&&a(m),I(J)}else a(m);_=o(m)}if(_!==null)var de=!0;else{var he=o(x);he!==null&&ge(Q,he.startTime-J),de=!1}return de}finally{_=null,w=$,P=!1}}var ne=!1,se=null,ke=-1,V=5,ue=-1;function re(){return!(s.unstable_now()-ue<V)}function ae(){if(se!==null){var B=s.unstable_now();ue=B;var J=!0;try{J=se(!0,B)}finally{J?ee():(ne=!1,se=null)}}else ne=!1}var ee;if(typeof R=="function")ee=function(){R(ae)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,_e=pe.port2;pe.port1.onmessage=ae,ee=function(){_e.postMessage(null)}}else ee=function(){L(ae,0)};function Ce(B){se=B,ne||(ne=!0,ee())}function ge(B,J){ke=L(function(){B(s.unstable_now())},J)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_continueExecution=function(){E||P||(E=!0,Ce(te))},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return o(m)},s.unstable_next=function(B){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var $=w;w=J;try{return B()}finally{w=$}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=w;w=B;try{return J()}finally{w=$}},s.unstable_scheduleCallback=function(B,J,$){var C=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?C+$:C):$=C,B){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=$+b,B={id:N++,callback:J,priorityLevel:B,startTime:$,expirationTime:b,sortIndex:-1},$>C?(B.sortIndex=$,r(x,B),o(m)===null&&B===o(x)&&(k?(M(ke),ke=-1):k=!0,ge(Q,$-C))):(B.sortIndex=b,r(m,B),E||P||(E=!0,Ce(te))),B},s.unstable_shouldYield=re,s.unstable_wrapCallback=function(B){var J=w;return function(){var $=w;w=J;try{return B.apply(this,arguments)}finally{w=$}}}}(Xl)),Xl}var ld;function ap(){return ld||(ld=1,Yl.exports=lp()),Yl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad;function up(){if(ad)return vt;ad=1;var s=ya(),r=ap();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function d(e,t){g(e,t),g(e+"Capture",t)}function g(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N={},_={};function w(e){return m.call(_,e)?!0:m.call(N,e)?!1:x.test(e)?_[e]=!0:(N[e]=!0,!1)}function P(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E(e,t,n,i){if(t===null||typeof t>"u"||P(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function k(e,t,n,i,l,c,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=f}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){L[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];L[t]=new k(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){L[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){L[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){L[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){L[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){L[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){L[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){L[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function R(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,R);L[t]=new k(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,R);L[t]=new k(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,R);L[t]=new k(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){L[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),L.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){L[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function I(e,t,n,i){var l=L.hasOwnProperty(t)?L[t]:null;(l!==null?l.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E(t,n,l,i)&&(n=null),i||l===null?w(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,i=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Q=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),ne=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),ke=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),re=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),B=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,C;function b(e){if(C===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);C=t&&t[1]||""}return`
`+C+e}var de=!1;function he(e,t){if(!e||de)return"";de=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(j){var i=j}Reflect.construct(e,[],t)}else{try{t.call()}catch(j){i=j}e.call(t.prototype)}else{try{throw Error()}catch(j){i=j}e()}}catch(j){if(j&&i&&typeof j.stack=="string"){for(var l=j.stack.split(`
`),c=i.stack.split(`
`),f=l.length-1,v=c.length-1;1<=f&&0<=v&&l[f]!==c[v];)v--;for(;1<=f&&0<=v;f--,v--)if(l[f]!==c[v]){if(f!==1||v!==1)do if(f--,v--,0>v||l[f]!==c[v]){var y=`
`+l[f].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=f&&0<=v);break}}}finally{de=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?b(e):""}function H(e){switch(e.tag){case 5:return b(e.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function Z(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case se:return"Fragment";case ne:return"Portal";case V:return"Profiler";case ke:return"StrictMode";case ee:return"Suspense";case pe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case re:return(e.displayName||"Context")+".Consumer";case ue:return(e._context.displayName||"Context")+".Provider";case ae:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _e:return t=e.displayName||null,t!==null?t:Z(e.type)||"Memo";case Ce:t=e._payload,e=e._init;try{return Z(e(t))}catch{}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===ke?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function le(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Se(e){var t=fe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(f){i=""+f,c.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(f){i=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function we(e){e._valueTracker||(e._valueTracker=Se(e))}function We(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=fe(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function ut(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ur(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dr(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=le(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xt(e,t){t=t.checked,t!=null&&I(e,"checked",t,!1)}function Hr(e,t){Xt(e,t);var n=le(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Br(e,t.type,n):t.hasOwnProperty("defaultValue")&&Br(e,t.type,le(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fr(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Br(e,t,n){(t!=="number"||ut(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var un=Array.isArray;function cn(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+le(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function zn(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wr(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(o(92));if(un(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:le(n)}}function hr(e,t){var n=le(t.value),i=le(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function bt(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dn(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gr,$i=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vr=["Webkit","ms","Moz","O"];Object.keys(Wt).forEach(function(e){Vr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wt[t]=Wt[e]})});function Ui(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wt.hasOwnProperty(e)&&Wt[e]?(""+t).trim():t+"px"}function $n(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,l=Ui(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,l):e[n]=l}}var mr=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qr(e,t){if(t){if(mr[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function qr(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kr=null;function Gr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Un=null,fn=null,hn=null;function Hi(e){if(e=gi(e)){if(typeof Un!="function")throw Error(o(280));var t=e.stateNode;t&&(t=ho(t),Un(e.stateNode,e.type,t))}}function Bi(e){fn?hn?hn.push(e):hn=[e]:fn=e}function vr(){if(fn){var e=fn,t=hn;if(hn=fn=null,Hi(e),t)for(e=0;e<t.length;e++)Hi(t[e])}}function Wi(e,t){return e(t)}function Hn(){}var Bn=!1;function Vi(e,t,n){if(Bn)return e(t,n);Bn=!0;try{return Wi(e,t,n)}finally{Bn=!1,(fn!==null||hn!==null)&&(Hn(),vr())}}function Wn(e,t){var n=e.stateNode;if(n===null)return null;var i=ho(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var Yr=!1;if(p)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Yr=!1}function je(e,t,n,i,l,c,f,v,y){var j=Array.prototype.slice.call(arguments,3);try{t.apply(n,j)}catch(z){this.onError(z)}}var Te=!1,Je=null,Fe=!1,Et=null,wt={onError:function(e){Te=!0,Je=e}};function fs(e,t,n,i,l,c,f,v,y){Te=!1,Je=null,je.apply(wt,arguments)}function df(e,t,n,i,l,c,f,v,y){if(fs.apply(this,arguments),Te){if(Te){var j=Je;Te=!1,Je=null}else throw Error(o(198));Fe||(Fe=!0,Et=j)}}function Qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _a(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Oa(e){if(Qn(e)!==e)throw Error(o(188))}function ff(e){var t=e.alternate;if(!t){if(t=Qn(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var c=l.alternate;if(c===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===n)return Oa(l),e;if(c===i)return Oa(l),t;c=c.sibling}throw Error(o(188))}if(n.return!==i.return)n=l,i=c;else{for(var f=!1,v=l.child;v;){if(v===n){f=!0,n=l,i=c;break}if(v===i){f=!0,i=l,n=c;break}v=v.sibling}if(!f){for(v=c.child;v;){if(v===n){f=!0,n=c,i=l;break}if(v===i){f=!0,i=c,n=l;break}v=v.sibling}if(!f)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function Da(e){return e=ff(e),e!==null?Ta(e):null}function Ta(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ta(e);if(t!==null)return t;e=e.sibling}return null}var Na=r.unstable_scheduleCallback,ja=r.unstable_cancelCallback,hf=r.unstable_shouldYield,pf=r.unstable_requestPaint,Ue=r.unstable_now,gf=r.unstable_getCurrentPriorityLevel,hs=r.unstable_ImmediatePriority,Pa=r.unstable_UserBlockingPriority,Qi=r.unstable_NormalPriority,mf=r.unstable_LowPriority,La=r.unstable_IdlePriority,qi=null,Vt=null;function vf(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(qi,e,void 0,(e.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:Sf,yf=Math.log,wf=Math.LN2;function Sf(e){return e>>>=0,e===0?32:31-(yf(e)/wf|0)|0}var Ki=64,Gi=4194304;function Xr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yi(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,l=e.suspendedLanes,c=e.pingedLanes,f=n&268435455;if(f!==0){var v=f&~l;v!==0?i=Xr(v):(c&=f,c!==0&&(i=Xr(c)))}else f=n&~l,f!==0?i=Xr(f):c!==0&&(i=Xr(c));if(i===0)return 0;if(t!==0&&t!==i&&(t&l)===0&&(l=i&-i,c=t&-t,l>=c||l===16&&(c&4194240)!==0))return t;if((i&4)!==0&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Rt(t),l=1<<n,i|=e[n],t&=~l;return i}function xf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kf(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes;0<c;){var f=31-Rt(c),v=1<<f,y=l[f];y===-1?((v&n)===0||(v&i)!==0)&&(l[f]=xf(v,t)):y<=t&&(e.expiredLanes|=v),c&=~v}}function ps(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ma(){var e=Ki;return Ki<<=1,(Ki&4194240)===0&&(Ki=64),e}function gs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rt(t),e[t]=n}function Cf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Rt(n),c=1<<l;t[l]=0,i[l]=-1,e[l]=-1,n&=~c}}function ms(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Rt(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}var De=0;function Ia(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ba,vs,Ra,Aa,za,ys=!1,Xi=[],pn=null,gn=null,mn=null,Jr=new Map,ei=new Map,vn=[],Ef="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fa(e,t){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Jr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ei.delete(t.pointerId)}}function ti(e,t,n,i,l,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:c,targetContainers:[l]},t!==null&&(t=gi(t),t!==null&&vs(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function _f(e,t,n,i,l){switch(t){case"focusin":return pn=ti(pn,e,t,n,i,l),!0;case"dragenter":return gn=ti(gn,e,t,n,i,l),!0;case"mouseover":return mn=ti(mn,e,t,n,i,l),!0;case"pointerover":var c=l.pointerId;return Jr.set(c,ti(Jr.get(c)||null,e,t,n,i,l)),!0;case"gotpointercapture":return c=l.pointerId,ei.set(c,ti(ei.get(c)||null,e,t,n,i,l)),!0}return!1}function $a(e){var t=qn(e.target);if(t!==null){var n=Qn(t);if(n!==null){if(t=n.tag,t===13){if(t=_a(n),t!==null){e.blockedOn=t,za(e.priority,function(){Ra(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ss(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Kr=i,n.target.dispatchEvent(i),Kr=null}else return t=gi(n),t!==null&&vs(t),e.blockedOn=n,!1;t.shift()}return!0}function Ua(e,t,n){Zi(e)&&n.delete(t)}function Of(){ys=!1,pn!==null&&Zi(pn)&&(pn=null),gn!==null&&Zi(gn)&&(gn=null),mn!==null&&Zi(mn)&&(mn=null),Jr.forEach(Ua),ei.forEach(Ua)}function ni(e,t){e.blockedOn===t&&(e.blockedOn=null,ys||(ys=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Of)))}function ri(e){function t(l){return ni(l,e)}if(0<Xi.length){ni(Xi[0],e);for(var n=1;n<Xi.length;n++){var i=Xi[n];i.blockedOn===e&&(i.blockedOn=null)}}for(pn!==null&&ni(pn,e),gn!==null&&ni(gn,e),mn!==null&&ni(mn,e),Jr.forEach(t),ei.forEach(t),n=0;n<vn.length;n++)i=vn[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<vn.length&&(n=vn[0],n.blockedOn===null);)$a(n),n.blockedOn===null&&vn.shift()}var yr=Q.ReactCurrentBatchConfig,Ji=!0;function Df(e,t,n,i){var l=De,c=yr.transition;yr.transition=null;try{De=1,ws(e,t,n,i)}finally{De=l,yr.transition=c}}function Tf(e,t,n,i){var l=De,c=yr.transition;yr.transition=null;try{De=4,ws(e,t,n,i)}finally{De=l,yr.transition=c}}function ws(e,t,n,i){if(Ji){var l=Ss(e,t,n,i);if(l===null)As(e,t,i,eo,n),Fa(e,i);else if(_f(l,e,t,n,i))i.stopPropagation();else if(Fa(e,i),t&4&&-1<Ef.indexOf(e)){for(;l!==null;){var c=gi(l);if(c!==null&&ba(c),c=Ss(e,t,n,i),c===null&&As(e,t,i,eo,n),c===l)break;l=c}l!==null&&i.stopPropagation()}else As(e,t,i,null,n)}}var eo=null;function Ss(e,t,n,i){if(eo=null,e=Gr(i),e=qn(e),e!==null)if(t=Qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_a(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return eo=e,null}function Ha(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gf()){case hs:return 1;case Pa:return 4;case Qi:case mf:return 16;case La:return 536870912;default:return 16}default:return 16}}var yn=null,xs=null,to=null;function Ba(){if(to)return to;var e,t=xs,n=t.length,i,l="value"in yn?yn.value:yn.textContent,c=l.length;for(e=0;e<n&&t[e]===l[e];e++);var f=n-e;for(i=1;i<=f&&t[n-i]===l[c-i];i++);return to=l.slice(e,1<i?1-i:void 0)}function no(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ro(){return!0}function Wa(){return!1}function St(e){function t(n,i,l,c,f){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(c):c[v]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?ro:Wa,this.isPropagationStopped=Wa,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ro)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ro)},persist:function(){},isPersistent:ro}),t}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ks=St(wr),ii=$({},wr,{view:0,detail:0}),Nf=St(ii),Cs,Es,oi,io=$({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(Cs=e.screenX-oi.screenX,Es=e.screenY-oi.screenY):Es=Cs=0,oi=e),Cs)},movementY:function(e){return"movementY"in e?e.movementY:Es}}),Va=St(io),jf=$({},io,{dataTransfer:0}),Pf=St(jf),Lf=$({},ii,{relatedTarget:0}),_s=St(Lf),Mf=$({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),If=St(Mf),bf=$({},wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rf=St(bf),Af=$({},wr,{data:0}),Qa=St(Af),zf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ff={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$f[e])?!!t[e]:!1}function Os(){return Uf}var Hf=$({},ii,{key:function(e){if(e.key){var t=zf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=no(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ff[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(e){return e.type==="keypress"?no(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?no(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bf=St(Hf),Wf=$({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qa=St(Wf),Vf=$({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),Qf=St(Vf),qf=$({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kf=St(qf),Gf=$({},io,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yf=St(Gf),Xf=[9,13,27,32],Ds=p&&"CompositionEvent"in window,si=null;p&&"documentMode"in document&&(si=document.documentMode);var Zf=p&&"TextEvent"in window&&!si,Ka=p&&(!Ds||si&&8<si&&11>=si),Ga=" ",Ya=!1;function Xa(e,t){switch(e){case"keyup":return Xf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Za(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sr=!1;function Jf(e,t){switch(e){case"compositionend":return Za(t);case"keypress":return t.which!==32?null:(Ya=!0,Ga);case"textInput":return e=t.data,e===Ga&&Ya?null:e;default:return null}}function eh(e,t){if(Sr)return e==="compositionend"||!Ds&&Xa(e,t)?(e=Ba(),to=xs=yn=null,Sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ka&&t.locale!=="ko"?null:t.data;default:return null}}var th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!th[e.type]:t==="textarea"}function eu(e,t,n,i){Bi(i),t=uo(t,"onChange"),0<t.length&&(n=new ks("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var li=null,ai=null;function nh(e){yu(e,0)}function oo(e){var t=_r(e);if(We(t))return e}function rh(e,t){if(e==="change")return t}var tu=!1;if(p){var Ts;if(p){var Ns="oninput"in document;if(!Ns){var nu=document.createElement("div");nu.setAttribute("oninput","return;"),Ns=typeof nu.oninput=="function"}Ts=Ns}else Ts=!1;tu=Ts&&(!document.documentMode||9<document.documentMode)}function ru(){li&&(li.detachEvent("onpropertychange",iu),ai=li=null)}function iu(e){if(e.propertyName==="value"&&oo(ai)){var t=[];eu(t,ai,e,Gr(e)),Vi(nh,t)}}function ih(e,t,n){e==="focusin"?(ru(),li=t,ai=n,li.attachEvent("onpropertychange",iu)):e==="focusout"&&ru()}function oh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oo(ai)}function sh(e,t){if(e==="click")return oo(t)}function lh(e,t){if(e==="input"||e==="change")return oo(t)}function ah(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:ah;function ui(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!m.call(t,l)||!At(e[l],t[l]))return!1}return!0}function ou(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function su(e,t){var n=ou(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ou(n)}}function lu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function au(){for(var e=window,t=ut();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ut(e.document)}return t}function js(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uh(e){var t=au(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lu(n.ownerDocument.documentElement,n)){if(i!==null&&js(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,c=Math.min(i.start,l);i=i.end===void 0?c:Math.min(i.end,l),!e.extend&&c>i&&(l=i,i=c,c=l),l=su(n,c);var f=su(n,i);l&&f&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),c>i?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ch=p&&"documentMode"in document&&11>=document.documentMode,xr=null,Ps=null,ci=null,Ls=!1;function uu(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ls||xr==null||xr!==ut(i)||(i=xr,"selectionStart"in i&&js(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ci&&ui(ci,i)||(ci=i,i=uo(Ps,"onSelect"),0<i.length&&(t=new ks("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=xr)))}function so(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionend:so("Transition","TransitionEnd")},Ms={},cu={};p&&(cu=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function lo(e){if(Ms[e])return Ms[e];if(!kr[e])return e;var t=kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cu)return Ms[e]=t[n];return e}var du=lo("animationend"),fu=lo("animationiteration"),hu=lo("animationstart"),pu=lo("transitionend"),gu=new Map,mu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(e,t){gu.set(e,t),d(t,[e])}for(var Is=0;Is<mu.length;Is++){var bs=mu[Is],dh=bs.toLowerCase(),fh=bs[0].toUpperCase()+bs.slice(1);wn(dh,"on"+fh)}wn(du,"onAnimationEnd"),wn(fu,"onAnimationIteration"),wn(hu,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(pu,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hh=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function vu(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,df(i,t,void 0,e),e.currentTarget=null}function yu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var c=void 0;if(t)for(var f=i.length-1;0<=f;f--){var v=i[f],y=v.instance,j=v.currentTarget;if(v=v.listener,y!==c&&l.isPropagationStopped())break e;vu(l,v,j),c=y}else for(f=0;f<i.length;f++){if(v=i[f],y=v.instance,j=v.currentTarget,v=v.listener,y!==c&&l.isPropagationStopped())break e;vu(l,v,j),c=y}}}if(Fe)throw e=Et,Fe=!1,Et=null,e}function Le(e,t){var n=t[Bs];n===void 0&&(n=t[Bs]=new Set);var i=e+"__bubble";n.has(i)||(wu(t,e,2,!1),n.add(i))}function Rs(e,t,n){var i=0;t&&(i|=4),wu(n,e,i,t)}var ao="_reactListening"+Math.random().toString(36).slice(2);function fi(e){if(!e[ao]){e[ao]=!0,a.forEach(function(n){n!=="selectionchange"&&(hh.has(n)||Rs(n,!1,e),Rs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ao]||(t[ao]=!0,Rs("selectionchange",!1,t))}}function wu(e,t,n,i){switch(Ha(t)){case 1:var l=Df;break;case 4:l=Tf;break;default:l=ws}n=l.bind(null,t,n,e),l=void 0,!Yr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function As(e,t,n,i,l){var c=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var f=i.tag;if(f===3||f===4){var v=i.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(f===4)for(f=i.return;f!==null;){var y=f.tag;if((y===3||y===4)&&(y=f.stateNode.containerInfo,y===l||y.nodeType===8&&y.parentNode===l))return;f=f.return}for(;v!==null;){if(f=qn(v),f===null)return;if(y=f.tag,y===5||y===6){i=c=f;continue e}v=v.parentNode}}i=i.return}Vi(function(){var j=c,z=Gr(n),F=[];e:{var A=gu.get(e);if(A!==void 0){var q=ks,G=e;switch(e){case"keypress":if(no(n)===0)break e;case"keydown":case"keyup":q=Bf;break;case"focusin":G="focus",q=_s;break;case"focusout":G="blur",q=_s;break;case"beforeblur":case"afterblur":q=_s;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Qf;break;case du:case fu:case hu:q=If;break;case pu:q=Kf;break;case"scroll":q=Nf;break;case"wheel":q=Yf;break;case"copy":case"cut":case"paste":q=Rf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=qa}var Y=(t&4)!==0,He=!Y&&e==="scroll",O=Y?A!==null?A+"Capture":null:A;Y=[];for(var S=j,D;S!==null;){D=S;var U=D.stateNode;if(D.tag===5&&U!==null&&(D=U,O!==null&&(U=Wn(S,O),U!=null&&Y.push(hi(S,U,D)))),He)break;S=S.return}0<Y.length&&(A=new q(A,G,null,n,z),F.push({event:A,listeners:Y}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",A&&n!==Kr&&(G=n.relatedTarget||n.fromElement)&&(qn(G)||G[Zt]))break e;if((q||A)&&(A=z.window===z?z:(A=z.ownerDocument)?A.defaultView||A.parentWindow:window,q?(G=n.relatedTarget||n.toElement,q=j,G=G?qn(G):null,G!==null&&(He=Qn(G),G!==He||G.tag!==5&&G.tag!==6)&&(G=null)):(q=null,G=j),q!==G)){if(Y=Va,U="onMouseLeave",O="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(Y=qa,U="onPointerLeave",O="onPointerEnter",S="pointer"),He=q==null?A:_r(q),D=G==null?A:_r(G),A=new Y(U,S+"leave",q,n,z),A.target=He,A.relatedTarget=D,U=null,qn(z)===j&&(Y=new Y(O,S+"enter",G,n,z),Y.target=D,Y.relatedTarget=He,U=Y),He=U,q&&G)t:{for(Y=q,O=G,S=0,D=Y;D;D=Cr(D))S++;for(D=0,U=O;U;U=Cr(U))D++;for(;0<S-D;)Y=Cr(Y),S--;for(;0<D-S;)O=Cr(O),D--;for(;S--;){if(Y===O||O!==null&&Y===O.alternate)break t;Y=Cr(Y),O=Cr(O)}Y=null}else Y=null;q!==null&&Su(F,A,q,Y,!1),G!==null&&He!==null&&Su(F,He,G,Y,!0)}}e:{if(A=j?_r(j):window,q=A.nodeName&&A.nodeName.toLowerCase(),q==="select"||q==="input"&&A.type==="file")var X=rh;else if(Ja(A))if(tu)X=lh;else{X=oh;var ie=ih}else(q=A.nodeName)&&q.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(X=sh);if(X&&(X=X(e,j))){eu(F,X,n,z);break e}ie&&ie(e,A,j),e==="focusout"&&(ie=A._wrapperState)&&ie.controlled&&A.type==="number"&&Br(A,"number",A.value)}switch(ie=j?_r(j):window,e){case"focusin":(Ja(ie)||ie.contentEditable==="true")&&(xr=ie,Ps=j,ci=null);break;case"focusout":ci=Ps=xr=null;break;case"mousedown":Ls=!0;break;case"contextmenu":case"mouseup":case"dragend":Ls=!1,uu(F,n,z);break;case"selectionchange":if(ch)break;case"keydown":case"keyup":uu(F,n,z)}var oe;if(Ds)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Sr?Xa(e,n)&&(ce="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ce="onCompositionStart");ce&&(Ka&&n.locale!=="ko"&&(Sr||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Sr&&(oe=Ba()):(yn=z,xs="value"in yn?yn.value:yn.textContent,Sr=!0)),ie=uo(j,ce),0<ie.length&&(ce=new Qa(ce,e,null,n,z),F.push({event:ce,listeners:ie}),oe?ce.data=oe:(oe=Za(n),oe!==null&&(ce.data=oe)))),(oe=Zf?Jf(e,n):eh(e,n))&&(j=uo(j,"onBeforeInput"),0<j.length&&(z=new Qa("onBeforeInput","beforeinput",null,n,z),F.push({event:z,listeners:j}),z.data=oe))}yu(F,t)})}function hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function uo(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,c=l.stateNode;l.tag===5&&c!==null&&(l=c,c=Wn(e,n),c!=null&&i.unshift(hi(e,c,l)),c=Wn(e,t),c!=null&&i.push(hi(e,c,l))),e=e.return}return i}function Cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Su(e,t,n,i,l){for(var c=t._reactName,f=[];n!==null&&n!==i;){var v=n,y=v.alternate,j=v.stateNode;if(y!==null&&y===i)break;v.tag===5&&j!==null&&(v=j,l?(y=Wn(n,c),y!=null&&f.unshift(hi(n,y,v))):l||(y=Wn(n,c),y!=null&&f.push(hi(n,y,v)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var ph=/\r\n?/g,gh=/\u0000|\uFFFD/g;function xu(e){return(typeof e=="string"?e:""+e).replace(ph,`
`).replace(gh,"")}function co(e,t,n){if(t=xu(t),xu(e)!==t&&n)throw Error(o(425))}function fo(){}var zs=null,Fs=null;function $s(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Us=typeof setTimeout=="function"?setTimeout:void 0,mh=typeof clearTimeout=="function"?clearTimeout:void 0,ku=typeof Promise=="function"?Promise:void 0,vh=typeof queueMicrotask=="function"?queueMicrotask:typeof ku<"u"?function(e){return ku.resolve(null).then(e).catch(yh)}:Us;function yh(e){setTimeout(function(){throw e})}function Hs(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(i===0){e.removeChild(l),ri(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=l}while(n);ri(t)}function Sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Er=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Er,pi="__reactProps$"+Er,Zt="__reactContainer$"+Er,Bs="__reactEvents$"+Er,wh="__reactListeners$"+Er,Sh="__reactHandles$"+Er;function qn(e){var t=e[Qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zt]||n[Qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cu(e);e!==null;){if(n=e[Qt])return n;e=Cu(e)}return t}e=n,n=e.parentNode}return null}function gi(e){return e=e[Qt]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function ho(e){return e[pi]||null}var Ws=[],Or=-1;function xn(e){return{current:e}}function Me(e){0>Or||(e.current=Ws[Or],Ws[Or]=null,Or--)}function Pe(e,t){Or++,Ws[Or]=e.current,e.current=t}var kn={},nt=xn(kn),ft=xn(!1),Kn=kn;function Dr(e,t){var n=e.type.contextTypes;if(!n)return kn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var l={},c;for(c in n)l[c]=t[c];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function ht(e){return e=e.childContextTypes,e!=null}function po(){Me(ft),Me(nt)}function Eu(e,t,n){if(nt.current!==kn)throw Error(o(168));Pe(nt,t),Pe(ft,n)}function _u(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var l in i)if(!(l in t))throw Error(o(108,W(e)||"Unknown",l));return $({},n,i)}function go(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Kn=nt.current,Pe(nt,e),Pe(ft,ft.current),!0}function Ou(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=_u(e,t,Kn),i.__reactInternalMemoizedMergedChildContext=e,Me(ft),Me(nt),Pe(nt,e)):Me(ft),Pe(ft,n)}var Jt=null,mo=!1,Vs=!1;function Du(e){Jt===null?Jt=[e]:Jt.push(e)}function xh(e){mo=!0,Du(e)}function Cn(){if(!Vs&&Jt!==null){Vs=!0;var e=0,t=De;try{var n=Jt;for(De=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Jt=null,mo=!1}catch(l){throw Jt!==null&&(Jt=Jt.slice(e+1)),Na(hs,Cn),l}finally{De=t,Vs=!1}}return null}var Tr=[],Nr=0,vo=null,yo=0,_t=[],Ot=0,Gn=null,en=1,tn="";function Yn(e,t){Tr[Nr++]=yo,Tr[Nr++]=vo,vo=e,yo=t}function Tu(e,t,n){_t[Ot++]=en,_t[Ot++]=tn,_t[Ot++]=Gn,Gn=e;var i=en;e=tn;var l=32-Rt(i)-1;i&=~(1<<l),n+=1;var c=32-Rt(t)+l;if(30<c){var f=l-l%5;c=(i&(1<<f)-1).toString(32),i>>=f,l-=f,en=1<<32-Rt(t)+l|n<<l|i,tn=c+e}else en=1<<c|n<<l|i,tn=e}function Qs(e){e.return!==null&&(Yn(e,1),Tu(e,1,0))}function qs(e){for(;e===vo;)vo=Tr[--Nr],Tr[Nr]=null,yo=Tr[--Nr],Tr[Nr]=null;for(;e===Gn;)Gn=_t[--Ot],_t[Ot]=null,tn=_t[--Ot],_t[Ot]=null,en=_t[--Ot],_t[Ot]=null}var xt=null,kt=null,Ie=!1,zt=null;function Nu(e,t){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ju(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,kt=Sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gn!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xt=e,kt=null,!0):!1;default:return!1}}function Ks(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gs(e){if(Ie){var t=kt;if(t){var n=t;if(!ju(e,t)){if(Ks(e))throw Error(o(418));t=Sn(n.nextSibling);var i=xt;t&&ju(e,t)?Nu(i,n):(e.flags=e.flags&-4097|2,Ie=!1,xt=e)}}else{if(Ks(e))throw Error(o(418));e.flags=e.flags&-4097|2,Ie=!1,xt=e}}}function Pu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function wo(e){if(e!==xt)return!1;if(!Ie)return Pu(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$s(e.type,e.memoizedProps)),t&&(t=kt)){if(Ks(e))throw Lu(),Error(o(418));for(;t;)Nu(e,t),t=Sn(t.nextSibling)}if(Pu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kt=Sn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=xt?Sn(e.stateNode.nextSibling):null;return!0}function Lu(){for(var e=kt;e;)e=Sn(e.nextSibling)}function jr(){kt=xt=null,Ie=!1}function Ys(e){zt===null?zt=[e]:zt.push(e)}var kh=Q.ReactCurrentBatchConfig;function mi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var l=i,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(f){var v=l.refs;f===null?delete v[c]:v[c]=f},t._stringRef=c,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function So(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mu(e){var t=e._init;return t(e._payload)}function Iu(e){function t(O,S){if(e){var D=O.deletions;D===null?(O.deletions=[S],O.flags|=16):D.push(S)}}function n(O,S){if(!e)return null;for(;S!==null;)t(O,S),S=S.sibling;return null}function i(O,S){for(O=new Map;S!==null;)S.key!==null?O.set(S.key,S):O.set(S.index,S),S=S.sibling;return O}function l(O,S){return O=Pn(O,S),O.index=0,O.sibling=null,O}function c(O,S,D){return O.index=D,e?(D=O.alternate,D!==null?(D=D.index,D<S?(O.flags|=2,S):D):(O.flags|=2,S)):(O.flags|=1048576,S)}function f(O){return e&&O.alternate===null&&(O.flags|=2),O}function v(O,S,D,U){return S===null||S.tag!==6?(S=Ul(D,O.mode,U),S.return=O,S):(S=l(S,D),S.return=O,S)}function y(O,S,D,U){var X=D.type;return X===se?z(O,S,D.props.children,U,D.key):S!==null&&(S.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ce&&Mu(X)===S.type)?(U=l(S,D.props),U.ref=mi(O,S,D),U.return=O,U):(U=Wo(D.type,D.key,D.props,null,O.mode,U),U.ref=mi(O,S,D),U.return=O,U)}function j(O,S,D,U){return S===null||S.tag!==4||S.stateNode.containerInfo!==D.containerInfo||S.stateNode.implementation!==D.implementation?(S=Hl(D,O.mode,U),S.return=O,S):(S=l(S,D.children||[]),S.return=O,S)}function z(O,S,D,U,X){return S===null||S.tag!==7?(S=ir(D,O.mode,U,X),S.return=O,S):(S=l(S,D),S.return=O,S)}function F(O,S,D){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Ul(""+S,O.mode,D),S.return=O,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case te:return D=Wo(S.type,S.key,S.props,null,O.mode,D),D.ref=mi(O,null,S),D.return=O,D;case ne:return S=Hl(S,O.mode,D),S.return=O,S;case Ce:var U=S._init;return F(O,U(S._payload),D)}if(un(S)||J(S))return S=ir(S,O.mode,D,null),S.return=O,S;So(O,S)}return null}function A(O,S,D,U){var X=S!==null?S.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return X!==null?null:v(O,S,""+D,U);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case te:return D.key===X?y(O,S,D,U):null;case ne:return D.key===X?j(O,S,D,U):null;case Ce:return X=D._init,A(O,S,X(D._payload),U)}if(un(D)||J(D))return X!==null?null:z(O,S,D,U,null);So(O,D)}return null}function q(O,S,D,U,X){if(typeof U=="string"&&U!==""||typeof U=="number")return O=O.get(D)||null,v(S,O,""+U,X);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case te:return O=O.get(U.key===null?D:U.key)||null,y(S,O,U,X);case ne:return O=O.get(U.key===null?D:U.key)||null,j(S,O,U,X);case Ce:var ie=U._init;return q(O,S,D,ie(U._payload),X)}if(un(U)||J(U))return O=O.get(D)||null,z(S,O,U,X,null);So(S,U)}return null}function G(O,S,D,U){for(var X=null,ie=null,oe=S,ce=S=0,Xe=null;oe!==null&&ce<D.length;ce++){oe.index>ce?(Xe=oe,oe=null):Xe=oe.sibling;var Oe=A(O,oe,D[ce],U);if(Oe===null){oe===null&&(oe=Xe);break}e&&oe&&Oe.alternate===null&&t(O,oe),S=c(Oe,S,ce),ie===null?X=Oe:ie.sibling=Oe,ie=Oe,oe=Xe}if(ce===D.length)return n(O,oe),Ie&&Yn(O,ce),X;if(oe===null){for(;ce<D.length;ce++)oe=F(O,D[ce],U),oe!==null&&(S=c(oe,S,ce),ie===null?X=oe:ie.sibling=oe,ie=oe);return Ie&&Yn(O,ce),X}for(oe=i(O,oe);ce<D.length;ce++)Xe=q(oe,O,ce,D[ce],U),Xe!==null&&(e&&Xe.alternate!==null&&oe.delete(Xe.key===null?ce:Xe.key),S=c(Xe,S,ce),ie===null?X=Xe:ie.sibling=Xe,ie=Xe);return e&&oe.forEach(function(Ln){return t(O,Ln)}),Ie&&Yn(O,ce),X}function Y(O,S,D,U){var X=J(D);if(typeof X!="function")throw Error(o(150));if(D=X.call(D),D==null)throw Error(o(151));for(var ie=X=null,oe=S,ce=S=0,Xe=null,Oe=D.next();oe!==null&&!Oe.done;ce++,Oe=D.next()){oe.index>ce?(Xe=oe,oe=null):Xe=oe.sibling;var Ln=A(O,oe,Oe.value,U);if(Ln===null){oe===null&&(oe=Xe);break}e&&oe&&Ln.alternate===null&&t(O,oe),S=c(Ln,S,ce),ie===null?X=Ln:ie.sibling=Ln,ie=Ln,oe=Xe}if(Oe.done)return n(O,oe),Ie&&Yn(O,ce),X;if(oe===null){for(;!Oe.done;ce++,Oe=D.next())Oe=F(O,Oe.value,U),Oe!==null&&(S=c(Oe,S,ce),ie===null?X=Oe:ie.sibling=Oe,ie=Oe);return Ie&&Yn(O,ce),X}for(oe=i(O,oe);!Oe.done;ce++,Oe=D.next())Oe=q(oe,O,ce,Oe.value,U),Oe!==null&&(e&&Oe.alternate!==null&&oe.delete(Oe.key===null?ce:Oe.key),S=c(Oe,S,ce),ie===null?X=Oe:ie.sibling=Oe,ie=Oe);return e&&oe.forEach(function(tp){return t(O,tp)}),Ie&&Yn(O,ce),X}function He(O,S,D,U){if(typeof D=="object"&&D!==null&&D.type===se&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case te:e:{for(var X=D.key,ie=S;ie!==null;){if(ie.key===X){if(X=D.type,X===se){if(ie.tag===7){n(O,ie.sibling),S=l(ie,D.props.children),S.return=O,O=S;break e}}else if(ie.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ce&&Mu(X)===ie.type){n(O,ie.sibling),S=l(ie,D.props),S.ref=mi(O,ie,D),S.return=O,O=S;break e}n(O,ie);break}else t(O,ie);ie=ie.sibling}D.type===se?(S=ir(D.props.children,O.mode,U,D.key),S.return=O,O=S):(U=Wo(D.type,D.key,D.props,null,O.mode,U),U.ref=mi(O,S,D),U.return=O,O=U)}return f(O);case ne:e:{for(ie=D.key;S!==null;){if(S.key===ie)if(S.tag===4&&S.stateNode.containerInfo===D.containerInfo&&S.stateNode.implementation===D.implementation){n(O,S.sibling),S=l(S,D.children||[]),S.return=O,O=S;break e}else{n(O,S);break}else t(O,S);S=S.sibling}S=Hl(D,O.mode,U),S.return=O,O=S}return f(O);case Ce:return ie=D._init,He(O,S,ie(D._payload),U)}if(un(D))return G(O,S,D,U);if(J(D))return Y(O,S,D,U);So(O,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,S!==null&&S.tag===6?(n(O,S.sibling),S=l(S,D),S.return=O,O=S):(n(O,S),S=Ul(D,O.mode,U),S.return=O,O=S),f(O)):n(O,S)}return He}var Pr=Iu(!0),bu=Iu(!1),xo=xn(null),ko=null,Lr=null,Xs=null;function Zs(){Xs=Lr=ko=null}function Js(e){var t=xo.current;Me(xo),e._currentValue=t}function el(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Mr(e,t){ko=e,Xs=Lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(pt=!0),e.firstContext=null)}function Dt(e){var t=e._currentValue;if(Xs!==e)if(e={context:e,memoizedValue:t,next:null},Lr===null){if(ko===null)throw Error(o(308));Lr=e,ko.dependencies={lanes:0,firstContext:e}}else Lr=Lr.next=e;return t}var Xn=null;function tl(e){Xn===null?Xn=[e]:Xn.push(e)}function Ru(e,t,n,i){var l=t.interleaved;return l===null?(n.next=n,tl(t)):(n.next=l.next,l.next=n),t.interleaved=n,nn(e,i)}function nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var En=!1;function nl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Au(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _n(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ee&2)!==0){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,nn(e,n)}return l=i.interleaved,l===null?(t.next=t,tl(i)):(t.next=l.next,l.next=t),i.interleaved=t,nn(e,n)}function Co(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ms(e,n)}}function zu(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?l=c=f:c=c.next=f,n=n.next}while(n!==null);c===null?l=c=t:c=c.next=t}else l=c=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Eo(e,t,n,i){var l=e.updateQueue;En=!1;var c=l.firstBaseUpdate,f=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var y=v,j=y.next;y.next=null,f===null?c=j:f.next=j,f=y;var z=e.alternate;z!==null&&(z=z.updateQueue,v=z.lastBaseUpdate,v!==f&&(v===null?z.firstBaseUpdate=j:v.next=j,z.lastBaseUpdate=y))}if(c!==null){var F=l.baseState;f=0,z=j=y=null,v=c;do{var A=v.lane,q=v.eventTime;if((i&A)===A){z!==null&&(z=z.next={eventTime:q,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var G=e,Y=v;switch(A=t,q=n,Y.tag){case 1:if(G=Y.payload,typeof G=="function"){F=G.call(q,F,A);break e}F=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=Y.payload,A=typeof G=="function"?G.call(q,F,A):G,A==null)break e;F=$({},F,A);break e;case 2:En=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,A=l.effects,A===null?l.effects=[v]:A.push(v))}else q={eventTime:q,lane:A,tag:v.tag,payload:v.payload,callback:v.callback,next:null},z===null?(j=z=q,y=F):z=z.next=q,f|=A;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;A=v,v=A.next,A.next=null,l.lastBaseUpdate=A,l.shared.pending=null}}while(!0);if(z===null&&(y=F),l.baseState=y,l.firstBaseUpdate=j,l.lastBaseUpdate=z,t=l.shared.interleaved,t!==null){l=t;do f|=l.lane,l=l.next;while(l!==t)}else c===null&&(l.shared.lanes=0);er|=f,e.lanes=f,e.memoizedState=F}}function Fu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],l=i.callback;if(l!==null){if(i.callback=null,i=n,typeof l!="function")throw Error(o(191,l));l.call(i)}}}var vi={},qt=xn(vi),yi=xn(vi),wi=xn(vi);function Zn(e){if(e===vi)throw Error(o(174));return e}function rl(e,t){switch(Pe(wi,t),Pe(yi,e),Pe(qt,vi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dn(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dn(t,e)}Me(qt),Pe(qt,t)}function Ir(){Me(qt),Me(yi),Me(wi)}function $u(e){Zn(wi.current);var t=Zn(qt.current),n=dn(t,e.type);t!==n&&(Pe(yi,e),Pe(qt,n))}function il(e){yi.current===e&&(Me(qt),Me(yi))}var Re=xn(0);function _o(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ol=[];function sl(){for(var e=0;e<ol.length;e++)ol[e]._workInProgressVersionPrimary=null;ol.length=0}var Oo=Q.ReactCurrentDispatcher,ll=Q.ReactCurrentBatchConfig,Jn=0,Ae=null,Qe=null,Ge=null,Do=!1,Si=!1,xi=0,Ch=0;function rt(){throw Error(o(321))}function al(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!At(e[n],t[n]))return!1;return!0}function ul(e,t,n,i,l,c){if(Jn=c,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oo.current=e===null||e.memoizedState===null?Dh:Th,e=n(i,l),Si){c=0;do{if(Si=!1,xi=0,25<=c)throw Error(o(301));c+=1,Ge=Qe=null,t.updateQueue=null,Oo.current=Nh,e=n(i,l)}while(Si)}if(Oo.current=jo,t=Qe!==null&&Qe.next!==null,Jn=0,Ge=Qe=Ae=null,Do=!1,t)throw Error(o(300));return e}function cl(){var e=xi!==0;return xi=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ae.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Tt(){if(Qe===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=Ge===null?Ae.memoizedState:Ge.next;if(t!==null)Ge=t,Qe=e;else{if(e===null)throw Error(o(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ge===null?Ae.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function ki(e,t){return typeof t=="function"?t(e):t}function dl(e){var t=Tt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var i=Qe,l=i.baseQueue,c=n.pending;if(c!==null){if(l!==null){var f=l.next;l.next=c.next,c.next=f}i.baseQueue=l=c,n.pending=null}if(l!==null){c=l.next,i=i.baseState;var v=f=null,y=null,j=c;do{var z=j.lane;if((Jn&z)===z)y!==null&&(y=y.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),i=j.hasEagerState?j.eagerState:e(i,j.action);else{var F={lane:z,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};y===null?(v=y=F,f=i):y=y.next=F,Ae.lanes|=z,er|=z}j=j.next}while(j!==null&&j!==c);y===null?f=i:y.next=v,At(i,t.memoizedState)||(pt=!0),t.memoizedState=i,t.baseState=f,t.baseQueue=y,n.lastRenderedState=i}if(e=n.interleaved,e!==null){l=e;do c=l.lane,Ae.lanes|=c,er|=c,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fl(e){var t=Tt(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,c=t.memoizedState;if(l!==null){n.pending=null;var f=l=l.next;do c=e(c,f.action),f=f.next;while(f!==l);At(c,t.memoizedState)||(pt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,i]}function Uu(){}function Hu(e,t){var n=Ae,i=Tt(),l=t(),c=!At(i.memoizedState,l);if(c&&(i.memoizedState=l,pt=!0),i=i.queue,hl(Vu.bind(null,n,i,e),[e]),i.getSnapshot!==t||c||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,Ci(9,Wu.bind(null,n,i,l,t),void 0,null),Ye===null)throw Error(o(349));(Jn&30)!==0||Bu(n,t,l)}return l}function Bu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wu(e,t,n,i){t.value=n,t.getSnapshot=i,Qu(t)&&qu(e)}function Vu(e,t,n){return n(function(){Qu(t)&&qu(e)})}function Qu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!At(e,n)}catch{return!0}}function qu(e){var t=nn(e,1);t!==null&&Ht(t,e,1,-1)}function Ku(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},t.queue=e,e=e.dispatch=Oh.bind(null,Ae,e),[t.memoizedState,e]}function Ci(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Gu(){return Tt().memoizedState}function To(e,t,n,i){var l=Kt();Ae.flags|=e,l.memoizedState=Ci(1|t,n,void 0,i===void 0?null:i)}function No(e,t,n,i){var l=Tt();i=i===void 0?null:i;var c=void 0;if(Qe!==null){var f=Qe.memoizedState;if(c=f.destroy,i!==null&&al(i,f.deps)){l.memoizedState=Ci(t,n,c,i);return}}Ae.flags|=e,l.memoizedState=Ci(1|t,n,c,i)}function Yu(e,t){return To(8390656,8,e,t)}function hl(e,t){return No(2048,8,e,t)}function Xu(e,t){return No(4,2,e,t)}function Zu(e,t){return No(4,4,e,t)}function Ju(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ec(e,t,n){return n=n!=null?n.concat([e]):null,No(4,4,Ju.bind(null,t,e),n)}function pl(){}function tc(e,t){var n=Tt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&al(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function nc(e,t){var n=Tt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&al(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function rc(e,t,n){return(Jn&21)===0?(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=n):(At(n,t)||(n=Ma(),Ae.lanes|=n,er|=n,e.baseState=!0),t)}function Eh(e,t){var n=De;De=n!==0&&4>n?n:4,e(!0);var i=ll.transition;ll.transition={};try{e(!1),t()}finally{De=n,ll.transition=i}}function ic(){return Tt().memoizedState}function _h(e,t,n){var i=Nn(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},oc(e))sc(t,n);else if(n=Ru(e,t,n,i),n!==null){var l=dt();Ht(n,e,i,l),lc(n,t,i)}}function Oh(e,t,n){var i=Nn(e),l={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(oc(e))sc(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var f=t.lastRenderedState,v=c(f,n);if(l.hasEagerState=!0,l.eagerState=v,At(v,f)){var y=t.interleaved;y===null?(l.next=l,tl(t)):(l.next=y.next,y.next=l),t.interleaved=l;return}}catch{}finally{}n=Ru(e,t,l,i),n!==null&&(l=dt(),Ht(n,e,i,l),lc(n,t,i))}}function oc(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function sc(e,t){Si=Do=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lc(e,t,n){if((n&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,ms(e,n)}}var jo={readContext:Dt,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},Dh={readContext:Dt,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:Yu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,To(4194308,4,Ju.bind(null,t,e),n)},useLayoutEffect:function(e,t){return To(4194308,4,e,t)},useInsertionEffect:function(e,t){return To(4,2,e,t)},useMemo:function(e,t){var n=Kt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Kt();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=_h.bind(null,Ae,e),[i.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:Ku,useDebugValue:pl,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=Ku(!1),t=e[0];return e=Eh.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Ae,l=Kt();if(Ie){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Ye===null)throw Error(o(349));(Jn&30)!==0||Bu(i,t,n)}l.memoizedState=n;var c={value:n,getSnapshot:t};return l.queue=c,Yu(Vu.bind(null,i,c,e),[e]),i.flags|=2048,Ci(9,Wu.bind(null,i,c,n,t),void 0,null),n},useId:function(){var e=Kt(),t=Ye.identifierPrefix;if(Ie){var n=tn,i=en;n=(i&~(1<<32-Rt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=xi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ch++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Th={readContext:Dt,useCallback:tc,useContext:Dt,useEffect:hl,useImperativeHandle:ec,useInsertionEffect:Xu,useLayoutEffect:Zu,useMemo:nc,useReducer:dl,useRef:Gu,useState:function(){return dl(ki)},useDebugValue:pl,useDeferredValue:function(e){var t=Tt();return rc(t,Qe.memoizedState,e)},useTransition:function(){var e=dl(ki)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Uu,useSyncExternalStore:Hu,useId:ic,unstable_isNewReconciler:!1},Nh={readContext:Dt,useCallback:tc,useContext:Dt,useEffect:hl,useImperativeHandle:ec,useInsertionEffect:Xu,useLayoutEffect:Zu,useMemo:nc,useReducer:fl,useRef:Gu,useState:function(){return fl(ki)},useDebugValue:pl,useDeferredValue:function(e){var t=Tt();return Qe===null?t.memoizedState=e:rc(t,Qe.memoizedState,e)},useTransition:function(){var e=fl(ki)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:Uu,useSyncExternalStore:Hu,useId:ic,unstable_isNewReconciler:!1};function Ft(e,t){if(e&&e.defaultProps){t=$({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function gl(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:$({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Po={isMounted:function(e){return(e=e._reactInternals)?Qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=dt(),l=Nn(e),c=rn(i,l);c.payload=t,n!=null&&(c.callback=n),t=_n(e,c,l),t!==null&&(Ht(t,e,l,i),Co(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=dt(),l=Nn(e),c=rn(i,l);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=_n(e,c,l),t!==null&&(Ht(t,e,l,i),Co(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),i=Nn(e),l=rn(n,i);l.tag=2,t!=null&&(l.callback=t),t=_n(e,l,i),t!==null&&(Ht(t,e,i,n),Co(t,e,i))}};function ac(e,t,n,i,l,c,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,c,f):t.prototype&&t.prototype.isPureReactComponent?!ui(n,i)||!ui(l,c):!0}function uc(e,t,n){var i=!1,l=kn,c=t.contextType;return typeof c=="object"&&c!==null?c=Dt(c):(l=ht(t)?Kn:nt.current,i=t.contextTypes,c=(i=i!=null)?Dr(e,l):kn),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Po,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=c),t}function cc(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Po.enqueueReplaceState(t,t.state,null)}function ml(e,t,n,i){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},nl(e);var c=t.contextType;typeof c=="object"&&c!==null?l.context=Dt(c):(c=ht(t)?Kn:nt.current,l.context=Dr(e,c)),l.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(gl(e,t,c,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Po.enqueueReplaceState(l,l.state,null),Eo(e,n,l,i),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function br(e,t){try{var n="",i=t;do n+=H(i),i=i.return;while(i);var l=n}catch(c){l=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:l,digest:null}}function vl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function yl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jh=typeof WeakMap=="function"?WeakMap:Map;function dc(e,t,n){n=rn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){zo||(zo=!0,Ml=i),yl(e,t)},n}function fc(e,t,n){n=rn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var l=t.value;n.payload=function(){return i(l)},n.callback=function(){yl(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){yl(e,t),typeof i!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function hc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new jh;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(l.add(n),e=Wh.bind(null,e,t,n),t.then(e,e))}function pc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gc(e,t,n,i,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=rn(-1,1),t.tag=2,_n(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Ph=Q.ReactCurrentOwner,pt=!1;function ct(e,t,n,i){t.child=e===null?bu(t,null,n,i):Pr(t,e.child,n,i)}function mc(e,t,n,i,l){n=n.render;var c=t.ref;return Mr(t,l),i=ul(e,t,n,i,c,l),n=cl(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,on(e,t,l)):(Ie&&n&&Qs(t),t.flags|=1,ct(e,t,i,l),t.child)}function vc(e,t,n,i,l){if(e===null){var c=n.type;return typeof c=="function"&&!$l(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,yc(e,t,c,i,l)):(e=Wo(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&l)===0){var f=c.memoizedProps;if(n=n.compare,n=n!==null?n:ui,n(f,i)&&e.ref===t.ref)return on(e,t,l)}return t.flags|=1,e=Pn(c,i),e.ref=t.ref,e.return=t,t.child=e}function yc(e,t,n,i,l){if(e!==null){var c=e.memoizedProps;if(ui(c,i)&&e.ref===t.ref)if(pt=!1,t.pendingProps=i=c,(e.lanes&l)!==0)(e.flags&131072)!==0&&(pt=!0);else return t.lanes=e.lanes,on(e,t,l)}return wl(e,t,n,i,l)}function wc(e,t,n){var i=t.pendingProps,l=i.children,c=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Ar,Ct),Ct|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(Ar,Ct),Ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=c!==null?c.baseLanes:n,Pe(Ar,Ct),Ct|=i}else c!==null?(i=c.baseLanes|n,t.memoizedState=null):i=n,Pe(Ar,Ct),Ct|=i;return ct(e,t,l,n),t.child}function Sc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function wl(e,t,n,i,l){var c=ht(n)?Kn:nt.current;return c=Dr(t,c),Mr(t,l),n=ul(e,t,n,i,c,l),i=cl(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,on(e,t,l)):(Ie&&i&&Qs(t),t.flags|=1,ct(e,t,n,l),t.child)}function xc(e,t,n,i,l){if(ht(n)){var c=!0;go(t)}else c=!1;if(Mr(t,l),t.stateNode===null)Mo(e,t),uc(t,n,i),ml(t,n,i,l),i=!0;else if(e===null){var f=t.stateNode,v=t.memoizedProps;f.props=v;var y=f.context,j=n.contextType;typeof j=="object"&&j!==null?j=Dt(j):(j=ht(n)?Kn:nt.current,j=Dr(t,j));var z=n.getDerivedStateFromProps,F=typeof z=="function"||typeof f.getSnapshotBeforeUpdate=="function";F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==i||y!==j)&&cc(t,f,i,j),En=!1;var A=t.memoizedState;f.state=A,Eo(t,i,f,l),y=t.memoizedState,v!==i||A!==y||ft.current||En?(typeof z=="function"&&(gl(t,n,z,i),y=t.memoizedState),(v=En||ac(t,n,v,i,A,y,j))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=y),f.props=i,f.state=y,f.context=j,i=v):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,Au(e,t),v=t.memoizedProps,j=t.type===t.elementType?v:Ft(t.type,v),f.props=j,F=t.pendingProps,A=f.context,y=n.contextType,typeof y=="object"&&y!==null?y=Dt(y):(y=ht(n)?Kn:nt.current,y=Dr(t,y));var q=n.getDerivedStateFromProps;(z=typeof q=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==F||A!==y)&&cc(t,f,i,y),En=!1,A=t.memoizedState,f.state=A,Eo(t,i,f,l);var G=t.memoizedState;v!==F||A!==G||ft.current||En?(typeof q=="function"&&(gl(t,n,q,i),G=t.memoizedState),(j=En||ac(t,n,j,i,A,G,y)||!1)?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,G,y),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,G,y)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=G),f.props=i,f.state=G,f.context=y,i=j):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),i=!1)}return Sl(e,t,n,i,c,l)}function Sl(e,t,n,i,l,c){Sc(e,t);var f=(t.flags&128)!==0;if(!i&&!f)return l&&Ou(t,n,!1),on(e,t,c);i=t.stateNode,Ph.current=t;var v=f&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&f?(t.child=Pr(t,e.child,null,c),t.child=Pr(t,null,v,c)):ct(e,t,v,c),t.memoizedState=i.state,l&&Ou(t,n,!0),t.child}function kc(e){var t=e.stateNode;t.pendingContext?Eu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Eu(e,t.context,!1),rl(e,t.containerInfo)}function Cc(e,t,n,i,l){return jr(),Ys(l),t.flags|=256,ct(e,t,n,i),t.child}var xl={dehydrated:null,treeContext:null,retryLane:0};function kl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ec(e,t,n){var i=t.pendingProps,l=Re.current,c=!1,f=(t.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(l&2)!==0),v?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Pe(Re,l&1),e===null)return Gs(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(f=i.children,e=i.fallback,c?(i=t.mode,c=t.child,f={mode:"hidden",children:f},(i&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=f):c=Vo(f,i,0,null),e=ir(e,i,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=kl(n),t.memoizedState=xl,e):Cl(t,f));if(l=e.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return Lh(e,t,f,i,v,l,n);if(c){c=i.fallback,f=t.mode,l=e.child,v=l.sibling;var y={mode:"hidden",children:i.children};return(f&1)===0&&t.child!==l?(i=t.child,i.childLanes=0,i.pendingProps=y,t.deletions=null):(i=Pn(l,y),i.subtreeFlags=l.subtreeFlags&14680064),v!==null?c=Pn(v,c):(c=ir(c,f,n,null),c.flags|=2),c.return=t,i.return=t,i.sibling=c,t.child=i,i=c,c=t.child,f=e.child.memoizedState,f=f===null?kl(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},c.memoizedState=f,c.childLanes=e.childLanes&~n,t.memoizedState=xl,i}return c=e.child,e=c.sibling,i=Pn(c,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Cl(e,t){return t=Vo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lo(e,t,n,i){return i!==null&&Ys(i),Pr(t,e.child,null,n),e=Cl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lh(e,t,n,i,l,c,f){if(n)return t.flags&256?(t.flags&=-257,i=vl(Error(o(422))),Lo(e,t,f,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=i.fallback,l=t.mode,i=Vo({mode:"visible",children:i.children},l,0,null),c=ir(c,l,f,null),c.flags|=2,i.return=t,c.return=t,i.sibling=c,t.child=i,(t.mode&1)!==0&&Pr(t,e.child,null,f),t.child.memoizedState=kl(f),t.memoizedState=xl,c);if((t.mode&1)===0)return Lo(e,t,f,null);if(l.data==="$!"){if(i=l.nextSibling&&l.nextSibling.dataset,i)var v=i.dgst;return i=v,c=Error(o(419)),i=vl(c,i,void 0),Lo(e,t,f,i)}if(v=(f&e.childLanes)!==0,pt||v){if(i=Ye,i!==null){switch(f&-f){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(i.suspendedLanes|f))!==0?0:l,l!==0&&l!==c.retryLane&&(c.retryLane=l,nn(e,l),Ht(i,e,l,-1))}return Fl(),i=vl(Error(o(421))),Lo(e,t,f,i)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Vh.bind(null,e),l._reactRetry=t,null):(e=c.treeContext,kt=Sn(l.nextSibling),xt=t,Ie=!0,zt=null,e!==null&&(_t[Ot++]=en,_t[Ot++]=tn,_t[Ot++]=Gn,en=e.id,tn=e.overflow,Gn=t),t=Cl(t,i.children),t.flags|=4096,t)}function _c(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),el(e.return,t,n)}function El(e,t,n,i,l){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=i,c.tail=n,c.tailMode=l)}function Oc(e,t,n){var i=t.pendingProps,l=i.revealOrder,c=i.tail;if(ct(e,t,i.children,n),i=Re.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_c(e,n,t);else if(e.tag===19)_c(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Pe(Re,i),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&_o(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),El(t,!1,l,n,c);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&_o(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}El(t,!0,n,null,c);break;case"together":El(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mo(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function on(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),er|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=Pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mh(e,t,n){switch(t.tag){case 3:kc(t),jr();break;case 5:$u(t);break;case 1:ht(t.type)&&go(t);break;case 4:rl(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,l=t.memoizedProps.value;Pe(xo,i._currentValue),i._currentValue=l;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Pe(Re,Re.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Ec(e,t,n):(Pe(Re,Re.current&1),e=on(e,t,n),e!==null?e.sibling:null);Pe(Re,Re.current&1);break;case 19:if(i=(n&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Oc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Pe(Re,Re.current),i)break;return null;case 22:case 23:return t.lanes=0,wc(e,t,n)}return on(e,t,n)}var Dc,_l,Tc,Nc;Dc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},_l=function(){},Tc=function(e,t,n,i){var l=e.memoizedProps;if(l!==i){e=t.stateNode,Zn(qt.current);var c=null;switch(n){case"input":l=Ur(e,l),i=Ur(e,i),c=[];break;case"select":l=$({},l,{value:void 0}),i=$({},i,{value:void 0}),c=[];break;case"textarea":l=zn(e,l),i=zn(e,i),c=[];break;default:typeof l.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=fo)}Qr(n,i);var f;n=null;for(j in l)if(!i.hasOwnProperty(j)&&l.hasOwnProperty(j)&&l[j]!=null)if(j==="style"){var v=l[j];for(f in v)v.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(u.hasOwnProperty(j)?c||(c=[]):(c=c||[]).push(j,null));for(j in i){var y=i[j];if(v=l!=null?l[j]:void 0,i.hasOwnProperty(j)&&y!==v&&(y!=null||v!=null))if(j==="style")if(v){for(f in v)!v.hasOwnProperty(f)||y&&y.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in y)y.hasOwnProperty(f)&&v[f]!==y[f]&&(n||(n={}),n[f]=y[f])}else n||(c||(c=[]),c.push(j,n)),n=y;else j==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,v=v?v.__html:void 0,y!=null&&v!==y&&(c=c||[]).push(j,y)):j==="children"?typeof y!="string"&&typeof y!="number"||(c=c||[]).push(j,""+y):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(u.hasOwnProperty(j)?(y!=null&&j==="onScroll"&&Le("scroll",e),c||v===y||(c=[])):(c=c||[]).push(j,y))}n&&(c=c||[]).push("style",n);var j=c;(t.updateQueue=j)&&(t.flags|=4)}},Nc=function(e,t,n,i){n!==i&&(t.flags|=4)};function Ei(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&14680064,i|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ih(e,t,n){var i=t.pendingProps;switch(qs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return ht(t.type)&&po(),it(t),null;case 3:return i=t.stateNode,Ir(),Me(ft),Me(nt),sl(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(wo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,zt!==null&&(Rl(zt),zt=null))),_l(e,t),it(t),null;case 5:il(t);var l=Zn(wi.current);if(n=t.type,e!==null&&t.stateNode!=null)Tc(e,t,n,i,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(o(166));return it(t),null}if(e=Zn(qt.current),wo(t)){i=t.stateNode,n=t.type;var c=t.memoizedProps;switch(i[Qt]=t,i[pi]=c,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(l=0;l<di.length;l++)Le(di[l],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":dr(i,c),Le("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!c.multiple},Le("invalid",i);break;case"textarea":Wr(i,c),Le("invalid",i)}Qr(n,c),l=null;for(var f in c)if(c.hasOwnProperty(f)){var v=c[f];f==="children"?typeof v=="string"?i.textContent!==v&&(c.suppressHydrationWarning!==!0&&co(i.textContent,v,e),l=["children",v]):typeof v=="number"&&i.textContent!==""+v&&(c.suppressHydrationWarning!==!0&&co(i.textContent,v,e),l=["children",""+v]):u.hasOwnProperty(f)&&v!=null&&f==="onScroll"&&Le("scroll",i)}switch(n){case"input":we(i),fr(i,c,!0);break;case"textarea":we(i),bt(i);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(i.onclick=fo)}i=l,t.updateQueue=i,i!==null&&(t.flags|=4)}else{f=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pr(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=f.createElement(n,{is:i.is}):(e=f.createElement(n),n==="select"&&(f=e,i.multiple?f.multiple=!0:i.size&&(f.size=i.size))):e=f.createElementNS(e,n),e[Qt]=t,e[pi]=i,Dc(e,t,!1,!1),t.stateNode=e;e:{switch(f=qr(n,i),n){case"dialog":Le("cancel",e),Le("close",e),l=i;break;case"iframe":case"object":case"embed":Le("load",e),l=i;break;case"video":case"audio":for(l=0;l<di.length;l++)Le(di[l],e);l=i;break;case"source":Le("error",e),l=i;break;case"img":case"image":case"link":Le("error",e),Le("load",e),l=i;break;case"details":Le("toggle",e),l=i;break;case"input":dr(e,i),l=Ur(e,i),Le("invalid",e);break;case"option":l=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},l=$({},i,{value:void 0}),Le("invalid",e);break;case"textarea":Wr(e,i),l=zn(e,i),Le("invalid",e);break;default:l=i}Qr(n,l),v=l;for(c in v)if(v.hasOwnProperty(c)){var y=v[c];c==="style"?$n(e,y):c==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&$i(e,y)):c==="children"?typeof y=="string"?(n!=="textarea"||y!=="")&&Fn(e,y):typeof y=="number"&&Fn(e,""+y):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(u.hasOwnProperty(c)?y!=null&&c==="onScroll"&&Le("scroll",e):y!=null&&I(e,c,y,f))}switch(n){case"input":we(e),fr(e,i,!1);break;case"textarea":we(e),bt(e);break;case"option":i.value!=null&&e.setAttribute("value",""+le(i.value));break;case"select":e.multiple=!!i.multiple,c=i.value,c!=null?cn(e,!!i.multiple,c,!1):i.defaultValue!=null&&cn(e,!!i.multiple,i.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=fo)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)Nc(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(o(166));if(n=Zn(wi.current),Zn(qt.current),wo(t)){if(i=t.stateNode,n=t.memoizedProps,i[Qt]=t,(c=i.nodeValue!==n)&&(e=xt,e!==null))switch(e.tag){case 3:co(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&co(i.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Qt]=t,t.stateNode=i}return it(t),null;case 13:if(Me(Re),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&kt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Lu(),jr(),t.flags|=98560,c=!1;else if(c=wo(t),i!==null&&i.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[Qt]=t}else jr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),c=!1}else zt!==null&&(Rl(zt),zt=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Re.current&1)!==0?qe===0&&(qe=3):Fl())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return Ir(),_l(e,t),e===null&&fi(t.stateNode.containerInfo),it(t),null;case 10:return Js(t.type._context),it(t),null;case 17:return ht(t.type)&&po(),it(t),null;case 19:if(Me(Re),c=t.memoizedState,c===null)return it(t),null;if(i=(t.flags&128)!==0,f=c.rendering,f===null)if(i)Ei(c,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=_o(e),f!==null){for(t.flags|=128,Ei(c,!1),i=f.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)c=n,e=i,c.flags&=14680066,f=c.alternate,f===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=f.childLanes,c.lanes=f.lanes,c.child=f.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=f.memoizedProps,c.memoizedState=f.memoizedState,c.updateQueue=f.updateQueue,c.type=f.type,e=f.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pe(Re,Re.current&1|2),t.child}e=e.sibling}c.tail!==null&&Ue()>zr&&(t.flags|=128,i=!0,Ei(c,!1),t.lanes=4194304)}else{if(!i)if(e=_o(f),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ei(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Ie)return it(t),null}else 2*Ue()-c.renderingStartTime>zr&&n!==1073741824&&(t.flags|=128,i=!0,Ei(c,!1),t.lanes=4194304);c.isBackwards?(f.sibling=t.child,t.child=f):(n=c.last,n!==null?n.sibling=f:t.child=f,c.last=f)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Ue(),t.sibling=null,n=Re.current,Pe(Re,i?n&1|2:n&1),t):(it(t),null);case 22:case 23:return zl(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(Ct&1073741824)!==0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function bh(e,t){switch(qs(t),t.tag){case 1:return ht(t.type)&&po(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ir(),Me(ft),Me(nt),sl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return il(t),null;case 13:if(Me(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Re),null;case 4:return Ir(),null;case 10:return Js(t.type._context),null;case 22:case 23:return zl(),null;case 24:return null;default:return null}}var Io=!1,ot=!1,Rh=typeof WeakSet=="function"?WeakSet:Set,K=null;function Rr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){$e(e,t,i)}else n.current=null}function Ol(e,t,n){try{n()}catch(i){$e(e,t,i)}}var jc=!1;function Ah(e,t){if(zs=Ji,e=au(),js(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,c=i.focusNode;i=i.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var f=0,v=-1,y=-1,j=0,z=0,F=e,A=null;t:for(;;){for(var q;F!==n||l!==0&&F.nodeType!==3||(v=f+l),F!==c||i!==0&&F.nodeType!==3||(y=f+i),F.nodeType===3&&(f+=F.nodeValue.length),(q=F.firstChild)!==null;)A=F,F=q;for(;;){if(F===e)break t;if(A===n&&++j===l&&(v=f),A===c&&++z===i&&(y=f),(q=F.nextSibling)!==null)break;F=A,A=F.parentNode}F=q}n=v===-1||y===-1?null:{start:v,end:y}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fs={focusedElem:e,selectionRange:n},Ji=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var G=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(G!==null){var Y=G.memoizedProps,He=G.memoizedState,O=t.stateNode,S=O.getSnapshotBeforeUpdate(t.elementType===t.type?Y:Ft(t.type,Y),He);O.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var D=t.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(U){$e(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return G=jc,jc=!1,G}function _i(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&e)===e){var c=l.destroy;l.destroy=void 0,c!==void 0&&Ol(t,n,c)}l=l.next}while(l!==i)}}function bo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Dl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Pc(e){var t=e.alternate;t!==null&&(e.alternate=null,Pc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[pi],delete t[Bs],delete t[wh],delete t[Sh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Lc(e){return e.tag===5||e.tag===3||e.tag===4}function Mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fo));else if(i!==4&&(e=e.child,e!==null))for(Tl(e,t,n),e=e.sibling;e!==null;)Tl(e,t,n),e=e.sibling}function Nl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Nl(e,t,n),e=e.sibling;e!==null;)Nl(e,t,n),e=e.sibling}var et=null,$t=!1;function On(e,t,n){for(n=n.child;n!==null;)Ic(e,t,n),n=n.sibling}function Ic(e,t,n){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(qi,n)}catch{}switch(n.tag){case 5:ot||Rr(n,t);case 6:var i=et,l=$t;et=null,On(e,t,n),et=i,$t=l,et!==null&&($t?(e=et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):et.removeChild(n.stateNode));break;case 18:et!==null&&($t?(e=et,n=n.stateNode,e.nodeType===8?Hs(e.parentNode,n):e.nodeType===1&&Hs(e,n),ri(e)):Hs(et,n.stateNode));break;case 4:i=et,l=$t,et=n.stateNode.containerInfo,$t=!0,On(e,t,n),et=i,$t=l;break;case 0:case 11:case 14:case 15:if(!ot&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){l=i=i.next;do{var c=l,f=c.destroy;c=c.tag,f!==void 0&&((c&2)!==0||(c&4)!==0)&&Ol(n,t,f),l=l.next}while(l!==i)}On(e,t,n);break;case 1:if(!ot&&(Rr(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(v){$e(n,t,v)}On(e,t,n);break;case 21:On(e,t,n);break;case 22:n.mode&1?(ot=(i=ot)||n.memoizedState!==null,On(e,t,n),ot=i):On(e,t,n);break;default:On(e,t,n)}}function bc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rh),t.forEach(function(i){var l=Qh.bind(null,e,i);n.has(i)||(n.add(i),i.then(l,l))})}}function Ut(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];try{var c=e,f=t,v=f;e:for(;v!==null;){switch(v.tag){case 5:et=v.stateNode,$t=!1;break e;case 3:et=v.stateNode.containerInfo,$t=!0;break e;case 4:et=v.stateNode.containerInfo,$t=!0;break e}v=v.return}if(et===null)throw Error(o(160));Ic(c,f,l),et=null,$t=!1;var y=l.alternate;y!==null&&(y.return=null),l.return=null}catch(j){$e(l,t,j)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rc(t,e),t=t.sibling}function Rc(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),Gt(e),i&4){try{_i(3,e,e.return),bo(3,e)}catch(Y){$e(e,e.return,Y)}try{_i(5,e,e.return)}catch(Y){$e(e,e.return,Y)}}break;case 1:Ut(t,e),Gt(e),i&512&&n!==null&&Rr(n,n.return);break;case 5:if(Ut(t,e),Gt(e),i&512&&n!==null&&Rr(n,n.return),e.flags&32){var l=e.stateNode;try{Fn(l,"")}catch(Y){$e(e,e.return,Y)}}if(i&4&&(l=e.stateNode,l!=null)){var c=e.memoizedProps,f=n!==null?n.memoizedProps:c,v=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{v==="input"&&c.type==="radio"&&c.name!=null&&Xt(l,c),qr(v,f);var j=qr(v,c);for(f=0;f<y.length;f+=2){var z=y[f],F=y[f+1];z==="style"?$n(l,F):z==="dangerouslySetInnerHTML"?$i(l,F):z==="children"?Fn(l,F):I(l,z,F,j)}switch(v){case"input":Hr(l,c);break;case"textarea":hr(l,c);break;case"select":var A=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!c.multiple;var q=c.value;q!=null?cn(l,!!c.multiple,q,!1):A!==!!c.multiple&&(c.defaultValue!=null?cn(l,!!c.multiple,c.defaultValue,!0):cn(l,!!c.multiple,c.multiple?[]:"",!1))}l[pi]=c}catch(Y){$e(e,e.return,Y)}}break;case 6:if(Ut(t,e),Gt(e),i&4){if(e.stateNode===null)throw Error(o(162));l=e.stateNode,c=e.memoizedProps;try{l.nodeValue=c}catch(Y){$e(e,e.return,Y)}}break;case 3:if(Ut(t,e),Gt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ri(t.containerInfo)}catch(Y){$e(e,e.return,Y)}break;case 4:Ut(t,e),Gt(e);break;case 13:Ut(t,e),Gt(e),l=e.child,l.flags&8192&&(c=l.memoizedState!==null,l.stateNode.isHidden=c,!c||l.alternate!==null&&l.alternate.memoizedState!==null||(Ll=Ue())),i&4&&bc(e);break;case 22:if(z=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(j=ot)||z,Ut(t,e),ot=j):Ut(t,e),Gt(e),i&8192){if(j=e.memoizedState!==null,(e.stateNode.isHidden=j)&&!z&&(e.mode&1)!==0)for(K=e,z=e.child;z!==null;){for(F=K=z;K!==null;){switch(A=K,q=A.child,A.tag){case 0:case 11:case 14:case 15:_i(4,A,A.return);break;case 1:Rr(A,A.return);var G=A.stateNode;if(typeof G.componentWillUnmount=="function"){i=A,n=A.return;try{t=i,G.props=t.memoizedProps,G.state=t.memoizedState,G.componentWillUnmount()}catch(Y){$e(i,n,Y)}}break;case 5:Rr(A,A.return);break;case 22:if(A.memoizedState!==null){Fc(F);continue}}q!==null?(q.return=A,K=q):Fc(F)}z=z.sibling}e:for(z=null,F=e;;){if(F.tag===5){if(z===null){z=F;try{l=F.stateNode,j?(c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(v=F.stateNode,y=F.memoizedProps.style,f=y!=null&&y.hasOwnProperty("display")?y.display:null,v.style.display=Ui("display",f))}catch(Y){$e(e,e.return,Y)}}}else if(F.tag===6){if(z===null)try{F.stateNode.nodeValue=j?"":F.memoizedProps}catch(Y){$e(e,e.return,Y)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;z===F&&(z=null),F=F.return}z===F&&(z=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:Ut(t,e),Gt(e),i&4&&bc(e);break;case 21:break;default:Ut(t,e),Gt(e)}}function Gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Lc(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var l=i.stateNode;i.flags&32&&(Fn(l,""),i.flags&=-33);var c=Mc(e);Nl(e,c,l);break;case 3:case 4:var f=i.stateNode.containerInfo,v=Mc(e);Tl(e,v,f);break;default:throw Error(o(161))}}catch(y){$e(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zh(e,t,n){K=e,Ac(e)}function Ac(e,t,n){for(var i=(e.mode&1)!==0;K!==null;){var l=K,c=l.child;if(l.tag===22&&i){var f=l.memoizedState!==null||Io;if(!f){var v=l.alternate,y=v!==null&&v.memoizedState!==null||ot;v=Io;var j=ot;if(Io=f,(ot=y)&&!j)for(K=l;K!==null;)f=K,y=f.child,f.tag===22&&f.memoizedState!==null?$c(l):y!==null?(y.return=f,K=y):$c(l);for(;c!==null;)K=c,Ac(c),c=c.sibling;K=l,Io=v,ot=j}zc(e)}else(l.subtreeFlags&8772)!==0&&c!==null?(c.return=l,K=c):zc(e)}}function zc(e){for(;K!==null;){var t=K;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ot||bo(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!ot)if(n===null)i.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ft(t.type,n.memoizedProps);i.componentDidUpdate(l,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&Fu(t,c,i);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Fu(t,f,n)}break;case 5:var v=t.stateNode;if(n===null&&t.flags&4){n=v;var y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&n.focus();break;case"img":y.src&&(n.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var j=t.alternate;if(j!==null){var z=j.memoizedState;if(z!==null){var F=z.dehydrated;F!==null&&ri(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}ot||t.flags&512&&Dl(t)}catch(A){$e(t,t.return,A)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function Fc(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function $c(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bo(4,t)}catch(y){$e(t,n,y)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var l=t.return;try{i.componentDidMount()}catch(y){$e(t,l,y)}}var c=t.return;try{Dl(t)}catch(y){$e(t,c,y)}break;case 5:var f=t.return;try{Dl(t)}catch(y){$e(t,f,y)}}}catch(y){$e(t,t.return,y)}if(t===e){K=null;break}var v=t.sibling;if(v!==null){v.return=t.return,K=v;break}K=t.return}}var Fh=Math.ceil,Ro=Q.ReactCurrentDispatcher,jl=Q.ReactCurrentOwner,Nt=Q.ReactCurrentBatchConfig,Ee=0,Ye=null,Ve=null,tt=0,Ct=0,Ar=xn(0),qe=0,Oi=null,er=0,Ao=0,Pl=0,Di=null,gt=null,Ll=0,zr=1/0,sn=null,zo=!1,Ml=null,Dn=null,Fo=!1,Tn=null,$o=0,Ti=0,Il=null,Uo=-1,Ho=0;function dt(){return(Ee&6)!==0?Ue():Uo!==-1?Uo:Uo=Ue()}function Nn(e){return(e.mode&1)===0?1:(Ee&2)!==0&&tt!==0?tt&-tt:kh.transition!==null?(Ho===0&&(Ho=Ma()),Ho):(e=De,e!==0||(e=window.event,e=e===void 0?16:Ha(e.type)),e)}function Ht(e,t,n,i){if(50<Ti)throw Ti=0,Il=null,Error(o(185));Zr(e,n,i),((Ee&2)===0||e!==Ye)&&(e===Ye&&((Ee&2)===0&&(Ao|=n),qe===4&&jn(e,tt)),mt(e,i),n===1&&Ee===0&&(t.mode&1)===0&&(zr=Ue()+500,mo&&Cn()))}function mt(e,t){var n=e.callbackNode;kf(e,t);var i=Yi(e,e===Ye?tt:0);if(i===0)n!==null&&ja(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&ja(n),t===1)e.tag===0?xh(Hc.bind(null,e)):Du(Hc.bind(null,e)),vh(function(){(Ee&6)===0&&Cn()}),n=null;else{switch(Ia(i)){case 1:n=hs;break;case 4:n=Pa;break;case 16:n=Qi;break;case 536870912:n=La;break;default:n=Qi}n=Yc(n,Uc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Uc(e,t){if(Uo=-1,Ho=0,(Ee&6)!==0)throw Error(o(327));var n=e.callbackNode;if(Fr()&&e.callbackNode!==n)return null;var i=Yi(e,e===Ye?tt:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=Bo(e,i);else{t=i;var l=Ee;Ee|=2;var c=Wc();(Ye!==e||tt!==t)&&(sn=null,zr=Ue()+500,nr(e,t));do try{Hh();break}catch(v){Bc(e,v)}while(!0);Zs(),Ro.current=c,Ee=l,Ve!==null?t=0:(Ye=null,tt=0,t=qe)}if(t!==0){if(t===2&&(l=ps(e),l!==0&&(i=l,t=bl(e,l))),t===1)throw n=Oi,nr(e,0),jn(e,i),mt(e,Ue()),n;if(t===6)jn(e,i);else{if(l=e.current.alternate,(i&30)===0&&!$h(l)&&(t=Bo(e,i),t===2&&(c=ps(e),c!==0&&(i=c,t=bl(e,c))),t===1))throw n=Oi,nr(e,0),jn(e,i),mt(e,Ue()),n;switch(e.finishedWork=l,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:rr(e,gt,sn);break;case 3:if(jn(e,i),(i&130023424)===i&&(t=Ll+500-Ue(),10<t)){if(Yi(e,0)!==0)break;if(l=e.suspendedLanes,(l&i)!==i){dt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Us(rr.bind(null,e,gt,sn),t);break}rr(e,gt,sn);break;case 4:if(jn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,l=-1;0<i;){var f=31-Rt(i);c=1<<f,f=t[f],f>l&&(l=f),i&=~c}if(i=l,i=Ue()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Fh(i/1960))-i,10<i){e.timeoutHandle=Us(rr.bind(null,e,gt,sn),i);break}rr(e,gt,sn);break;case 5:rr(e,gt,sn);break;default:throw Error(o(329))}}}return mt(e,Ue()),e.callbackNode===n?Uc.bind(null,e):null}function bl(e,t){var n=Di;return e.current.memoizedState.isDehydrated&&(nr(e,t).flags|=256),e=Bo(e,t),e!==2&&(t=gt,gt=n,t!==null&&Rl(t)),e}function Rl(e){gt===null?gt=e:gt.push.apply(gt,e)}function $h(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var l=n[i],c=l.getSnapshot;l=l.value;try{if(!At(c(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t){for(t&=~Pl,t&=~Ao,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rt(t),i=1<<n;e[n]=-1,t&=~i}}function Hc(e){if((Ee&6)!==0)throw Error(o(327));Fr();var t=Yi(e,0);if((t&1)===0)return mt(e,Ue()),null;var n=Bo(e,t);if(e.tag!==0&&n===2){var i=ps(e);i!==0&&(t=i,n=bl(e,i))}if(n===1)throw n=Oi,nr(e,0),jn(e,t),mt(e,Ue()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rr(e,gt,sn),mt(e,Ue()),null}function Al(e,t){var n=Ee;Ee|=1;try{return e(t)}finally{Ee=n,Ee===0&&(zr=Ue()+500,mo&&Cn())}}function tr(e){Tn!==null&&Tn.tag===0&&(Ee&6)===0&&Fr();var t=Ee;Ee|=1;var n=Nt.transition,i=De;try{if(Nt.transition=null,De=1,e)return e()}finally{De=i,Nt.transition=n,Ee=t,(Ee&6)===0&&Cn()}}function zl(){Ct=Ar.current,Me(Ar)}function nr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mh(n)),Ve!==null)for(n=Ve.return;n!==null;){var i=n;switch(qs(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&po();break;case 3:Ir(),Me(ft),Me(nt),sl();break;case 5:il(i);break;case 4:Ir();break;case 13:Me(Re);break;case 19:Me(Re);break;case 10:Js(i.type._context);break;case 22:case 23:zl()}n=n.return}if(Ye=e,Ve=e=Pn(e.current,null),tt=Ct=t,qe=0,Oi=null,Pl=Ao=er=0,gt=Di=null,Xn!==null){for(t=0;t<Xn.length;t++)if(n=Xn[t],i=n.interleaved,i!==null){n.interleaved=null;var l=i.next,c=n.pending;if(c!==null){var f=c.next;c.next=l,i.next=f}n.pending=i}Xn=null}return e}function Bc(e,t){do{var n=Ve;try{if(Zs(),Oo.current=jo,Do){for(var i=Ae.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Do=!1}if(Jn=0,Ge=Qe=Ae=null,Si=!1,xi=0,jl.current=null,n===null||n.return===null){qe=1,Oi=t,Ve=null;break}e:{var c=e,f=n.return,v=n,y=t;if(t=tt,v.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var j=y,z=v,F=z.tag;if((z.mode&1)===0&&(F===0||F===11||F===15)){var A=z.alternate;A?(z.updateQueue=A.updateQueue,z.memoizedState=A.memoizedState,z.lanes=A.lanes):(z.updateQueue=null,z.memoizedState=null)}var q=pc(f);if(q!==null){q.flags&=-257,gc(q,f,v,c,t),q.mode&1&&hc(c,j,t),t=q,y=j;var G=t.updateQueue;if(G===null){var Y=new Set;Y.add(y),t.updateQueue=Y}else G.add(y);break e}else{if((t&1)===0){hc(c,j,t),Fl();break e}y=Error(o(426))}}else if(Ie&&v.mode&1){var He=pc(f);if(He!==null){(He.flags&65536)===0&&(He.flags|=256),gc(He,f,v,c,t),Ys(br(y,v));break e}}c=y=br(y,v),qe!==4&&(qe=2),Di===null?Di=[c]:Di.push(c),c=f;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var O=dc(c,y,t);zu(c,O);break e;case 1:v=y;var S=c.type,D=c.stateNode;if((c.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Dn===null||!Dn.has(D)))){c.flags|=65536,t&=-t,c.lanes|=t;var U=fc(c,v,t);zu(c,U);break e}}c=c.return}while(c!==null)}Qc(n)}catch(X){t=X,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(!0)}function Wc(){var e=Ro.current;return Ro.current=jo,e===null?jo:e}function Fl(){(qe===0||qe===3||qe===2)&&(qe=4),Ye===null||(er&268435455)===0&&(Ao&268435455)===0||jn(Ye,tt)}function Bo(e,t){var n=Ee;Ee|=2;var i=Wc();(Ye!==e||tt!==t)&&(sn=null,nr(e,t));do try{Uh();break}catch(l){Bc(e,l)}while(!0);if(Zs(),Ee=n,Ro.current=i,Ve!==null)throw Error(o(261));return Ye=null,tt=0,qe}function Uh(){for(;Ve!==null;)Vc(Ve)}function Hh(){for(;Ve!==null&&!hf();)Vc(Ve)}function Vc(e){var t=Gc(e.alternate,e,Ct);e.memoizedProps=e.pendingProps,t===null?Qc(e):Ve=t,jl.current=null}function Qc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Ih(n,t,Ct),n!==null){Ve=n;return}}else{if(n=bh(n,t),n!==null){n.flags&=32767,Ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Ve=null;return}}if(t=t.sibling,t!==null){Ve=t;return}Ve=t=e}while(t!==null);qe===0&&(qe=5)}function rr(e,t,n){var i=De,l=Nt.transition;try{Nt.transition=null,De=1,Bh(e,t,n,i)}finally{Nt.transition=l,De=i}return null}function Bh(e,t,n,i){do Fr();while(Tn!==null);if((Ee&6)!==0)throw Error(o(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(Cf(e,c),e===Ye&&(Ve=Ye=null,tt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Fo||(Fo=!0,Yc(Qi,function(){return Fr(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=Nt.transition,Nt.transition=null;var f=De;De=1;var v=Ee;Ee|=4,jl.current=null,Ah(e,n),Rc(n,e),uh(Fs),Ji=!!zs,Fs=zs=null,e.current=n,zh(n),pf(),Ee=v,De=f,Nt.transition=c}else e.current=n;if(Fo&&(Fo=!1,Tn=e,$o=l),c=e.pendingLanes,c===0&&(Dn=null),vf(n.stateNode),mt(e,Ue()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],i(l.value,{componentStack:l.stack,digest:l.digest});if(zo)throw zo=!1,e=Ml,Ml=null,e;return($o&1)!==0&&e.tag!==0&&Fr(),c=e.pendingLanes,(c&1)!==0?e===Il?Ti++:(Ti=0,Il=e):Ti=0,Cn(),null}function Fr(){if(Tn!==null){var e=Ia($o),t=Nt.transition,n=De;try{if(Nt.transition=null,De=16>e?16:e,Tn===null)var i=!1;else{if(e=Tn,Tn=null,$o=0,(Ee&6)!==0)throw Error(o(331));var l=Ee;for(Ee|=4,K=e.current;K!==null;){var c=K,f=c.child;if((K.flags&16)!==0){var v=c.deletions;if(v!==null){for(var y=0;y<v.length;y++){var j=v[y];for(K=j;K!==null;){var z=K;switch(z.tag){case 0:case 11:case 15:_i(8,z,c)}var F=z.child;if(F!==null)F.return=z,K=F;else for(;K!==null;){z=K;var A=z.sibling,q=z.return;if(Pc(z),z===j){K=null;break}if(A!==null){A.return=q,K=A;break}K=q}}}var G=c.alternate;if(G!==null){var Y=G.child;if(Y!==null){G.child=null;do{var He=Y.sibling;Y.sibling=null,Y=He}while(Y!==null)}}K=c}}if((c.subtreeFlags&2064)!==0&&f!==null)f.return=c,K=f;else e:for(;K!==null;){if(c=K,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:_i(9,c,c.return)}var O=c.sibling;if(O!==null){O.return=c.return,K=O;break e}K=c.return}}var S=e.current;for(K=S;K!==null;){f=K;var D=f.child;if((f.subtreeFlags&2064)!==0&&D!==null)D.return=f,K=D;else e:for(f=S;K!==null;){if(v=K,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:bo(9,v)}}catch(X){$e(v,v.return,X)}if(v===f){K=null;break e}var U=v.sibling;if(U!==null){U.return=v.return,K=U;break e}K=v.return}}if(Ee=l,Cn(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(qi,e)}catch{}i=!0}return i}finally{De=n,Nt.transition=t}}return!1}function qc(e,t,n){t=br(n,t),t=dc(e,t,1),e=_n(e,t,1),t=dt(),e!==null&&(Zr(e,1,t),mt(e,t))}function $e(e,t,n){if(e.tag===3)qc(e,e,n);else for(;t!==null;){if(t.tag===3){qc(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Dn===null||!Dn.has(i))){e=br(n,e),e=fc(t,e,1),t=_n(t,e,1),e=dt(),t!==null&&(Zr(t,1,e),mt(t,e));break}}t=t.return}}function Wh(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,Ye===e&&(tt&n)===n&&(qe===4||qe===3&&(tt&130023424)===tt&&500>Ue()-Ll?nr(e,0):Pl|=n),mt(e,t)}function Kc(e,t){t===0&&((e.mode&1)===0?t=1:(t=Gi,Gi<<=1,(Gi&130023424)===0&&(Gi=4194304)));var n=dt();e=nn(e,t),e!==null&&(Zr(e,t,n),mt(e,n))}function Vh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kc(e,n)}function Qh(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}i!==null&&i.delete(t),Kc(e,n)}var Gc;Gc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)pt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return pt=!1,Mh(e,t,n);pt=(e.flags&131072)!==0}else pt=!1,Ie&&(t.flags&1048576)!==0&&Tu(t,yo,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Mo(e,t),e=t.pendingProps;var l=Dr(t,nt.current);Mr(t,n),l=ul(null,t,i,e,l,n);var c=cl();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(i)?(c=!0,go(t)):c=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,nl(t),l.updater=Po,t.stateNode=l,l._reactInternals=t,ml(t,i,e,n),t=Sl(null,t,i,!0,c,n)):(t.tag=0,Ie&&c&&Qs(t),ct(null,t,l,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Mo(e,t),e=t.pendingProps,l=i._init,i=l(i._payload),t.type=i,l=t.tag=Kh(i),e=Ft(i,e),l){case 0:t=wl(null,t,i,e,n);break e;case 1:t=xc(null,t,i,e,n);break e;case 11:t=mc(null,t,i,e,n);break e;case 14:t=vc(null,t,i,Ft(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ft(i,l),wl(e,t,i,l,n);case 1:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ft(i,l),xc(e,t,i,l,n);case 3:e:{if(kc(t),e===null)throw Error(o(387));i=t.pendingProps,c=t.memoizedState,l=c.element,Au(e,t),Eo(t,i,null,n);var f=t.memoizedState;if(i=f.element,c.isDehydrated)if(c={element:i,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){l=br(Error(o(423)),t),t=Cc(e,t,i,n,l);break e}else if(i!==l){l=br(Error(o(424)),t),t=Cc(e,t,i,n,l);break e}else for(kt=Sn(t.stateNode.containerInfo.firstChild),xt=t,Ie=!0,zt=null,n=bu(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jr(),i===l){t=on(e,t,n);break e}ct(e,t,i,n)}t=t.child}return t;case 5:return $u(t),e===null&&Gs(t),i=t.type,l=t.pendingProps,c=e!==null?e.memoizedProps:null,f=l.children,$s(i,l)?f=null:c!==null&&$s(i,c)&&(t.flags|=32),Sc(e,t),ct(e,t,f,n),t.child;case 6:return e===null&&Gs(t),null;case 13:return Ec(e,t,n);case 4:return rl(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Pr(t,null,i,n):ct(e,t,i,n),t.child;case 11:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ft(i,l),mc(e,t,i,l,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,l=t.pendingProps,c=t.memoizedProps,f=l.value,Pe(xo,i._currentValue),i._currentValue=f,c!==null)if(At(c.value,f)){if(c.children===l.children&&!ft.current){t=on(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var v=c.dependencies;if(v!==null){f=c.child;for(var y=v.firstContext;y!==null;){if(y.context===i){if(c.tag===1){y=rn(-1,n&-n),y.tag=2;var j=c.updateQueue;if(j!==null){j=j.shared;var z=j.pending;z===null?y.next=y:(y.next=z.next,z.next=y),j.pending=y}}c.lanes|=n,y=c.alternate,y!==null&&(y.lanes|=n),el(c.return,n,t),v.lanes|=n;break}y=y.next}}else if(c.tag===10)f=c.type===t.type?null:c.child;else if(c.tag===18){if(f=c.return,f===null)throw Error(o(341));f.lanes|=n,v=f.alternate,v!==null&&(v.lanes|=n),el(f,n,t),f=c.sibling}else f=c.child;if(f!==null)f.return=c;else for(f=c;f!==null;){if(f===t){f=null;break}if(c=f.sibling,c!==null){c.return=f.return,f=c;break}f=f.return}c=f}ct(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,i=t.pendingProps.children,Mr(t,n),l=Dt(l),i=i(l),t.flags|=1,ct(e,t,i,n),t.child;case 14:return i=t.type,l=Ft(i,t.pendingProps),l=Ft(i.type,l),vc(e,t,i,l,n);case 15:return yc(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,l=t.pendingProps,l=t.elementType===i?l:Ft(i,l),Mo(e,t),t.tag=1,ht(i)?(e=!0,go(t)):e=!1,Mr(t,n),uc(t,i,l),ml(t,i,l,n),Sl(null,t,i,!0,e,n);case 19:return Oc(e,t,n);case 22:return wc(e,t,n)}throw Error(o(156,t.tag))};function Yc(e,t){return Na(e,t)}function qh(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,t,n,i){return new qh(e,t,n,i)}function $l(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kh(e){if(typeof e=="function")return $l(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ae)return 11;if(e===_e)return 14}return 2}function Pn(e,t){var n=e.alternate;return n===null?(n=jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wo(e,t,n,i,l,c){var f=2;if(i=e,typeof e=="function")$l(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case se:return ir(n.children,l,c,t);case ke:f=8,l|=8;break;case V:return e=jt(12,n,t,l|2),e.elementType=V,e.lanes=c,e;case ee:return e=jt(13,n,t,l),e.elementType=ee,e.lanes=c,e;case pe:return e=jt(19,n,t,l),e.elementType=pe,e.lanes=c,e;case ge:return Vo(n,l,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ue:f=10;break e;case re:f=9;break e;case ae:f=11;break e;case _e:f=14;break e;case Ce:f=16,i=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=jt(f,n,t,l),t.elementType=e,t.type=i,t.lanes=c,t}function ir(e,t,n,i){return e=jt(7,e,i,t),e.lanes=n,e}function Vo(e,t,n,i){return e=jt(22,e,i,t),e.elementType=ge,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return e=jt(6,e,null,t),e.lanes=n,e}function Hl(e,t,n){return t=jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gh(e,t,n,i,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gs(0),this.expirationTimes=gs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gs(0),this.identifierPrefix=i,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,i,l,c,f,v,y){return e=new Gh(e,t,n,v,y),t===1?(t=1,c===!0&&(t|=8)):t=0,c=jt(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nl(c),e}function Yh(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function Xc(e){if(!e)return kn;e=e._reactInternals;e:{if(Qn(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(ht(n))return _u(e,n,t)}return t}function Zc(e,t,n,i,l,c,f,v,y){return e=Bl(n,i,!0,e,l,c,f,v,y),e.context=Xc(null),n=e.current,i=dt(),l=Nn(n),c=rn(i,l),c.callback=t??null,_n(n,c,l),e.current.lanes=l,Zr(e,l,i),mt(e,i),e}function Qo(e,t,n,i){var l=t.current,c=dt(),f=Nn(l);return n=Xc(n),t.context===null?t.context=n:t.pendingContext=n,t=rn(c,f),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=_n(l,t,f),e!==null&&(Ht(e,l,f,c),Co(e,l,f)),f}function qo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wl(e,t){Jc(e,t),(e=e.alternate)&&Jc(e,t)}function Xh(){return null}var ed=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vl(e){this._internalRoot=e}Ko.prototype.render=Vl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Qo(e,t,null,null)},Ko.prototype.unmount=Vl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tr(function(){Qo(null,e,null,null)}),t[Zt]=null}};function Ko(e){this._internalRoot=e}Ko.prototype.unstable_scheduleHydration=function(e){if(e){var t=Aa();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vn.length&&t!==0&&t<vn[n].priority;n++);vn.splice(n,0,e),n===0&&$a(e)}};function Ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function td(){}function Zh(e,t,n,i,l){if(l){if(typeof i=="function"){var c=i;i=function(){var j=qo(f);c.call(j)}}var f=Zc(t,i,e,0,null,!1,!1,"",td);return e._reactRootContainer=f,e[Zt]=f.current,fi(e.nodeType===8?e.parentNode:e),tr(),f}for(;l=e.lastChild;)e.removeChild(l);if(typeof i=="function"){var v=i;i=function(){var j=qo(y);v.call(j)}}var y=Bl(e,0,!1,null,null,!1,!1,"",td);return e._reactRootContainer=y,e[Zt]=y.current,fi(e.nodeType===8?e.parentNode:e),tr(function(){Qo(t,y,n,i)}),y}function Yo(e,t,n,i,l){var c=n._reactRootContainer;if(c){var f=c;if(typeof l=="function"){var v=l;l=function(){var y=qo(f);v.call(y)}}Qo(t,f,e,l)}else f=Zh(n,t,e,l,i);return qo(f)}ba=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xr(t.pendingLanes);n!==0&&(ms(t,n|1),mt(t,Ue()),(Ee&6)===0&&(zr=Ue()+500,Cn()))}break;case 13:tr(function(){var i=nn(e,1);if(i!==null){var l=dt();Ht(i,e,1,l)}}),Wl(e,1)}},vs=function(e){if(e.tag===13){var t=nn(e,134217728);if(t!==null){var n=dt();Ht(t,e,134217728,n)}Wl(e,134217728)}},Ra=function(e){if(e.tag===13){var t=Nn(e),n=nn(e,t);if(n!==null){var i=dt();Ht(n,e,t,i)}Wl(e,t)}},Aa=function(){return De},za=function(e,t){var n=De;try{return De=e,t()}finally{De=n}},Un=function(e,t,n){switch(t){case"input":if(Hr(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=ho(i);if(!l)throw Error(o(90));We(i),Hr(i,l)}}}break;case"textarea":hr(e,n);break;case"select":t=n.value,t!=null&&cn(e,!!n.multiple,t,!1)}},Wi=Al,Hn=tr;var Jh={usingClientEntryPoint:!1,Events:[gi,_r,ho,Bi,vr,Al]},Ni={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ep={bundleType:Ni.bundleType,version:Ni.version,rendererPackageName:Ni.rendererPackageName,rendererConfig:Ni.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Da(e),e===null?null:e.stateNode},findFiberByHostInstance:Ni.findFiberByHostInstance||Xh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xo.isDisabled&&Xo.supportsFiber)try{qi=Xo.inject(ep),Vt=Xo}catch{}}return vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jh,vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ql(t))throw Error(o(200));return Yh(e,t,null,n)},vt.createRoot=function(e,t){if(!Ql(e))throw Error(o(299));var n=!1,i="",l=ed;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Bl(e,1,!1,null,null,n,!1,i,l),e[Zt]=t.current,fi(e.nodeType===8?e.parentNode:e),new Vl(t)},vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Da(t),e=e===null?null:e.stateNode,e},vt.flushSync=function(e){return tr(e)},vt.hydrate=function(e,t,n){if(!Go(t))throw Error(o(200));return Yo(null,e,t,!0,n)},vt.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(o(405));var i=n!=null&&n.hydratedSources||null,l=!1,c="",f=ed;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=Zc(t,null,e,1,n??null,l,!1,c,f),e[Zt]=t.current,fi(e),i)for(e=0;e<i.length;e++)n=i[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ko(t)},vt.render=function(e,t,n){if(!Go(t))throw Error(o(200));return Yo(null,e,t,!1,n)},vt.unmountComponentAtNode=function(e){if(!Go(e))throw Error(o(40));return e._reactRootContainer?(tr(function(){Yo(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1},vt.unstable_batchedUpdates=Al,vt.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Go(n))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Yo(e,t,n,!1,i)},vt.version="18.3.1-next-f1338f8080-20240426",vt}var ud;function cp(){if(ud)return Gl.exports;ud=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Gl.exports=up(),Gl.exports}var cd;function dp(){if(cd)return Zo;cd=1;var s=cp();return Zo.createRoot=s.createRoot,Zo.hydrateRoot=s.hydrateRoot,Zo}var fp=dp();function hp(s,r){var o={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(o[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(s);u<a.length;u++)r.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(s,a[u])&&(o[a[u]]=s[a[u]]);return o}const zi="abcdefgh".split(""),rs={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},pp={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},gp={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},mp=[7,6,5,4,3,2,1,0],vp=[0,1,2,3,4,5,6,7],dd={wP:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),h.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),h.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),h.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),h.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),h.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[h.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),h.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),h.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),h.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[h.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),h.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),h.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),h.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),h.jsx("circle",{cx:"6",cy:"12",r:"2"}),h.jsx("circle",{cx:"14",cy:"9",r:"2"}),h.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),h.jsx("circle",{cx:"31",cy:"9",r:"2"}),h.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),h.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),h.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),h.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),h.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),h.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),h.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),h.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),h.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[h.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),h.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),h.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),h.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[h.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),h.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),h.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),h.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),h.jsx("circle",{cx:"6",cy:"12",r:"2"}),h.jsx("circle",{cx:"14",cy:"9",r:"2"}),h.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),h.jsx("circle",{cx:"31",cy:"9",r:"2"}),h.jsx("circle",{cx:"39",cy:"12",r:"2"}),h.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),h.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[h.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),h.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),h.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),h.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:h.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[h.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),h.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),h.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),h.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),h.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function ca(s,r,o){const a=r/8,u=s==="white"?pp:gp,d=s==="white"?mp:vp,g=u[o[0]]*a+a/2,p=d[parseInt(o[1],10)-1]*a+a/2;return{x:g,y:p}}function fd(s){let r=!1;return Object.keys(rs).forEach(o=>{s[o]!==rs[o]&&(r=!0)}),Object.keys(s).forEach(o=>{rs[o]!==s[o]&&(r=!0)}),r}function yp(s,r){const o={removed:{},added:{}};return Object.keys(s).forEach(a=>{r[a]!==s[a]&&(o.removed[a]=s[a])}),Object.keys(r).forEach(a=>{s[a]!==r[a]&&(o.added[a]=r[a])}),o}function hd(s){return s==="start"?rs:typeof s=="string"?wp(s):s}function wp(s){if(!Sp(s))return{};s=s.replace(/ .+$/,"");const r=s.split("/"),o={};let a=8;for(let u=0;u<8;u++){const d=r[u].split("");let g=0;for(let p=0;p<d.length;p++)if(d[p].search(/[1-8]/)!==-1){const m=parseInt(d[p],10);g=g+m}else{const m=zi[g]+a;o[m]=kp(d[p]),g=g+1}a=a-1}return o}function Sp(s){s=s.replace(/ .+$/,""),s=xp(s);const r=s.split("/");if(r.length!==8)return!1;for(let o=0;o<8;o++)if(r[o].length!==8||r[o].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function xp(s){return s.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function kp(s){return s.toLowerCase()===s?"b"+s.toUpperCase():"w"+s.toUpperCase()}const Cp=(s,r=!0,o,a)=>{const[u,d]=T.useState([]),[g,p]=T.useState([]),[m,x]=T.useState();T.useEffect(()=>{Array.isArray(s)&&(N(),d(s==null?void 0:s.filter(E=>E[0]!==E[1])))},[s]),T.useEffect(()=>{o==null||o(g)},[g]);function N(){p([]),x(void 0)}const _=(E,k)=>{r&&x([E,k,a])},w=[...g,...u];return{arrows:w,newArrow:m,clearArrows:N,drawNewArrow:_,setArrows:p,onArrowDrawEnd:(E,k)=>{if(E===k||!r)return;let L;const M=[E,k,a];w.every(([I,Q])=>!(I===E&&Q===k))?L=[...g,M]:L=g.filter(([I,Q])=>!(I===E&&Q===k)),x(void 0),p(L)}}},zd=T.createContext({}),an=()=>T.useContext(zd),Ep=T.forwardRef(({allowDragOutsideBoard:s=!0,animationDuration:r=300,areArrowsAllowed:o=!0,arePiecesDraggable:a=!0,arePremovesAllowed:u=!1,autoPromoteToQueen:d=!1,boardOrientation:g="white",boardWidth:p,children:m,clearPremovesOnRightClick:x=!0,customArrows:N,customArrowColor:_="rgb(255,170,0)",customBoardStyle:w,customNotationStyle:P,customDarkSquareStyle:E={backgroundColor:"#B58863"},customDropSquareStyle:k={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:L={backgroundColor:"#F0D9B5"},customPieces:M,customPremoveDarkSquareStyle:R={backgroundColor:"#A42323"},customPremoveLightSquareStyle:I={backgroundColor:"#BD2828"},customSquare:Q="div",customSquareStyles:te,dropOffBoardAction:ne="snapback",id:se=0,isDraggablePiece:ke=()=>!0,getPositionObject:V=()=>{},onArrowsChange:ue=()=>{},onDragOverSquare:re=()=>{},onMouseOutSquare:ae=()=>{},onMouseOverSquare:ee=()=>{},onPieceClick:pe=()=>{},onPieceDragBegin:_e=()=>{},onPieceDragEnd:Ce=()=>{},onPieceDrop:ge=()=>!0,onPieceDropOffBoard:B=()=>{},onPromotionCheck:J=(we,We,ut)=>(ut==="wP"&&we[1]==="7"&&We[1]==="8"||ut==="bP"&&we[1]==="2"&&We[1]==="1")&&Math.abs(we.charCodeAt(0)-We.charCodeAt(0))<=1,onPromotionPieceSelect:$=()=>!0,onSparePieceDrop:C=()=>!0,onSquareClick:b=()=>{},onSquareRightClick:de=()=>{},position:he="start",promotionDialogVariant:H="default",promotionToSquare:Z=null,showBoardNotation:W=!0,showPromotionDialog:le=!1,snapToCursor:fe=!0},Se)=>{const[we,We]=T.useState(hd(he)),[ut,Ur]=T.useState({removed:{},added:{}}),[dr,Xt]=T.useState(void 0),[Hr,fr]=T.useState(le&&!d),[Br,un]=T.useState(null),[cn,zn]=T.useState(Z),[Wr,hr]=T.useState([]),bt=T.useRef(Wr),[pr,dn]=T.useState(),[gr,$i]=T.useState(Object.assign(Object.assign({},dd),M)),[Fn,Wt]=T.useState(!1),[Vr,Ui]=T.useState(),[$n,mr]=T.useState(!1),[Qr,qr]=T.useState(null);T.useImperativeHandle(Se,()=>({clearPremoves(je=!0){Hn(je)}})),T.useEffect(()=>{$i(Object.assign(Object.assign({},dd),M))},[M]),T.useEffect(()=>{fr(le),zn(Z)},[Z,le]),T.useEffect(()=>{var je,Te,Je;Bn();const Fe=hd(he),Et=yp(we,Fe),wt=((je=Object.keys(Et.added))===null||je===void 0?void 0:je.length)<=2?(Je=(Te=Object.entries(Et.added))===null||Te===void 0?void 0:Te[0])===null||Je===void 0?void 0:Je[1][0]:void 0;if($n)We(Fe),mr(!1),u&&vr(wt),Vr&&clearTimeout(Vr);else if(Fn)We(Fe),mr(!1),u&&vr(wt);else{fd(Fe)&&dr!==void 0?Xt(wt):fd(Fe)?Xt(void 0):Xt("b"),Ur(Et),mr(!0);const fs=setTimeout(()=>{We(Fe),mr(!1),u&&vr(wt)},r);Ui(fs)}return Wt(!1),V(Fe),Un(),()=>{clearTimeout(Vr)}},[he]);const{arrows:Kr,newArrow:Gr,clearArrows:Un,drawNewArrow:fn,onArrowDrawEnd:hn}=Cp(N,o,ue,_);function Hi(je,Te,Je,Fe){if(je===Te)return;if(Un(),u&&$n||u&&(dr===Je[0]||bt.current.filter(wt=>wt.piece[0]===Je[0]).length>0)){const wt=[...bt.current];wt.push({sourceSq:je,targetSq:Te,piece:Je}),bt.current=wt,hr([...wt]),Bn();return}if(!u&&$n)return;const Et=Object.assign({},we);Wt(!!Fe),Xt(Je[0]),ge.length?ge(je,Te,Je)||(Hn(),Wt(!1)):(delete Et[je],Et[Te]=Je,We(Et)),Bn(),V(Et)}function Bi(je){const Te=Object.assign({},we);delete Te[je],We(Te),V(Te)}function vr(je){if(bt.current.length===0)return;const Te=bt.current[0];if(Te.piece[0]!==void 0&&Te.piece[0]!==je&&ge.length)if(Xt(Te.piece[0]),Wt(!0),ge(Te.sourceSq,Te.targetSq,Te.piece)){const Fe=[...bt.current];Fe.shift(),bt.current=Fe,hr([...Fe])}else Hn()}function Wi(je,Te){if(!C(je,Te))return;const Fe=Object.assign({},we);Fe[Te]=je,We(Fe),V(Fe)}function Hn(je=!0){je&&Xt(void 0),bt.current=[],hr([])}function Bn(){un(null),zn(null),fr(!1)}function Vi(je){dn(je)}function Wn(je){if(pr){if(pr===je){dn(void 0),x&&Hn(!1),de(je);return}}else dn(void 0)}function Yr(){dn(void 0)}const Vn={allowDragOutsideBoard:s,animationDuration:r,arePiecesDraggable:a,arePremovesAllowed:u,arrows:Kr,autoPromoteToQueen:d,boardOrientation:g,boardWidth:p,chessPieces:gr,clearArrows:Un,clearCurrentRightClickDown:Yr,currentPosition:we,currentRightClickDown:pr,customArrowColor:_,customBoardStyle:w,customDarkSquareStyle:E,customDropSquareStyle:k,customLightSquareStyle:L,customNotationStyle:P,customPremoveDarkSquareStyle:R,customPremoveLightSquareStyle:I,customSquare:Q,customSquareStyles:te,deletePieceFromSquare:Bi,drawNewArrow:fn,dropOffBoardAction:ne,handleSetPosition:Hi,handleSparePieceDrop:Wi,id:se,isDraggablePiece:ke,isWaitingForAnimation:$n,lastPieceColour:dr,lastSquareDraggedOver:Qr,newArrow:Gr,onArrowDrawEnd:hn,onDragOverSquare:re,onMouseOutSquare:ae,onMouseOverSquare:ee,onPieceClick:pe,onPieceDragBegin:_e,onPieceDragEnd:Ce,onPieceDrop:ge,onPieceDropOffBoard:B,onPromotionCheck:J,onPromotionPieceSelect:$,onRightClickDown:Vi,onRightClickUp:Wn,onSparePieceDrop:C,onSquareClick:b,positionDifferences:ut,premoves:Wr,promoteFromSquare:Br,promoteToSquare:cn,promotionDialogVariant:H,setLastSquareDraggedOver:qr,setPromoteFromSquare:un,setPromoteToSquare:zn,setShowPromoteDialog:fr,showBoardNotation:W,showPromoteDialog:Hr,snapToCursor:fe};return h.jsx(zd.Provider,Object.assign({value:Vn},{children:m}))});function _p({row:s,col:r}){const{boardOrientation:o,boardWidth:a,customDarkSquareStyle:u,customLightSquareStyle:d,customNotationStyle:g}=an(),p=d.backgroundColor,m=u.backgroundColor,x=r===0,N=s===7,_=x&&N;function w(){return o==="white"?8-s:s+1}function P(){return o==="black"?zi[7-r]:zi[r]}function E(){return h.jsxs(h.Fragment,{children:[h.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:p}),gd(a,g))},{children:w()})),h.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:p}),pd(a,g))},{children:P()}))]})}function k(){return h.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:r%2!==0?m:p}),pd(a,g))},{children:P()}))}function L(){return h.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},o==="black"?{color:s%2===0?m:p}:{color:s%2===0?m:p}),gd(a,g))},{children:w()}))}return _?E():N?k():x?L():null}const pd=(s,r)=>Object.assign({alignSelf:"flex-end",paddingLeft:s/8-s/48,fontSize:s/48},r),gd=(s,r)=>Object.assign({alignSelf:"flex-start",paddingRight:s/8-s/48,fontSize:s/48},r),Fd=T.createContext({dragDropManager:void 0});function Pt(s){return"Minified Redux error #"+s+"; visit https://redux.js.org/Errors?code="+s+" for the full message or use the non-minified dev environment for full errors. "}var md=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),vd=function(){return Math.random().toString(36).substring(7).split("").join(".")},yd={INIT:"@@redux/INIT"+vd(),REPLACE:"@@redux/REPLACE"+vd()};function Op(s){if(typeof s!="object"||s===null)return!1;for(var r=s;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(s)===r}function $d(s,r,o){var a;if(typeof r=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(Pt(0));if(typeof r=="function"&&typeof o>"u"&&(o=r,r=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(Pt(1));return o($d)(s,r)}if(typeof s!="function")throw new Error(Pt(2));var u=s,d=r,g=[],p=g,m=!1;function x(){p===g&&(p=g.slice())}function N(){if(m)throw new Error(Pt(3));return d}function _(k){if(typeof k!="function")throw new Error(Pt(4));if(m)throw new Error(Pt(5));var L=!0;return x(),p.push(k),function(){if(L){if(m)throw new Error(Pt(6));L=!1,x();var R=p.indexOf(k);p.splice(R,1),g=null}}}function w(k){if(!Op(k))throw new Error(Pt(7));if(typeof k.type>"u")throw new Error(Pt(8));if(m)throw new Error(Pt(9));try{m=!0,d=u(d,k)}finally{m=!1}for(var L=g=p,M=0;M<L.length;M++){var R=L[M];R()}return k}function P(k){if(typeof k!="function")throw new Error(Pt(10));u=k,w({type:yd.REPLACE})}function E(){var k,L=_;return k={subscribe:function(R){if(typeof R!="object"||R===null)throw new Error(Pt(11));function I(){R.next&&R.next(N())}I();var Q=L(I);return{unsubscribe:Q}}},k[md]=function(){return this},k}return w({type:yd.INIT}),a={dispatch:w,subscribe:_,getState:N,replaceReducer:P},a[md]=E,a}function ve(s,r,...o){if(Dp()&&r===void 0)throw new Error("invariant requires an error message argument");if(!s){let a;if(r===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let u=0;a=new Error(r.replace(/%s/g,function(){return o[u++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}function Dp(){return typeof process<"u"&&!0}function Tp(s,r,o){return r.split(".").reduce((a,u)=>a&&a[u]?a[u]:o||null,s)}function Np(s,r){return s.filter(o=>o!==r)}function Ud(s){return typeof s=="object"}function jp(s,r){const o=new Map,a=d=>{o.set(d,o.has(d)?o.get(d)+1:1)};s.forEach(a),r.forEach(a);const u=[];return o.forEach((d,g)=>{d===1&&u.push(g)}),u}function Pp(s,r){return s.filter(o=>r.indexOf(o)>-1)}const wa="dnd-core/INIT_COORDS",ls="dnd-core/BEGIN_DRAG",Sa="dnd-core/PUBLISH_DRAG_SOURCE",as="dnd-core/HOVER",us="dnd-core/DROP",cs="dnd-core/END_DRAG";function wd(s,r){return{type:wa,payload:{sourceClientOffset:r||null,clientOffset:s||null}}}const Lp={type:wa,payload:{clientOffset:null,sourceClientOffset:null}};function Mp(s){return function(o=[],a={publishSource:!0}){const{publishSource:u=!0,clientOffset:d,getSourceClientOffset:g}=a,p=s.getMonitor(),m=s.getRegistry();s.dispatch(wd(d)),Ip(o,p,m);const x=Ap(o,p);if(x==null){s.dispatch(Lp);return}let N=null;if(d){if(!g)throw new Error("getSourceClientOffset must be defined");bp(g),N=g(x)}s.dispatch(wd(d,N));const w=m.getSource(x).beginDrag(p,x);if(w==null)return;Rp(w),m.pinSource(x);const P=m.getSourceType(x);return{type:ls,payload:{itemType:P,item:w,sourceId:x,clientOffset:d||null,sourceClientOffset:N||null,isSourcePublic:!!u}}}}function Ip(s,r,o){ve(!r.isDragging(),"Cannot call beginDrag while dragging."),s.forEach(function(a){ve(o.getSource(a),"Expected sourceIds to be registered.")})}function bp(s){ve(typeof s=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Rp(s){ve(Ud(s),"Item must be an object.")}function Ap(s,r){let o=null;for(let a=s.length-1;a>=0;a--)if(r.canDragSource(s[a])){o=s[a];break}return o}function zp(s,r,o){return r in s?Object.defineProperty(s,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[r]=o,s}function Fp(s){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{},a=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(u){return Object.getOwnPropertyDescriptor(o,u).enumerable}))),a.forEach(function(u){zp(s,u,o[u])})}return s}function $p(s){return function(o={}){const a=s.getMonitor(),u=s.getRegistry();Up(a),Wp(a).forEach((g,p)=>{const m=Hp(g,p,u,a),x={type:us,payload:{dropResult:Fp({},o,m)}};s.dispatch(x)})}}function Up(s){ve(s.isDragging(),"Cannot call drop while not dragging."),ve(!s.didDrop(),"Cannot call drop twice during one drag operation.")}function Hp(s,r,o,a){const u=o.getTarget(s);let d=u?u.drop(a,s):void 0;return Bp(d),typeof d>"u"&&(d=r===0?{}:a.getDropResult()),d}function Bp(s){ve(typeof s>"u"||Ud(s),"Drop result must either be an object or undefined.")}function Wp(s){const r=s.getTargetIds().filter(s.canDropOnTarget,s);return r.reverse(),r}function Vp(s){return function(){const o=s.getMonitor(),a=s.getRegistry();Qp(o);const u=o.getSourceId();return u!=null&&(a.getSource(u,!0).endDrag(o,u),a.unpinSource()),{type:cs}}}function Qp(s){ve(s.isDragging(),"Cannot call endDrag while not dragging.")}function da(s,r){return r===null?s===null:Array.isArray(s)?s.some(o=>o===r):s===r}function qp(s){return function(o,{clientOffset:a}={}){Kp(o);const u=o.slice(0),d=s.getMonitor(),g=s.getRegistry(),p=d.getItemType();return Yp(u,g,p),Gp(u,d,g),Xp(u,d,g),{type:as,payload:{targetIds:u,clientOffset:a||null}}}}function Kp(s){ve(Array.isArray(s),"Expected targetIds to be an array.")}function Gp(s,r,o){ve(r.isDragging(),"Cannot call hover while not dragging."),ve(!r.didDrop(),"Cannot call hover after drop.");for(let a=0;a<s.length;a++){const u=s[a];ve(s.lastIndexOf(u)===a,"Expected targetIds to be unique in the passed array.");const d=o.getTarget(u);ve(d,"Expected targetIds to be registered.")}}function Yp(s,r,o){for(let a=s.length-1;a>=0;a--){const u=s[a],d=r.getTargetType(u);da(d,o)||s.splice(a,1)}}function Xp(s,r,o){s.forEach(function(a){o.getTarget(a).hover(r,a)})}function Zp(s){return function(){if(s.getMonitor().isDragging())return{type:Sa}}}function Jp(s){return{beginDrag:Mp(s),publishDragSource:Zp(s),hover:qp(s),drop:$p(s),endDrag:Vp(s)}}class eg{receiveBackend(r){this.backend=r}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const r=this,{dispatch:o}=this.store;function a(d){return(...g)=>{const p=d.apply(r,g);typeof p<"u"&&o(p)}}const u=Jp(this);return Object.keys(u).reduce((d,g)=>{const p=u[g];return d[g]=a(p),d},{})}dispatch(r){this.store.dispatch(r)}constructor(r,o){this.isSetUp=!1,this.handleRefCountChange=()=>{const a=this.store.getState().refCount>0;this.backend&&(a&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!a&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=r,this.monitor=o,r.subscribe(this.handleRefCountChange)}}function tg(s,r){return{x:s.x+r.x,y:s.y+r.y}}function Hd(s,r){return{x:s.x-r.x,y:s.y-r.y}}function ng(s){const{clientOffset:r,initialClientOffset:o,initialSourceClientOffset:a}=s;return!r||!o||!a?null:Hd(tg(r,a),o)}function rg(s){const{clientOffset:r,initialClientOffset:o}=s;return!r||!o?null:Hd(r,o)}const bi=[],xa=[];bi.__IS_NONE__=!0;xa.__IS_ALL__=!0;function ig(s,r){return s===bi?!1:s===xa||typeof r>"u"?!0:Pp(r,s).length>0}class og{subscribeToStateChange(r,o={}){const{handlerIds:a}=o;ve(typeof r=="function","listener must be a function."),ve(typeof a>"u"||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");let u=this.store.getState().stateId;const d=()=>{const g=this.store.getState(),p=g.stateId;try{p===u||p===u+1&&!ig(g.dirtyHandlerIds,a)||r()}finally{u=p}};return this.store.subscribe(d)}subscribeToOffsetChange(r){ve(typeof r=="function","listener must be a function.");let o=this.store.getState().dragOffset;const a=()=>{const u=this.store.getState().dragOffset;u!==o&&(o=u,r())};return this.store.subscribe(a)}canDragSource(r){if(!r)return!1;const o=this.registry.getSource(r);return ve(o,`Expected to find a valid source. sourceId=${r}`),this.isDragging()?!1:o.canDrag(this,r)}canDropOnTarget(r){if(!r)return!1;const o=this.registry.getTarget(r);if(ve(o,`Expected to find a valid target. targetId=${r}`),!this.isDragging()||this.didDrop())return!1;const a=this.registry.getTargetType(r),u=this.getItemType();return da(a,u)&&o.canDrop(this,r)}isDragging(){return!!this.getItemType()}isDraggingSource(r){if(!r)return!1;const o=this.registry.getSource(r,!0);if(ve(o,`Expected to find a valid source. sourceId=${r}`),!this.isDragging()||!this.isSourcePublic())return!1;const a=this.registry.getSourceType(r),u=this.getItemType();return a!==u?!1:o.isDragging(this,r)}isOverTarget(r,o={shallow:!1}){if(!r)return!1;const{shallow:a}=o;if(!this.isDragging())return!1;const u=this.registry.getTargetType(r),d=this.getItemType();if(d&&!da(u,d))return!1;const g=this.getTargetIds();if(!g.length)return!1;const p=g.indexOf(r);return a?p===g.length-1:p>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return ng(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return rg(this.store.getState().dragOffset)}constructor(r,o){this.store=r,this.registry=o}}const Sd=typeof global<"u"?global:self,Bd=Sd.MutationObserver||Sd.WebKitMutationObserver;function Wd(s){return function(){const o=setTimeout(u,0),a=setInterval(u,50);function u(){clearTimeout(o),clearInterval(a),s()}}}function sg(s){let r=1;const o=new Bd(s),a=document.createTextNode("");return o.observe(a,{characterData:!0}),function(){r=-r,a.data=r}}const lg=typeof Bd=="function"?sg:Wd;class ag{enqueueTask(r){const{queue:o,requestFlush:a}=this;o.length||(a(),this.flushing=!0),o[o.length]=r}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:r}=this;for(;this.index<r.length;){const o=this.index;if(this.index++,r[o].call(),this.index>this.capacity){for(let a=0,u=r.length-this.index;a<u;a++)r[a]=r[a+this.index];r.length-=this.index,this.index=0}}r.length=0,this.index=0,this.flushing=!1},this.registerPendingError=r=>{this.pendingErrors.push(r),this.requestErrorThrow()},this.requestFlush=lg(this.flush),this.requestErrorThrow=Wd(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class ug{call(){try{this.task&&this.task()}catch(r){this.onError(r)}finally{this.task=null,this.release(this)}}constructor(r,o){this.onError=r,this.release=o,this.task=null}}class cg{create(r){const o=this.freeTasks,a=o.length?o.pop():new ug(this.onError,u=>o[o.length]=u);return a.task=r,a}constructor(r){this.onError=r,this.freeTasks=[]}}const Vd=new ag,dg=new cg(Vd.registerPendingError);function fg(s){Vd.enqueueTask(dg.create(s))}const ka="dnd-core/ADD_SOURCE",Ca="dnd-core/ADD_TARGET",Ea="dnd-core/REMOVE_SOURCE",ds="dnd-core/REMOVE_TARGET";function hg(s){return{type:ka,payload:{sourceId:s}}}function pg(s){return{type:Ca,payload:{targetId:s}}}function gg(s){return{type:Ea,payload:{sourceId:s}}}function mg(s){return{type:ds,payload:{targetId:s}}}function vg(s){ve(typeof s.canDrag=="function","Expected canDrag to be a function."),ve(typeof s.beginDrag=="function","Expected beginDrag to be a function."),ve(typeof s.endDrag=="function","Expected endDrag to be a function.")}function yg(s){ve(typeof s.canDrop=="function","Expected canDrop to be a function."),ve(typeof s.hover=="function","Expected hover to be a function."),ve(typeof s.drop=="function","Expected beginDrag to be a function.")}function fa(s,r){if(r&&Array.isArray(s)){s.forEach(o=>fa(o,!1));return}ve(typeof s=="string"||typeof s=="symbol",r?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Mt;(function(s){s.SOURCE="SOURCE",s.TARGET="TARGET"})(Mt||(Mt={}));let wg=0;function Sg(){return wg++}function xg(s){const r=Sg().toString();switch(s){case Mt.SOURCE:return`S${r}`;case Mt.TARGET:return`T${r}`;default:throw new Error(`Unknown Handler Role: ${s}`)}}function xd(s){switch(s[0]){case"S":return Mt.SOURCE;case"T":return Mt.TARGET;default:throw new Error(`Cannot parse handler ID: ${s}`)}}function kd(s,r){const o=s.entries();let a=!1;do{const{done:u,value:[,d]}=o.next();if(d===r)return!0;a=!!u}while(!a);return!1}class kg{addSource(r,o){fa(r),vg(o);const a=this.addHandler(Mt.SOURCE,r,o);return this.store.dispatch(hg(a)),a}addTarget(r,o){fa(r,!0),yg(o);const a=this.addHandler(Mt.TARGET,r,o);return this.store.dispatch(pg(a)),a}containsHandler(r){return kd(this.dragSources,r)||kd(this.dropTargets,r)}getSource(r,o=!1){return ve(this.isSourceId(r),"Expected a valid source ID."),o&&r===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(r)}getTarget(r){return ve(this.isTargetId(r),"Expected a valid target ID."),this.dropTargets.get(r)}getSourceType(r){return ve(this.isSourceId(r),"Expected a valid source ID."),this.types.get(r)}getTargetType(r){return ve(this.isTargetId(r),"Expected a valid target ID."),this.types.get(r)}isSourceId(r){return xd(r)===Mt.SOURCE}isTargetId(r){return xd(r)===Mt.TARGET}removeSource(r){ve(this.getSource(r),"Expected an existing source."),this.store.dispatch(gg(r)),fg(()=>{this.dragSources.delete(r),this.types.delete(r)})}removeTarget(r){ve(this.getTarget(r),"Expected an existing target."),this.store.dispatch(mg(r)),this.dropTargets.delete(r),this.types.delete(r)}pinSource(r){const o=this.getSource(r);ve(o,"Expected an existing source."),this.pinnedSourceId=r,this.pinnedSource=o}unpinSource(){ve(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(r,o,a){const u=xg(r);return this.types.set(u,o),r===Mt.SOURCE?this.dragSources.set(u,a):r===Mt.TARGET&&this.dropTargets.set(u,a),u}constructor(r){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=r}}const Cg=(s,r)=>s===r;function Eg(s,r){return!s&&!r?!0:!s||!r?!1:s.x===r.x&&s.y===r.y}function _g(s,r,o=Cg){if(s.length!==r.length)return!1;for(let a=0;a<s.length;++a)if(!o(s[a],r[a]))return!1;return!0}function Og(s=bi,r){switch(r.type){case as:break;case ka:case Ca:case ds:case Ea:return bi;case ls:case Sa:case cs:case us:default:return xa}const{targetIds:o=[],prevTargetIds:a=[]}=r.payload,u=jp(o,a);if(!(u.length>0||!_g(o,a)))return bi;const g=a[a.length-1],p=o[o.length-1];return g!==p&&(g&&u.push(g),p&&u.push(p)),u}function Dg(s,r,o){return r in s?Object.defineProperty(s,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[r]=o,s}function Tg(s){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{},a=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(u){return Object.getOwnPropertyDescriptor(o,u).enumerable}))),a.forEach(function(u){Dg(s,u,o[u])})}return s}const Cd={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Ng(s=Cd,r){const{payload:o}=r;switch(r.type){case wa:case ls:return{initialSourceClientOffset:o.sourceClientOffset,initialClientOffset:o.clientOffset,clientOffset:o.clientOffset};case as:return Eg(s.clientOffset,o.clientOffset)?s:Tg({},s,{clientOffset:o.clientOffset});case cs:case us:return Cd;default:return s}}function jg(s,r,o){return r in s?Object.defineProperty(s,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[r]=o,s}function $r(s){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{},a=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(u){return Object.getOwnPropertyDescriptor(o,u).enumerable}))),a.forEach(function(u){jg(s,u,o[u])})}return s}const Pg={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Lg(s=Pg,r){const{payload:o}=r;switch(r.type){case ls:return $r({},s,{itemType:o.itemType,item:o.item,sourceId:o.sourceId,isSourcePublic:o.isSourcePublic,dropResult:null,didDrop:!1});case Sa:return $r({},s,{isSourcePublic:!0});case as:return $r({},s,{targetIds:o.targetIds});case ds:return s.targetIds.indexOf(o.targetId)===-1?s:$r({},s,{targetIds:Np(s.targetIds,o.targetId)});case us:return $r({},s,{dropResult:o.dropResult,didDrop:!0,targetIds:[]});case cs:return $r({},s,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return s}}function Mg(s=0,r){switch(r.type){case ka:case Ca:return s+1;case Ea:case ds:return s-1;default:return s}}function Ig(s=0){return s+1}function bg(s,r,o){return r in s?Object.defineProperty(s,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[r]=o,s}function Rg(s){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{},a=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(u){return Object.getOwnPropertyDescriptor(o,u).enumerable}))),a.forEach(function(u){bg(s,u,o[u])})}return s}function Ag(s={},r){return{dirtyHandlerIds:Og(s.dirtyHandlerIds,{type:r.type,payload:Rg({},r.payload,{prevTargetIds:Tp(s,"dragOperation.targetIds",[])})}),dragOffset:Ng(s.dragOffset,r),refCount:Mg(s.refCount,r),dragOperation:Lg(s.dragOperation,r),stateId:Ig(s.stateId)}}function zg(s,r=void 0,o={},a=!1){const u=Fg(a),d=new og(u,new kg(u)),g=new eg(u,d),p=s(g,r,o);return g.receiveBackend(p),g}function Fg(s){const r=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return $d(Ag,s&&r&&r({name:"dnd-core",instanceId:"dnd-core"}))}function $g(s,r){if(s==null)return{};var o=Ug(s,r),a,u;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);for(u=0;u<d.length;u++)a=d[u],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(o[a]=s[a])}return o}function Ug(s,r){if(s==null)return{};var o={},a=Object.keys(s),u,d;for(d=0;d<a.length;d++)u=a[d],!(r.indexOf(u)>=0)&&(o[u]=s[u]);return o}let Ed=0;const is=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Hg=T.memo(function(r){var{children:o}=r,a=$g(r,["children"]);const[u,d]=Bg(a);return T.useEffect(()=>{if(d){const g=Qd();return++Ed,()=>{--Ed===0&&(g[is]=null)}}},[]),h.jsx(Fd.Provider,{value:u,children:o})});function Bg(s){if("manager"in s)return[{dragDropManager:s.manager},!1];const r=Wg(s.backend,s.context,s.options,s.debugMode),o=!s.context;return[r,o]}function Wg(s,r=Qd(),o,a){const u=r;return u[is]||(u[is]={dragDropManager:zg(s,r,o,a)}),u[is]}function Qd(){return typeof global<"u"?global:window}var Vg=function s(r,o){if(r===o)return!0;if(r&&o&&typeof r=="object"&&typeof o=="object"){if(r.constructor!==o.constructor)return!1;var a,u,d;if(Array.isArray(r)){if(a=r.length,a!=o.length)return!1;for(u=a;u--!==0;)if(!s(r[u],o[u]))return!1;return!0}if(r.constructor===RegExp)return r.source===o.source&&r.flags===o.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===o.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===o.toString();if(d=Object.keys(r),a=d.length,a!==Object.keys(o).length)return!1;for(u=a;u--!==0;)if(!Object.prototype.hasOwnProperty.call(o,d[u]))return!1;for(u=a;u--!==0;){var g=d[u];if(!s(r[g],o[g]))return!1}return!0}return r!==r&&o!==o};const ur=typeof window<"u"?T.useLayoutEffect:T.useEffect;function qd(s,r,o){const[a,u]=T.useState(()=>r(s)),d=T.useCallback(()=>{const g=r(s);Vg(a,g)||(u(g),o&&o())},[a,s,o]);return ur(d),[a,d]}function Qg(s,r,o){const[a,u]=qd(s,r,o);return ur(function(){const g=s.getHandlerId();if(g!=null)return s.subscribeToStateChange(u,{handlerIds:[g]})},[s,u]),a}function Kd(s,r,o){return Qg(r,s||(()=>({})),()=>o.reconnect())}function Gd(s,r){const o=[...r||[]];return r==null&&typeof s!="function"&&o.push(s),T.useMemo(()=>typeof s=="function"?s():s,o)}function qg(s){return T.useMemo(()=>s.hooks.dragSource(),[s])}function Kg(s){return T.useMemo(()=>s.hooks.dragPreview(),[s])}let Zl=!1,Jl=!1;class Gg{receiveHandlerId(r){this.sourceId=r}getHandlerId(){return this.sourceId}canDrag(){ve(!Zl,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Zl=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Zl=!1}}isDragging(){if(!this.sourceId)return!1;ve(!Jl,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Jl=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Jl=!1}}subscribeToStateChange(r,o){return this.internalMonitor.subscribeToStateChange(r,o)}isDraggingSource(r){return this.internalMonitor.isDraggingSource(r)}isOverTarget(r,o){return this.internalMonitor.isOverTarget(r,o)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(r){return this.internalMonitor.subscribeToOffsetChange(r)}canDragSource(r){return this.internalMonitor.canDragSource(r)}canDropOnTarget(r){return this.internalMonitor.canDropOnTarget(r)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(r){this.sourceId=null,this.internalMonitor=r.getMonitor()}}let ea=!1;class Yg{receiveHandlerId(r){this.targetId=r}getHandlerId(){return this.targetId}subscribeToStateChange(r,o){return this.internalMonitor.subscribeToStateChange(r,o)}canDrop(){if(!this.targetId)return!1;ve(!ea,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return ea=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{ea=!1}}isOver(r){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,r):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(r){this.targetId=null,this.internalMonitor=r.getMonitor()}}function Xg(s,r,o){const a=o.getRegistry(),u=a.addTarget(s,r);return[u,()=>a.removeTarget(u)]}function Zg(s,r,o){const a=o.getRegistry(),u=a.addSource(s,r);return[u,()=>a.removeSource(u)]}function ha(s,r,o,a){let u;if(u!==void 0)return!!u;if(s===r)return!0;if(typeof s!="object"||!s||typeof r!="object"||!r)return!1;const d=Object.keys(s),g=Object.keys(r);if(d.length!==g.length)return!1;const p=Object.prototype.hasOwnProperty.bind(r);for(let m=0;m<d.length;m++){const x=d[m];if(!p(x))return!1;const N=s[x],_=r[x];if(u=void 0,u===!1||u===void 0&&N!==_)return!1}return!0}function pa(s){return s!==null&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function Jg(s){if(typeof s.type=="string")return;const r=s.type.displayName||s.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${r} into a <div>, or turn it into a drag source or a drop target itself.`)}function e0(s){return(r=null,o=null)=>{if(!T.isValidElement(r)){const d=r;return s(d,o),d}const a=r;return Jg(a),t0(a,o?d=>s(d,o):s)}}function Yd(s){const r={};return Object.keys(s).forEach(o=>{const a=s[o];if(o.endsWith("Ref"))r[o]=s[o];else{const u=e0(a);r[o]=()=>u}}),r}function _d(s,r){typeof s=="function"?s(r):s.current=r}function t0(s,r){const o=s.ref;return ve(typeof o!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),o?T.cloneElement(s,{ref:a=>{_d(o,a),_d(r,a)}}):T.cloneElement(s,{ref:r})}class n0{receiveHandlerId(r){this.handlerId!==r&&(this.handlerId=r,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(r){this.dragSourceOptionsInternal=r}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(r){this.dragPreviewOptionsInternal=r}reconnect(){const r=this.reconnectDragSource();this.reconnectDragPreview(r)}reconnectDragSource(){const r=this.dragSource,o=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return o&&this.disconnectDragSource(),this.handlerId?r?(o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=r,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,r,this.dragSourceOptions)),o):(this.lastConnectedDragSource=r,o):o}reconnectDragPreview(r=!1){const o=this.dragPreview,a=r||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(a&&this.disconnectDragPreview(),!!this.handlerId){if(!o){this.lastConnectedDragPreview=o;return}a&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=o,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,o,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!ha(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!ha(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(r){this.hooks=Yd({dragSource:(o,a)=>{this.clearDragSource(),this.dragSourceOptions=a||null,pa(o)?this.dragSourceRef=o:this.dragSourceNode=o,this.reconnectDragSource()},dragPreview:(o,a)=>{this.clearDragPreview(),this.dragPreviewOptions=a||null,pa(o)?this.dragPreviewRef=o:this.dragPreviewNode=o,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=r}}class r0{get connectTarget(){return this.dropTarget}reconnect(){const r=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();r&&this.disconnectDropTarget();const o=this.dropTarget;if(this.handlerId){if(!o){this.lastConnectedDropTarget=o;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=o,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,o,this.dropTargetOptions))}}receiveHandlerId(r){r!==this.handlerId&&(this.handlerId=r,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(r){this.dropTargetOptionsInternal=r}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!ha(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(r){this.hooks=Yd({dropTarget:(o,a)=>{this.clearDropTarget(),this.dropTargetOptions=a,pa(o)?this.dropTargetRef=o:this.dropTargetNode=o,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=r}}function cr(){const{dragDropManager:s}=T.useContext(Fd);return ve(s!=null,"Expected drag drop context"),s}function i0(s,r){const o=cr(),a=T.useMemo(()=>new n0(o.getBackend()),[o]);return ur(()=>(a.dragSourceOptions=s||null,a.reconnect(),()=>a.disconnectDragSource()),[a,s]),ur(()=>(a.dragPreviewOptions=r||null,a.reconnect(),()=>a.disconnectDragPreview()),[a,r]),a}function o0(){const s=cr();return T.useMemo(()=>new Gg(s),[s])}class s0{beginDrag(){const r=this.spec,o=this.monitor;let a=null;return typeof r.item=="object"?a=r.item:typeof r.item=="function"?a=r.item(o):a={},a??null}canDrag(){const r=this.spec,o=this.monitor;return typeof r.canDrag=="boolean"?r.canDrag:typeof r.canDrag=="function"?r.canDrag(o):!0}isDragging(r,o){const a=this.spec,u=this.monitor,{isDragging:d}=a;return d?d(u):o===r.getSourceId()}endDrag(){const r=this.spec,o=this.monitor,a=this.connector,{end:u}=r;u&&u(o.getItem(),o),a.reconnect()}constructor(r,o,a){this.spec=r,this.monitor=o,this.connector=a}}function l0(s,r,o){const a=T.useMemo(()=>new s0(s,r,o),[r,o]);return T.useEffect(()=>{a.spec=s},[s]),a}function a0(s){return T.useMemo(()=>{const r=s.type;return ve(r!=null,"spec.type must be defined"),r},[s])}function u0(s,r,o){const a=cr(),u=l0(s,r,o),d=a0(s);ur(function(){if(d!=null){const[p,m]=Zg(d,u,a);return r.receiveHandlerId(p),o.receiveHandlerId(p),m}},[a,r,o,u,d])}function c0(s,r){const o=Gd(s,r);ve(!o.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const a=o0(),u=i0(o.options,o.previewOptions);return u0(o,a,u),[Kd(o.collect,a,u),qg(u),Kg(u)]}function d0(s){const o=cr().getMonitor(),[a,u]=qd(o,s);return T.useEffect(()=>o.subscribeToOffsetChange(u)),T.useEffect(()=>o.subscribeToStateChange(u)),a}function f0(s){return T.useMemo(()=>s.hooks.dropTarget(),[s])}function h0(s){const r=cr(),o=T.useMemo(()=>new r0(r.getBackend()),[r]);return ur(()=>(o.dropTargetOptions=s||null,o.reconnect(),()=>o.disconnectDropTarget()),[s]),o}function p0(){const s=cr();return T.useMemo(()=>new Yg(s),[s])}function g0(s){const{accept:r}=s;return T.useMemo(()=>(ve(s.accept!=null,"accept must be defined"),Array.isArray(r)?r:[r]),[r])}class m0{canDrop(){const r=this.spec,o=this.monitor;return r.canDrop?r.canDrop(o.getItem(),o):!0}hover(){const r=this.spec,o=this.monitor;r.hover&&r.hover(o.getItem(),o)}drop(){const r=this.spec,o=this.monitor;if(r.drop)return r.drop(o.getItem(),o)}constructor(r,o){this.spec=r,this.monitor=o}}function v0(s,r){const o=T.useMemo(()=>new m0(s,r),[r]);return T.useEffect(()=>{o.spec=s},[s]),o}function y0(s,r,o){const a=cr(),u=v0(s,r),d=g0(s);ur(function(){const[p,m]=Xg(d,u,a);return r.receiveHandlerId(p),o.receiveHandlerId(p),m},[a,r,u,o,d.map(g=>g.toString()).join("|")])}function w0(s,r){const o=Gd(s,r),a=p0(),u=h0(o.options);return y0(o,a,u),[Kd(o.collect,a,u),f0(u)]}function Xd(s){let r=null;return()=>(r==null&&(r=s()),r)}function S0(s,r){return s.filter(o=>o!==r)}function x0(s,r){const o=new Set,a=d=>o.add(d);s.forEach(a),r.forEach(a);const u=[];return o.forEach(d=>u.push(d)),u}class k0{enter(r){const o=this.entered.length,a=u=>this.isNodeInDocument(u)&&(!u.contains||u.contains(r));return this.entered=x0(this.entered.filter(a),[r]),o===0&&this.entered.length>0}leave(r){const o=this.entered.length;return this.entered=S0(this.entered.filter(this.isNodeInDocument),r),o>0&&this.entered.length===0}reset(){this.entered=[]}constructor(r){this.entered=[],this.isNodeInDocument=r}}class C0{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(r=>{Object.defineProperty(this.item,r,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${r}" until the drop event.`),null}})})}loadDataTransfer(r){if(r){const o={};Object.keys(this.config.exposeProperties).forEach(a=>{const u=this.config.exposeProperties[a];u!=null&&(o[a]={value:u(r,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,o)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(r,o){return o===r.getSourceId()}endDrag(){}constructor(r){this.config=r,this.item={},this.initializeExposedProperties()}}const Zd="__NATIVE_FILE__",Jd="__NATIVE_URL__",ef="__NATIVE_TEXT__",tf="__NATIVE_HTML__";var Od=Object.freeze({__proto__:null,FILE:Zd,HTML:tf,TEXT:ef,URL:Jd});function ta(s,r,o){const a=r.reduce((u,d)=>u||s.getData(d),"");return a??o}const ga={[Zd]:{exposeProperties:{files:s=>Array.prototype.slice.call(s.files),items:s=>s.items,dataTransfer:s=>s},matchesTypes:["Files"]},[tf]:{exposeProperties:{html:(s,r)=>ta(s,r,""),dataTransfer:s=>s},matchesTypes:["Html","text/html"]},[Jd]:{exposeProperties:{urls:(s,r)=>ta(s,r,"").split(`
`),dataTransfer:s=>s},matchesTypes:["Url","text/uri-list"]},[ef]:{exposeProperties:{text:(s,r)=>ta(s,r,""),dataTransfer:s=>s},matchesTypes:["Text","text/plain"]}};function E0(s,r){const o=ga[s];if(!o)throw new Error(`native type ${s} has no configuration`);const a=new C0(o);return a.loadDataTransfer(r),a}function na(s){if(!s)return null;const r=Array.prototype.slice.call(s.types||[]);return Object.keys(ga).filter(o=>{const a=ga[o];return a!=null&&a.matchesTypes?a.matchesTypes.some(u=>r.indexOf(u)>-1):!1})[0]||null}const _0=Xd(()=>/firefox/i.test(navigator.userAgent)),nf=Xd(()=>!!window.safari);class Dd{interpolate(r){const{xs:o,ys:a,c1s:u,c2s:d,c3s:g}=this;let p=o.length-1;if(r===o[p])return a[p];let m=0,x=g.length-1,N;for(;m<=x;){N=Math.floor(.5*(m+x));const P=o[N];if(P<r)m=N+1;else if(P>r)x=N-1;else return a[N]}p=Math.max(0,x);const _=r-o[p],w=_*_;return a[p]+u[p]*_+d[p]*w+g[p]*_*w}constructor(r,o){const{length:a}=r,u=[];for(let P=0;P<a;P++)u.push(P);u.sort((P,E)=>r[P]<r[E]?-1:1);const d=[],g=[];let p,m;for(let P=0;P<a-1;P++)p=r[P+1]-r[P],m=o[P+1]-o[P],d.push(p),g.push(m/p);const x=[g[0]];for(let P=0;P<d.length-1;P++){const E=g[P],k=g[P+1];if(E*k<=0)x.push(0);else{p=d[P];const L=d[P+1],M=p+L;x.push(3*M/((M+L)/E+(M+p)/k))}}x.push(g[g.length-1]);const N=[],_=[];let w;for(let P=0;P<x.length-1;P++){w=g[P];const E=x[P],k=1/d[P],L=E+x[P+1]-w-w;N.push((w-E-L)*k),_.push(L*k*k)}this.xs=r,this.ys=o,this.c1s=x,this.c2s=N,this.c3s=_}}const O0=1;function rf(s){const r=s.nodeType===O0?s:s.parentElement;if(!r)return null;const{top:o,left:a}=r.getBoundingClientRect();return{x:a,y:o}}function Jo(s){return{x:s.clientX,y:s.clientY}}function D0(s){var r;return s.nodeName==="IMG"&&(_0()||!(!((r=document.documentElement)===null||r===void 0)&&r.contains(s)))}function T0(s,r,o,a){let u=s?r.width:o,d=s?r.height:a;return nf()&&s&&(d/=window.devicePixelRatio,u/=window.devicePixelRatio),{dragPreviewWidth:u,dragPreviewHeight:d}}function N0(s,r,o,a,u){const d=D0(r),p=rf(d?s:r),m={x:o.x-p.x,y:o.y-p.y},{offsetWidth:x,offsetHeight:N}=s,{anchorX:_,anchorY:w}=a,{dragPreviewWidth:P,dragPreviewHeight:E}=T0(d,r,x,N),k=()=>{let ne=new Dd([0,.5,1],[m.y,m.y/N*E,m.y+E-N]).interpolate(w);return nf()&&d&&(ne+=(window.devicePixelRatio-1)*E),ne},L=()=>new Dd([0,.5,1],[m.x,m.x/x*P,m.x+P-x]).interpolate(_),{offsetX:M,offsetY:R}=u,I=M===0||M,Q=R===0||R;return{x:I?M:L(),y:Q?R:k()}}let j0=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var r;return!((r=this.globalContext)===null||r===void 0)&&r.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var r;return((r=this.optionsArgs)===null||r===void 0?void 0:r.rootElement)||this.window}constructor(r,o){this.ownerDocument=null,this.globalContext=r,this.optionsArgs=o}};function P0(s,r,o){return r in s?Object.defineProperty(s,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[r]=o,s}function Td(s){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{},a=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(u){return Object.getOwnPropertyDescriptor(o,u).enumerable}))),a.forEach(function(u){P0(s,u,o[u])})}return s}class L0{profile(){var r,o;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((r=this.dragStartSourceIds)===null||r===void 0?void 0:r.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((o=this.dragOverTargetIds)===null||o===void 0?void 0:o.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const r=this.rootElement;if(r!==void 0){if(r.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");r.__isReactDndBackendSetUp=!0,this.addEventListeners(r)}}teardown(){const r=this.rootElement;if(r!==void 0&&(r.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var o;(o=this.window)===null||o===void 0||o.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(r,o,a){return this.sourcePreviewNodeOptions.set(r,a),this.sourcePreviewNodes.set(r,o),()=>{this.sourcePreviewNodes.delete(r),this.sourcePreviewNodeOptions.delete(r)}}connectDragSource(r,o,a){this.sourceNodes.set(r,o),this.sourceNodeOptions.set(r,a);const u=g=>this.handleDragStart(g,r),d=g=>this.handleSelectStart(g);return o.setAttribute("draggable","true"),o.addEventListener("dragstart",u),o.addEventListener("selectstart",d),()=>{this.sourceNodes.delete(r),this.sourceNodeOptions.delete(r),o.removeEventListener("dragstart",u),o.removeEventListener("selectstart",d),o.setAttribute("draggable","false")}}connectDropTarget(r,o){const a=g=>this.handleDragEnter(g,r),u=g=>this.handleDragOver(g,r),d=g=>this.handleDrop(g,r);return o.addEventListener("dragenter",a),o.addEventListener("dragover",u),o.addEventListener("drop",d),()=>{o.removeEventListener("dragenter",a),o.removeEventListener("dragover",u),o.removeEventListener("drop",d)}}addEventListeners(r){r.addEventListener&&(r.addEventListener("dragstart",this.handleTopDragStart),r.addEventListener("dragstart",this.handleTopDragStartCapture,!0),r.addEventListener("dragend",this.handleTopDragEndCapture,!0),r.addEventListener("dragenter",this.handleTopDragEnter),r.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.addEventListener("dragover",this.handleTopDragOver),r.addEventListener("dragover",this.handleTopDragOverCapture,!0),r.addEventListener("drop",this.handleTopDrop),r.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(r){r.removeEventListener&&(r.removeEventListener("dragstart",this.handleTopDragStart),r.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),r.removeEventListener("dragend",this.handleTopDragEndCapture,!0),r.removeEventListener("dragenter",this.handleTopDragEnter),r.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.removeEventListener("dragover",this.handleTopDragOver),r.removeEventListener("dragover",this.handleTopDragOverCapture,!0),r.removeEventListener("drop",this.handleTopDrop),r.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const r=this.monitor.getSourceId(),o=this.sourceNodeOptions.get(r);return Td({dropEffect:this.altKeyPressed?"copy":"move"},o||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const r=this.monitor.getSourceId(),o=this.sourcePreviewNodeOptions.get(r);return Td({anchorX:.5,anchorY:.5,captureDraggingState:!1},o||{})}isDraggingNativeItem(){const r=this.monitor.getItemType();return Object.keys(Od).some(o=>Od[o]===r)}beginDragNativeItem(r,o){this.clearCurrentDragSourceNode(),this.currentNativeSource=E0(r,o),this.currentNativeHandle=this.registry.addSource(r,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(r){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=r;const o=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var a;return(a=this.rootElement)===null||a===void 0?void 0:a.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},o)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var r;(r=this.window)===null||r===void 0||r.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(r,o){r.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(o))}handleDragEnter(r,o){this.dragEnterTargetIds.unshift(o)}handleDragOver(r,o){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(o)}handleDrop(r,o){this.dropTargetIds.unshift(o)}constructor(r,o,a){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=u=>{const d=this.sourceNodes.get(u);return d&&rf(d)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=u=>!!(u&&this.document&&this.document.body&&this.document.body.contains(u)),this.endDragIfSourceWasRemovedFromDOM=()=>{const u=this.currentDragSourceNode;u==null||this.isNodeInDocument(u)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=u=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(u||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=u=>{if(u.defaultPrevented)return;const{dragStartSourceIds:d}=this;this.dragStartSourceIds=null;const g=Jo(u);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(d||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:g});const{dataTransfer:p}=u,m=na(p);if(this.monitor.isDragging()){if(p&&typeof p.setDragImage=="function"){const N=this.monitor.getSourceId(),_=this.sourceNodes.get(N),w=this.sourcePreviewNodes.get(N)||_;if(w){const{anchorX:P,anchorY:E,offsetX:k,offsetY:L}=this.getCurrentSourcePreviewNodeOptions(),I=N0(_,w,g,{anchorX:P,anchorY:E},{offsetX:k,offsetY:L});p.setDragImage(w,I.x,I.y)}}try{p==null||p.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(u.target);const{captureDraggingState:x}=this.getCurrentSourcePreviewNodeOptions();x?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(m)this.beginDragNativeItem(m);else{if(p&&!p.types&&(u.target&&!u.target.hasAttribute||!u.target.hasAttribute("draggable")))return;u.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=u=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var d;(d=this.currentNativeSource)===null||d===void 0||d.loadDataTransfer(u.dataTransfer)}if(!this.enterLeaveCounter.enter(u.target)||this.monitor.isDragging())return;const{dataTransfer:p}=u,m=na(p);m&&this.beginDragNativeItem(m,p)},this.handleTopDragEnter=u=>{const{dragEnterTargetIds:d}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=u.altKey,d.length>0&&this.actions.hover(d,{clientOffset:Jo(u)}),d.some(p=>this.monitor.canDropOnTarget(p))&&(u.preventDefault(),u.dataTransfer&&(u.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=u=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var d;(d=this.currentNativeSource)===null||d===void 0||d.loadDataTransfer(u.dataTransfer)}},this.handleTopDragOver=u=>{const{dragOverTargetIds:d}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){u.preventDefault(),u.dataTransfer&&(u.dataTransfer.dropEffect="none");return}this.altKeyPressed=u.altKey,this.lastClientOffset=Jo(u),this.scheduleHover(d),(d||[]).some(p=>this.monitor.canDropOnTarget(p))?(u.preventDefault(),u.dataTransfer&&(u.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?u.preventDefault():(u.preventDefault(),u.dataTransfer&&(u.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=u=>{this.isDraggingNativeItem()&&u.preventDefault(),this.enterLeaveCounter.leave(u.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=u=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var d;u.preventDefault(),(d=this.currentNativeSource)===null||d===void 0||d.loadDataTransfer(u.dataTransfer)}else na(u.dataTransfer)&&u.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=u=>{const{dropTargetIds:d}=this;this.dropTargetIds=[],this.actions.hover(d,{clientOffset:Jo(u)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=u=>{const d=u.target;typeof d.dragDrop=="function"&&(d.tagName==="INPUT"||d.tagName==="SELECT"||d.tagName==="TEXTAREA"||d.isContentEditable||(u.preventDefault(),d.dragDrop()))},this.options=new j0(o,a),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.registry=r.getRegistry(),this.enterLeaveCounter=new k0(this.isNodeInDocument)}}let es;function M0(){return es||(es=new Image,es.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),es}const I0=function(r,o,a){return new L0(r,o,a)};function Nd({isPremovedPiece:s=!1,piece:r,square:o,squares:a}){const{animationDuration:u,arePiecesDraggable:d,boardWidth:g,boardOrientation:p,chessPieces:m,currentPosition:x,deletePieceFromSquare:N,dropOffBoardAction:_,id:w,isDraggablePiece:P,isWaitingForAnimation:E,onPieceClick:k,onPieceDragBegin:L,onPieceDragEnd:M,onPieceDropOffBoard:R,onPromotionCheck:I,positionDifferences:Q}=an(),[te,ne]=T.useState({opacity:1,zIndex:5,touchAction:"none",cursor:d&&P({piece:r,sourceSquare:o})?"-webkit-grab":"default"}),[{canDrag:se,isDragging:ke},V,ue]=c0(()=>({type:"piece",item:()=>(L(r,o),{piece:r,square:o,id:w}),end:(ae,ee)=>{M(r,o),!ee.didDrop()&&(_==="trash"&&N(o),R==null||R(o,r))},collect:ae=>({canDrag:P({piece:r,sourceSquare:o}),isDragging:!!ae.isDragging()})}),[r,o,x,w]);ue(M0(),{captureDraggingState:!0}),T.useEffect(()=>{ne(ae=>Object.assign(Object.assign({},ae),{opacity:ke?0:1}))},[ke]),T.useEffect(()=>{var ae;const ee=(ae=Q.removed)===null||ae===void 0?void 0:ae[o];if(!Q.added||!ee)return;const pe=Object.entries(Q.added).find(([_e,Ce])=>Ce===ee||I(o,_e,ee));if(E&&ee&&pe&&!s){const _e=o,Ce=pe[0];if(_e&&Ce){const ge=g/8;ne(B=>Object.assign(Object.assign({},B),{transform:`translate(${(p==="black"?-1:1)*(Ce.charCodeAt(0)-_e.charCodeAt(0))*ge}px, ${(p==="black"?-1:1)*(Number(_e[1])-Number(Ce[1]))*ge}px)`,transition:`transform ${u}ms`,zIndex:6}))}}},[Q]),T.useEffect(()=>{const{sourceSq:ae}=re();ae&&ne(ee=>Object.assign(Object.assign({},ee),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[x]),T.useEffect(()=>{ne(ae=>Object.assign(Object.assign({},ae),{cursor:d&&P({piece:r,sourceSquare:o})?"-webkit-grab":"default"}))},[o,x,d]);function re(){return{sourceSq:a[o]}}return h.jsx("div",Object.assign({ref:d&&se?V:null,onClick:()=>k(r,o),"data-piece":r,style:te},{children:typeof m[r]=="function"?m[r]({squareWidth:g/8,isDragging:ke,square:o}):h.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:g/8,height:g/8,style:{display:"block"}},{children:h.jsx("g",{children:m[r]})}))}))}function b0({square:s,squareColor:r,setSquares:o,squareHasPremove:a,children:u}){const d=T.useRef(null),{autoPromoteToQueen:g,boardWidth:p,boardOrientation:m,clearArrows:x,currentPosition:N,currentRightClickDown:_,customBoardStyle:w,customDarkSquareStyle:P,customDropSquareStyle:E,customLightSquareStyle:k,customPremoveDarkSquareStyle:L,customPremoveLightSquareStyle:M,customSquare:R,customSquareStyles:I,drawNewArrow:Q,handleSetPosition:te,handleSparePieceDrop:ne,isWaitingForAnimation:se,lastPieceColour:ke,lastSquareDraggedOver:V,onArrowDrawEnd:ue,onDragOverSquare:re,onMouseOutSquare:ae,onMouseOverSquare:ee,onPieceDrop:pe,onPromotionCheck:_e,onRightClickDown:Ce,onRightClickUp:ge,onSquareClick:B,setLastSquareDraggedOver:J,setPromoteFromSquare:$,setPromoteToSquare:C,setShowPromoteDialog:b}=an(),[{isOver:de},he]=w0(()=>({accept:"piece",drop:H,collect:W=>({isOver:!!W.isOver()})}),[s,N,pe,se,ke]);function H(W){if(W.isSpare){ne(W.piece,s);return}_e(W.square,s,W.piece)?g?te(W.square,s,W.piece[0]==="w"?"wQ":"bQ"):($(W.square),C(s),b(!0)):te(W.square,s,W.piece,!0)}T.useEffect(()=>{if(d.current){const{x:W,y:le}=d.current.getBoundingClientRect();o(fe=>Object.assign(Object.assign({},fe),{[s]:{x:W,y:le}}))}},[p,m]);const Z=Object.assign(Object.assign(Object.assign(Object.assign({},R0(s,m,w)),r==="black"?P:k),a&&(r==="black"?L:M)),de&&E);return h.jsx("div",Object.assign({ref:he,style:Z,"data-square-color":r,"data-square":s,onTouchMove:W=>{var le;const fe=W.touches[0],Se=document.elementsFromPoint(fe.clientX,fe.clientY),we=(le=Se==null?void 0:Se.find(We=>We.getAttribute("data-square")))===null||le===void 0?void 0:le.getAttribute("data-square");we&&we!==V&&(J(we),re(we))},onMouseOver:W=>{W.buttons===2&&_&&Q(_,s),!(W.relatedTarget&&W.currentTarget.contains(W.relatedTarget))&&ee(s)},onMouseOut:W=>{W.relatedTarget&&W.currentTarget.contains(W.relatedTarget)||ae(s)},onMouseDown:W=>{W.button===2&&Ce(s)},onMouseUp:W=>{W.button===2&&(_&&ue(_,s),ge(s))},onDragEnter:()=>re(s),onClick:()=>{const W=N[s];B(s,W),x()},onContextMenu:W=>{W.preventDefault()}},{children:typeof R=="string"?h.jsx(R,Object.assign({ref:d,style:Object.assign(Object.assign(Object.assign({},Pd(p)),jd),!a&&(I==null?void 0:I[s]))},{children:u})):h.jsx(R,Object.assign({ref:d,square:s,squareColor:r,style:Object.assign(Object.assign(Object.assign({},Pd(p)),jd),!a&&(I==null?void 0:I[s]))},{children:u}))}))}const jd={display:"flex",justifyContent:"center"},Pd=s=>({width:s/8,height:s/8}),R0=(s,r,o)=>o!=null&&o.borderRadius?s==="a1"?r==="white"?{borderBottomLeftRadius:o.borderRadius}:{borderTopRightRadius:o.borderRadius}:s==="a8"?r==="white"?{borderTopLeftRadius:o.borderRadius}:{borderBottomRightRadius:o.borderRadius}:s==="h1"?r==="white"?{borderBottomRightRadius:o.borderRadius}:{borderTopLeftRadius:o.borderRadius}:s==="h8"?r==="white"?{borderTopRightRadius:o.borderRadius}:{borderBottomLeftRadius:o.borderRadius}:{}:{};function A0(){const[s,r]=T.useState({}),{arePremovesAllowed:o,boardOrientation:a,boardWidth:u,currentPosition:d,id:g,premoves:p,showBoardNotation:m}=an(),x=T.useMemo(()=>{const N=[];return o?(p.forEach((_,w)=>{const{sourceSq:P,targetSq:E,piece:k}=_,L=N.find(M=>{var R;return M.piece===k&&((R=M.premovesRoute.at(-1))===null||R===void 0?void 0:R.targetSq)===P});L?L.premovesRoute.push({sourceSq:P,targetSq:E,index:w}):N.push({piece:k,premovesRoute:[{sourceSq:P,targetSq:E,index:w}]})}),N):[]},[p]);return h.jsx("div",Object.assign({"data-boardid":g},{children:[...Array(8)].map((N,_)=>h.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:u}},{children:[...Array(8)].map((w,P)=>{const E=a==="black"?zi[7-P]+(_+1):zi[P]+(8-_),k=P%2===_%2?"white":"black",L=p.find(R=>R.sourceSq===E||R.targetSq===E),M=x.filter(({premovesRoute:R})=>{var I;return((I=R.at(-1))===null||I===void 0?void 0:I.targetSq)===E}).sort((R,I)=>{var Q,te;return((Q=I.premovesRoute.at(-1))===null||Q===void 0?void 0:Q.index)-((te=R.premovesRoute.at(-1))===null||te===void 0?void 0:te.index)}).at(0);return h.jsxs(b0,Object.assign({square:E,squareColor:k,setSquares:r,squareHasPremove:!!L},{children:[!L&&d[E]&&h.jsx(Nd,{piece:d[E],square:E,squares:s}),M&&h.jsx(Nd,{isPremovedPiece:!0,piece:M.piece,square:E,squares:s}),m&&h.jsx(_p,{row:_,col:P})]}),`${P}${_}`)})}),_.toString()))}))}const z0=()=>{const{arrows:s,newArrow:r,boardOrientation:o,boardWidth:a,customArrowColor:u}=an(),d=[...s,r].filter(Boolean);return h.jsx("svg",Object.assign({width:a,height:a,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:d.map((g,p)=>{const[m,x,N]=g;if(m===x)return null;const _=ca(o,a,m),w=ca(o,a,x);let P=a/32;const E=p===s.length;s.some(I=>I[0]!==m&&I[1]===x)&&!E&&(P=a/16);const k=w.x-_.x,L=w.y-_.y,M=Math.hypot(L,k),R={x:_.x+k*(M-P)/M,y:_.y+L*(M-P)/M};return h.jsxs(T.Fragment,{children:[h.jsx("marker",Object.assign({id:`arrowhead-${p}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:h.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:N??u})})),h.jsx("line",{x1:_.x,y1:_.y,x2:R.x,y2:R.y,opacity:E?"0.5":"0.65",stroke:N??u,strokeWidth:E?.9*a/40:a/40,markerEnd:`url(#arrowhead-${p})`})]},`${m}-${x}${E?"-active":""}`)})}))};function F0({option:s}){const[r,o]=T.useState(!1),{boardWidth:a,chessPieces:u,customDarkSquareStyle:d,customLightSquareStyle:g,handleSetPosition:p,onPromotionPieceSelect:m,promoteFromSquare:x,promoteToSquare:N,promotionDialogVariant:_}=an(),w=()=>{switch(s[1]){case"Q":return d.backgroundColor;case"R":return g.backgroundColor;case"N":return _==="default"?g.backgroundColor:d.backgroundColor;case"B":return _==="default"?d.backgroundColor:g.backgroundColor}};return h.jsx("div",Object.assign({onClick:()=>{m(s,x??void 0,N??void 0)&&p(x,N,s,!0)},onMouseOver:()=>o(!0),onMouseOut:()=>o(!1),"data-piece":s,style:{cursor:"pointer",backgroundColor:r?w():`${w()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof u[s]=="function"?h.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:r?"scale(1)":"scale(0.85)"}},{children:u[s]({squareWidth:a/8,isDragging:!1})})):h.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:a/8,height:a/8,style:{transition:"all 0.1s ease-out",transform:r?"scale(1)":"scale(0.85)"}},{children:h.jsx("g",{children:u[s]})}))}))}function $0(){const{boardOrientation:s,boardWidth:r,promotionDialogVariant:o,promoteToSquare:a}=an(),u=(a==null?void 0:a[1])==="1"?"b":"w",d=[`${u??"w"}Q`,`${u??"w"}R`,`${u??"w"}N`,`${u??"w"}B`],g={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-r/8}px, ${-r/8}px)`},vertical:{transform:`translate(${-r/16}px, ${-r/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*r/8}px)`,width:"100%",height:`${r/4}px`,top:0,backgroundColor:"white",left:0}},p=ca(s,r,a||"a8");return h.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${p==null?void 0:p.y}px`,left:`${p==null?void 0:p.x}px`,zIndex:1e3},g[o]),title:"Choose promotion piece"},{children:d.map(m=>h.jsx(F0,{option:m},m))}))}const U0={whiteKing:h.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:h.jsx("g",{children:h.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function H0({children:s}){try{return h.jsx(h.Fragment,{children:s})}catch(r){return console.log(r),h.jsx(of,{showError:!0})}}function of({showError:s=!1}){return h.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[h.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:U0.whiteKing})),s&&h.jsx("h1",{children:"Something went wrong"})]}))}function B0(){const s=T.useRef(null),{boardWidth:r,clearCurrentRightClickDown:o,onPromotionPieceSelect:a,setShowPromoteDialog:u,showPromoteDialog:d,customBoardStyle:g}=an();return T.useEffect(()=>{function p(m){s.current&&!s.current.contains(m.target)&&o()}return document.addEventListener("mouseup",p),()=>{document.removeEventListener("mouseup",p)}},[]),r?h.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:h.jsxs("div",Object.assign({ref:s,style:Object.assign(Object.assign({position:"relative"},W0(r)),g)},{children:[h.jsx(A0,{}),h.jsx(z0,{}),d&&h.jsxs(h.Fragment,{children:[h.jsx("div",{onClick:()=>{u(!1),a==null||a()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:r,height:r}}),h.jsx($0,{})]})]}))})):h.jsx(of,{})}const W0=s=>({cursor:"default",height:s,width:s});var An;(function(s){s.mouse="mouse",s.touch="touch",s.keyboard="keyboard"})(An||(An={}));class V0{get delay(){var r;return(r=this.args.delay)!==null&&r!==void 0?r:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var r;return(r=this.args.ignoreContextMenu)!==null&&r!==void 0?r:!1}get enableHoverOutsideTarget(){var r;return(r=this.args.enableHoverOutsideTarget)!==null&&r!==void 0?r:!1}get enableKeyboardEvents(){var r;return(r=this.args.enableKeyboardEvents)!==null&&r!==void 0?r:!1}get enableMouseEvents(){var r;return(r=this.args.enableMouseEvents)!==null&&r!==void 0?r:!1}get enableTouchEvents(){var r;return(r=this.args.enableTouchEvents)!==null&&r!==void 0?r:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var r,o,a,u;return(u=(a=(r=this.args)===null||r===void 0?void 0:r.delayTouchStart)!==null&&a!==void 0?a:(o=this.args)===null||o===void 0?void 0:o.delay)!==null&&u!==void 0?u:0}get delayMouseStart(){var r,o,a,u;return(u=(a=(r=this.args)===null||r===void 0?void 0:r.delayMouseStart)!==null&&a!==void 0?a:(o=this.args)===null||o===void 0?void 0:o.delay)!==null&&u!==void 0?u:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var r;if(!((r=this.context)===null||r===void 0)&&r.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var r;return((r=this.args)===null||r===void 0?void 0:r.rootElement)||this.document}constructor(r,o){this.args=r,this.context=o}}function Q0(s,r,o,a){return Math.sqrt(Math.pow(Math.abs(o-s),2)+Math.pow(Math.abs(a-r),2))}function q0(s,r,o,a,u){if(!u)return!1;const d=Math.atan2(a-r,o-s)*180/Math.PI+180;for(let g=0;g<u.length;++g){const p=u[g];if(p&&(p.start==null||d>=p.start)&&(p.end==null||d<=p.end))return!0}return!1}const K0={Left:1},G0={Left:0};function ra(s){return s.button===void 0||s.button===G0.Left}function Y0(s){return s.buttons===void 0||(s.buttons&K0.Left)===0}function sf(s){return!!s.targetTouches}const X0=1;function Z0(s){const r=s.nodeType===X0?s:s.parentElement;if(!r)return;const{top:o,left:a}=r.getBoundingClientRect();return{x:a,y:o}}function J0(s,r){if(s.targetTouches.length===1)return ss(s.targetTouches[0]);if(r&&s.touches.length===1&&s.touches[0].target===r.target)return ss(s.touches[0])}function ss(s,r){return sf(s)?J0(s,r):{x:s.clientX,y:s.clientY}}const Ld=(()=>{let s=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return s=!0,!0}}))}catch{}return s})(),Pi={[An.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[An.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[An.keyboard]:{keydown:"keydown"}};class Ri{profile(){var r;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get document(){return this.options.document}setup(){const r=this.options.rootElement;r&&(ve(!Ri.isSetUp,"Cannot have two Touch backends at the same time."),Ri.isSetUp=!0,this.addEventListener(r,"start",this.getTopMoveStartHandler()),this.addEventListener(r,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(r,"move",this.handleTopMove),this.addEventListener(r,"move",this.handleTopMoveCapture,!0),this.addEventListener(r,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(r,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(r,"keydown",this.handleCancelOnEscape,!0))}teardown(){const r=this.options.rootElement;r&&(Ri.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(r,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(r,"start",this.handleTopMoveStart),this.removeEventListener(r,"move",this.handleTopMoveCapture,!0),this.removeEventListener(r,"move",this.handleTopMove),this.removeEventListener(r,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(r,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(r,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(r,o,a,u=!1){const d=Ld?{capture:u,passive:!1}:u;this.listenerTypes.forEach(function(g){const p=Pi[g][o];p&&r.addEventListener(p,a,d)})}removeEventListener(r,o,a,u=!1){const d=Ld?{capture:u,passive:!1}:u;this.listenerTypes.forEach(function(g){const p=Pi[g][o];p&&r.removeEventListener(p,a,d)})}connectDragSource(r,o){const a=this.handleMoveStart.bind(this,r);return this.sourceNodes.set(r,o),this.addEventListener(o,"start",a),()=>{this.sourceNodes.delete(r),this.removeEventListener(o,"start",a)}}connectDragPreview(r,o,a){return this.sourcePreviewNodeOptions.set(r,a),this.sourcePreviewNodes.set(r,o),()=>{this.sourcePreviewNodes.delete(r),this.sourcePreviewNodeOptions.delete(r)}}connectDropTarget(r,o){const a=this.options.rootElement;if(!this.document||!a)return()=>{};const u=d=>{if(!this.document||!a||!this.monitor.isDragging())return;let g;switch(d.type){case Pi.mouse.move:g={x:d.clientX,y:d.clientY};break;case Pi.touch.move:var p,m;g={x:((p=d.touches[0])===null||p===void 0?void 0:p.clientX)||0,y:((m=d.touches[0])===null||m===void 0?void 0:m.clientY)||0};break}const x=g!=null?this.document.elementFromPoint(g.x,g.y):void 0,N=x&&o.contains(x);if(x===o||N)return this.handleMove(d,r)};return this.addEventListener(this.document.body,"move",u),this.targetNodes.set(r,o),()=>{this.document&&(this.targetNodes.delete(r),this.removeEventListener(this.document.body,"move",u))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(r){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=r,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{r&&!r.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!r||!r.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(r.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(r,o,a){this.getSourceClientOffset=u=>{const d=this.sourceNodes.get(u);return d&&Z0(d)},this.handleTopMoveStartCapture=u=>{ra(u)&&(this.moveStartSourceIds=[])},this.handleMoveStart=u=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(u)},this.handleTopMoveStart=u=>{if(!ra(u))return;const d=ss(u);d&&(sf(u)&&(this.lastTargetTouchFallback=u.targetTouches[0]),this._mouseClientOffset=d),this.waitingForDelay=!1},this.handleTopMoveStartDelay=u=>{if(!ra(u))return;const d=u.type===Pi.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,u),d),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(u,d)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(d)},this.handleTopMove=u=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:d,dragOverTargetIds:g}=this,p=this.options.enableHoverOutsideTarget,m=ss(u,this.lastTargetTouchFallback);if(!m)return;if(this._isScrolling||!this.monitor.isDragging()&&q0(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,m.x,m.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&d&&Q0(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,m.x,m.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(d,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const x=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(x),this.actions.publishDragSource(),u.cancelable&&u.preventDefault();const N=(g||[]).map(E=>this.targetNodes.get(E)).filter(E=>!!E),_=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(m.x,m.y,N):this.document.elementsFromPoint(m.x,m.y),w=[];for(const E in _){if(!_.hasOwnProperty(E))continue;let k=_[E];for(k!=null&&w.push(k);k;)k=k.parentElement,k&&w.indexOf(k)===-1&&w.push(k)}const P=w.filter(E=>N.indexOf(E)>-1).map(E=>this._getDropTargetId(E)).filter(E=>!!E).filter((E,k,L)=>L.indexOf(E)===k);if(p)for(const E in this.targetNodes){const k=this.targetNodes.get(E);if(x&&k&&k.contains(x)&&P.indexOf(E)===-1){P.unshift(E);break}}P.reverse(),this.actions.hover(P,{clientOffset:m})},this._getDropTargetId=u=>{const d=this.targetNodes.keys();let g=d.next();for(;g.done===!1;){const p=g.value;if(u===this.targetNodes.get(p))return p;g=d.next()}},this.handleTopMoveEndCapture=u=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!Y0(u)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}u.cancelable&&u.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=u=>{u.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new V0(a,o),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(An.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(An.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(An.keyboard)}}const em=function(r,o={},a={}){return new Ri(r,o,a)},tm=T.createContext({isCustomDndProviderSet:!1}),nm=({children:s})=>h.jsx(h.Fragment,{children:s}),rm=({customDndBackend:s,customDndBackendOptions:r,children:o})=>{const[a,u]=T.useState(),[d,g]=T.useState(!1),[p,m]=T.useState(!1),{isCustomDndProviderSet:x}=T.useContext(tm);T.useEffect(()=>{m("ontouchstart"in window),g(!0),u(window)},[]);const N=x?nm:Hg;return d?a?h.jsx(N,Object.assign({backend:s||(p?em:I0),context:a,options:s?r:void 0},{children:o})):h.jsx(h.Fragment,{children:o}):null};function im({boardContainer:s}){const{boardWidth:r,chessPieces:o,id:a,snapToCursor:u,allowDragOutsideBoard:d}=an(),g=d0(w=>({item:w.getItem(),clientOffset:w.getClientOffset(),sourceClientOffset:w.getSourceClientOffset(),isDragging:w.isDragging()})),{isDragging:p,item:m,clientOffset:x,sourceClientOffset:N}=g,_=T.useCallback((w,P)=>{if(!w||!P)return{display:"none"};let{x:E,y:k}=u?w:P;const L=r/8/2;if(u&&(E-=L,k-=L),!d){const{left:R,top:I}=s,Q=R-L,te=I-L,ne=R+r-L,se=I+r-L;E=Math.max(Q,Math.min(E,ne)),k=Math.max(te,Math.min(k,se))}const M=`translate(${E}px, ${k}px)`;return{transform:M,WebkitTransform:M,touchAction:"none"}},[r,d,u,s]);return p&&m.id===a?h.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:h.jsx("div",Object.assign({style:_(x,N)},{children:typeof o[m.piece]=="function"?o[m.piece]({squareWidth:r/8,isDragging:!0}):h.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:r/8,height:r/8},{children:h.jsx("g",{children:o[m.piece]})}))}))})):null}const om=T.forwardRef((s,r)=>{const{customDndBackend:o,customDndBackendOptions:a,onBoardWidthChange:u}=s,d=hp(s,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[g,p]=T.useState(s.boardWidth),m=T.useRef(null),x=T.useRef(null),[N,_]=T.useState({left:0,top:0}),w=T.useMemo(()=>{var P;return(P=m.current)===null||P===void 0?void 0:P.getBoundingClientRect()},[m.current]);return T.useEffect(()=>{g&&(u==null||u(g))},[g]),T.useEffect(()=>{_({left:w!=null&&w.left?w==null?void 0:w.left:0,top:w!=null&&w.top?w==null?void 0:w.top:0})},[w]),T.useEffect(()=>{var P;if(s.boardWidth===void 0&&(!((P=m.current)===null||P===void 0)&&P.offsetWidth)){const E=new ResizeObserver(()=>{var k;p((k=m.current)===null||k===void 0?void 0:k.offsetWidth)});return E.observe(m.current),()=>{E.disconnect()}}},[m.current]),h.jsx(H0,{children:h.jsxs("div",Object.assign({ref:x,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[h.jsx("div",{ref:m,style:{width:"100%"}}),h.jsx(rm,Object.assign({customDndBackend:o,customDndBackendOptions:a},{children:g&&h.jsxs(Ep,Object.assign({boardWidth:g},d,{ref:r},{children:[h.jsx(im,{boardContainer:N}),h.jsx(B0,{})]}))}))]}))})}),sm=({fen:s="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",lastMove:r,onMove:o=()=>{},orientation:a="white",getLegalMoves:u=()=>[]})=>{const[d,g]=T.useState(null),[p,m]=T.useState([]),[x,N]=T.useState(null),_=M=>{try{const R=M.charCodeAt(0)-97;return(8-parseInt(M[1],10))*8+R}catch(R){return console.error(`Invalid square format: ${M}`,R),-1}},w=M=>{try{const R=s.split(" ")[0].split("/").map(Q=>Q.replace(/\d/g,te=>".".repeat(parseInt(te,10)))).join(""),I=_(M);return R[I]||"."}catch(R){return console.error(`Error parsing FEN for square ${M}:`,R),"."}},P=T.useCallback(M=>{try{const R=w(M),I=s.split(" ")[1]||"w";if(d){if(p.find(se=>se.to===M)){const se=w(d);if(!se||se==="."){g(null),m([]);return}const ke=se.toLowerCase()==="p",V=se===se.toUpperCase()&&M[1]==="8"||se===se.toLowerCase()&&M[1]==="1";if(ke&&V){N(M);return}o(d,M)}g(null),m([]);return}if(!R||R==="."||I==="w"&&R!==R.toUpperCase()||I==="b"&&R!==R.toLowerCase()){g(null),m([]);return}g(M);const te=(u(M)||[]).map(ne=>typeof ne=="string"?{to:ne}:ne).filter(ne=>ne&&ne.to);m(te)}catch(R){console.error(`Error in onSquareClick at ${M}:`,R),g(null),m([])}},[s,d,p,o,u]),E=(M,R,I)=>{try{const Q=I.charAt(1).toLowerCase()==="p",te=I[0]==="w"&&R[1]==="8"||I[0]==="b"&&R[1]==="1";if(Q&&te)return N(R),!1;const ne=o(M,R);return g(null),m([]),ne}catch(Q){return console.error("Error in onPieceDrop:",Q),!1}},k=(M,R,I)=>{try{const Q=M?M.charAt(1).toLowerCase():"q";o(R,I,Q)}catch(Q){console.error("Error in onPromotionPieceSelect:",Q)}finally{N(null),g(null),m([])}},L={};return r&&Array.isArray(r)&&r.length===2&&(L[r[0]]={backgroundColor:"rgba(155, 199, 0, 0.41)"},L[r[1]]={backgroundColor:"rgba(155, 199, 0, 0.41)"}),d&&(L[d]={backgroundColor:"rgba(255, 215, 0, 0.4)"}),p.length>0&&p.forEach(M=>{if(!M.to)return;const R=w(M.to);R&&R!=="."?L[M.to]={background:"radial-gradient(circle, transparent 55%, gray 60%, transparent 65%)",cursor:"pointer"}:L[M.to]={background:"radial-gradient(circle, rgba(0,0,0,.4) 20%, transparent 20%)",cursor:"pointer"}}),h.jsx("div",{className:"w-full max-w-[450px] mx-auto",children:h.jsx(om,{id:"chess-board",position:s,onSquareClick:P,onPieceDrop:E,customSquareStyles:L,boardOrientation:a,promotionToSquare:x,onPromotionPieceSelect:k,arePiecesDraggable:!0,animationDuration:200,boardWidth:450,customBoardStyle:{borderRadius:"6px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},customDarkSquareStyle:{backgroundColor:"#4b7399"},customLightSquareStyle:{backgroundColor:"#e0e0e0"}})})},lm=({history:s,onMoveClick:r})=>{const o=[];for(let a=0;a<s.length;a+=2)o.push({number:Math.floor(a/2)+1,white:s[a],black:s[a+1]});return h.jsxs("div",{className:"bg-white rounded-xl shadow-md ring-1 ring-gray-200/50 p-6 transition-all duration-300 hover:shadow-lg",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Move History"}),h.jsx("div",{className:"moves-container h-[300px] overflow-y-auto border border-gray-200 rounded bg-gray-50",children:h.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[h.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10 shadow-sm",children:h.jsxs("tr",{children:[h.jsx("th",{className:"w-[20%] py-1 px-2 text-left font-medium text-gray-700 border-b border-gray-200",children:"Move"}),h.jsx("th",{className:"w-[40%] py-1 px-2 text-left font-medium text-gray-700 border-b border-gray-200",children:"White"}),h.jsx("th",{className:"w-[40%] py-1 px-2 text-left font-medium text-gray-700 border-b border-gray-200",children:"Black"})]})}),h.jsx("tbody",{children:o.map(a=>h.jsxs("tr",{className:"border-b border-gray-200 last:border-b-0 odd:bg-white even:bg-gray-50 transition-colors duration-200 hover:bg-gray-100",children:[h.jsxs("td",{className:"py-1 px-2 text-gray-600 font-medium",children:[a.number,"."]}),h.jsx("td",{className:`py-1 px-2 text-gray-800 ${r?"cursor-pointer hover:text-gray-900 hover:font-semibold":"cursor-default"}`,onClick:()=>r&&r(a.white),children:a.white.san}),h.jsx("td",{className:`py-1 px-2 text-gray-800 ${a.black&&r?"cursor-pointer hover:text-gray-900 hover:font-semibold":"cursor-default"}`,onClick:()=>a.black&&r&&r(a.black),children:a.black?a.black.san:""})]},a.number))})]})})]})},Be=(...s)=>{},lf=(...s)=>{};let Ne=null,Yt=!1,It=!1,Mi=null,Bt=null,ln=0,lr="0.0",be=[];async function am(s,r){if(Ne&&Yt){const o=`setoption name ${s} value ${r}`;Ne.postMessage(o),await new Promise(a=>setTimeout(a,50))}}function ma(s={}){if(!(Ne||It)){It=!0;try{Ne=new Worker("/stockfish-nnue-16-single.js"),Ne.onmessage=r=>{const o=r.data;if(typeof o=="string"){if(o.includes("uciok"))Be("[Stockfish Log] Received uciok. Setting initial options and sending isready."),Ne.postMessage("setoption name MultiPV value 5"),s.hash&&Ne.postMessage(`setoption name Hash value ${s.hash}`),Ne.postMessage("isready");else if(o.includes("readyok"))Be("[Stockfish Log] Received readyok."),Yt?It=!1:(Yt=!0,It=!1,Be("[Stockfish Log] stockfishReady is now true."));else if(o.startsWith("info")){if(um(o),Mi){const a=be.filter(u=>u&&u.uci).map(u=>({uci:u.uci,san:u.san,pv:u.pvString,evaluation:u.evaluation,depth:u.lineDepth||ln,source:"local"})).slice(0,5);Mi({evaluation:lr,bestMoves:a,depth:ln,source:"local",completed:!1})}}else if(o.startsWith("bestmove")){Be("[Stockfish Log] Received bestmove."),cm(o);const a=be.filter(u=>u&&u.uci).map(u=>({uci:u.uci,san:u.san,pv:u.pvString,evaluation:u.evaluation,depth:u.lineDepth||ln,source:"local"})).slice(0,5);Mi&&Mi({evaluation:lr,bestMoves:a,depth:ln,source:"local",completed:!0}),Bt&&Bt.resolve&&Bt.resolve({evaluation:lr,bestMoves:a,depth:ln,source:"local",completed:!0}),Bt=null}}},Ne.onerror=r=>{lf("[Stockfish Log] Worker onerror:",r),Yt=!1,It=!1,Ne&&Ne.terminate(),Ne=null,Bt&&Bt.reject&&Bt.reject(new Error("Stockfish worker error")),Bt=null},Be("[Stockfish Log] initLocalStockfish: Sending uci."),Ne.postMessage("uci")}catch{Yt=!1,It=!1,Ne=null}}}function um(s){var _,w;const r=s.match(/depth (\d+)/);r&&(ln=Math.max(ln,parseInt(r[1],10)));let o=lr;const a=s.match(/score cp ([-\d]+)/),u=s.match(/score mate ([-\d]+)/);if(a)o=(parseInt(a[1],10)/100).toFixed(2).toString();else if(u){const P=parseInt(u[1],10);o=P>0?`M${P}`:`M-${Math.abs(P)}`}const d=s.match(/multipv (\d+)/),g=d?parseInt(d[1],10)-1:0;for(g===0&&(lr=o);be.length<=g;)be.push({uci:"",san:"",pvString:"",pvArray:[],evaluation:"0.0",depth:0,lineDepth:0});const p=s.match(/depth (\d+)/),m=p?parseInt(p[1],10):((_=be[g])==null?void 0:_.lineDepth)||0;be[g]={...be[g]||{},evaluation:o,lineDepth:Math.max(((w=be[g])==null?void 0:w.lineDepth)||0,m)};const x=/ pv (.+?)($| (?:nodes|nps|tbhits|wdl|hashfull|currmove|currmovenumber|cpuload|string|score|depth|seldepth|time|currlc|upperbound|lowerbound))/,N=s.match(x);if(N&&N[1]){const P=N[1].trim().split(" ");be[g].uci=P[0]||be[g].uci,be[g].san=P[0]||be[g].san,be[g].pvString=P.join(" "),be[g].pvArray=P}be.length>5&&(be=be.slice(0,5))}function cm(s){const r=s.split(" ");if(r.length>=2&&r[0]==="bestmove"){const o=r[1];let a=be.findIndex(u=>u.uci===o);if(a!==-1){if(a>0){const u=be.splice(a,1)[0];be.unshift(u)}}else be.unshift({uci:o,san:o,pvString:o,pvArray:[o],evaluation:lr,lineDepth:ln});be=be.slice(0,5)}}let Md=Promise.resolve();const sr=()=>{Ne&&Yt&&(Ne.postMessage("stop"),Bt&&Bt.reject)};function dm(s,r=18,o={},a=null){const u=Md.then(()=>new Promise(async(d,g)=>{!Ne&&!It?ma(o):Ne&&!Yt&&!It&&Ne.postMessage("isready");let p=0;const m=150,x=async()=>{Yt?(Mi=a,Bt={resolve:d,reject:g},ln=0,lr="0.0",be=[],o.hash&&await am("Hash",o.hash),Ne.postMessage("stop"),Ne.postMessage("ucinewgame"),Ne.postMessage("position fen "+s),r==="infinite"||r===0?Ne.postMessage("go infinite"):Ne.postMessage("go depth "+r)):(p++,p>m?g(new Error(`Stockfish engine timed out. isInitializing: ${It}, stockfishReady: ${Yt}`)):(!Ne&&!It?ma(o):Ne&&!It&&!Yt&&p%10===0&&Ne.postMessage("isready"),setTimeout(x,100)))};await x()}));return Md=u.catch(()=>{}),u}const fm=async(s,r=18,o={},a=null)=>{var u;Be(`[Stockfish API] getStockfishAnalysis called for FEN: ${s}, Depth: ${r}, Options: ${JSON.stringify(o)}`),!Ne&&!It&&ma(o);try{const d=await dm(s,r,o,a);return Be(`[Stockfish API] Analysis completed. Depth: ${d.depth}, Eval: ${d.evaluation}, Top PV: ${(u=d.bestMoves[0])==null?void 0:u.pv}`),d}catch(d){return{evaluation:"Error",bestMoves:[],depth:0,source:"local",completed:!0,error:d.message}}},ia=typeof window<"u"?window.speechSynthesis:null,hm=()=>{ia&&ia.speaking&&ia.cancel()},af=async(s,r,o,a="beginner",u=!1,d=!1,g=null,p=!1)=>{const m="https://api.enpassant.wiki/analyzeChessPosition";try{Be(`[Gemini API] Requesting Gemini explanation from: ${m}`);const x=await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fen:s,evaluation:r,bestMoves:o,playerLevel:a,isGameReport:u,isCheckmate:d,checkmateWinner:d?s.split(" ")[1]==="w"?"Black":"White":null,userQuestion:g,useDeepThink:p})});if(!x.ok){const _=await x.text().catch(()=>`HTTP error! status: ${x.status}`);let w;try{w=JSON.parse(_)}catch{w={error:_}}throw lf("[Gemini API] Error from Gemini explanation service:",w),new Error(w.error||`Failed to get explanation. Status: ${x.status}`)}const N=await x.json();return Be("[Gemini API] Gemini explanation received successfully."),N}catch(x){return{explanation:`Error fetching explanation: ${x.message}. Please check the console for details.`,responseTime:0,error:!0}}};/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const st="w",Lt="b",Ze="p",va="n",os="b",Ii="r",bn="q",Ke="k",oa="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class ts{constructor(r,o){ze(this,"color");ze(this,"from");ze(this,"to");ze(this,"piece");ze(this,"captured");ze(this,"promotion");ze(this,"flags");ze(this,"san");ze(this,"lan");ze(this,"before");ze(this,"after");const{color:a,piece:u,from:d,to:g,flags:p,captured:m,promotion:x}=o,N=lt(d),_=lt(g);this.color=a,this.piece=u,this.from=N,this.to=_,this.san=r._moveToSan(o,r._moves({legal:!0})),this.lan=N+_,this.before=r.fen(),r._makeMove(o),this.after=r.fen(),r._undoMove(),this.flags="";for(const w in ye)ye[w]&p&&(this.flags+=or[w]);m&&(this.captured=m),x&&(this.promotion=x,this.lan+=x)}isCapture(){return this.flags.indexOf(or.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(or.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(or.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(or.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(or.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(or.BIG_PAWN)>-1}}const yt=-1,or={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},ye={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},me={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},sa={b:[16,32,17,15],w:[-16,-32,-17,-15]},Id={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},pm=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],gm=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],mm={p:1,n:2,b:4,r:8,q:16,k:32},vm="pnbrqkPNBRQK",bd=[va,os,Ii,bn],ym=7,wm=6,Sm=1,xm=0,ns={[Ke]:ye.KSIDE_CASTLE,[bn]:ye.QSIDE_CASTLE},Mn={w:[{square:me.a1,flag:ye.QSIDE_CASTLE},{square:me.h1,flag:ye.KSIDE_CASTLE}],b:[{square:me.a8,flag:ye.QSIDE_CASTLE},{square:me.h8,flag:ye.KSIDE_CASTLE}]},km={b:Sm,w:wm},Cm=["1-0","0-1","1/2-1/2","*"];function ar(s){return s>>4}function Fi(s){return s&15}function uf(s){return"0123456789".indexOf(s)!==-1}function lt(s){const r=Fi(s),o=ar(s);return"abcdefgh".substring(r,r+1)+"87654321".substring(o,o+1)}function Li(s){return s===st?Lt:st}function Em(s){const r=s.split(/\s+/);if(r.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const o=parseInt(r[5],10);if(isNaN(o)||o<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const a=parseInt(r[4],10);if(isNaN(a)||a<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(r[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(r[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(r[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const u=r[0].split("/");if(u.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let g=0;g<u.length;g++){let p=0,m=!1;for(let x=0;x<u[g].length;x++)if(uf(u[g][x])){if(m)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};p+=parseInt(u[g][x],10),m=!0}else{if(!/^[prnbqkPRNBQK]$/.test(u[g][x]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};p+=1,m=!1}if(p!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(r[3][1]=="3"&&r[1]=="w"||r[3][1]=="6"&&r[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const d=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:g,regex:p}of d){if(!p.test(r[0]))return{ok:!1,error:`Invalid FEN: missing ${g} king`};if((r[0].match(p)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${g} kings`}}return Array.from(u[0]+u[7]).some(g=>g.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function _m(s,r){const o=s.from,a=s.to,u=s.piece;let d=0,g=0,p=0;for(let m=0,x=r.length;m<x;m++){const N=r[m].from,_=r[m].to,w=r[m].piece;u===w&&o!==N&&a===_&&(d++,ar(o)===ar(N)&&g++,Fi(o)===Fi(N)&&p++)}return d>0?g>0&&p>0?lt(o):p>0?lt(o).charAt(1):lt(o).charAt(0):""}function In(s,r,o,a,u,d=void 0,g=ye.NORMAL){const p=ar(a);if(u===Ze&&(p===ym||p===xm))for(let m=0;m<bd.length;m++){const x=bd[m];s.push({color:r,from:o,to:a,piece:u,captured:d,promotion:x,flags:g|ye.PROMOTION})}else s.push({color:r,from:o,to:a,piece:u,captured:d,flags:g})}function Rd(s){let r=s.charAt(0);return r>="a"&&r<="h"?s.match(/[a-h]\d.*[a-h]\d/)?void 0:Ze:(r=r.toLowerCase(),r==="o"?Ke:r)}function la(s){return s.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function aa(s){return s.split(" ").slice(0,4).join(" ")}class Ai{constructor(r=oa,{skipValidation:o=!1}={}){ze(this,"_board",new Array(128));ze(this,"_turn",st);ze(this,"_header",{});ze(this,"_kings",{w:yt,b:yt});ze(this,"_epSquare",-1);ze(this,"_halfMoves",0);ze(this,"_moveNumber",0);ze(this,"_history",[]);ze(this,"_comments",{});ze(this,"_castling",{w:0,b:0});ze(this,"_positionCount",{});this.load(r,{skipValidation:o})}clear({preserveHeaders:r=!1}={}){this._board=new Array(128),this._kings={w:yt,b:yt},this._turn=st,this._castling={w:0,b:0},this._epSquare=yt,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=r?this._header:{},this._positionCount={},delete this._header.SetUp,delete this._header.FEN}load(r,{skipValidation:o=!1,preserveHeaders:a=!1}={}){let u=r.split(/\s+/);if(u.length>=2&&u.length<6){const p=["-","-","0","1"];r=u.concat(p.slice(-(6-u.length))).join(" ")}if(u=r.split(/\s+/),!o){const{ok:p,error:m}=Em(r);if(!p)throw new Error(m)}const d=u[0];let g=0;this.clear({preserveHeaders:a});for(let p=0;p<d.length;p++){const m=d.charAt(p);if(m==="/")g+=8;else if(uf(m))g+=parseInt(m,10);else{const x=m<"a"?st:Lt;this._put({type:m.toLowerCase(),color:x},lt(g)),g++}}this._turn=u[1],u[2].indexOf("K")>-1&&(this._castling.w|=ye.KSIDE_CASTLE),u[2].indexOf("Q")>-1&&(this._castling.w|=ye.QSIDE_CASTLE),u[2].indexOf("k")>-1&&(this._castling.b|=ye.KSIDE_CASTLE),u[2].indexOf("q")>-1&&(this._castling.b|=ye.QSIDE_CASTLE),this._epSquare=u[3]==="-"?yt:me[u[3]],this._halfMoves=parseInt(u[4],10),this._moveNumber=parseInt(u[5],10),this._updateSetup(r),this._incPositionCount(r)}fen(){var d,g;let r=0,o="";for(let p=me.a8;p<=me.h1;p++){if(this._board[p]){r>0&&(o+=r,r=0);const{color:m,type:x}=this._board[p];o+=m===st?x.toUpperCase():x.toLowerCase()}else r++;p+1&136&&(r>0&&(o+=r),p!==me.h1&&(o+="/"),r=0,p+=8)}let a="";this._castling[st]&ye.KSIDE_CASTLE&&(a+="K"),this._castling[st]&ye.QSIDE_CASTLE&&(a+="Q"),this._castling[Lt]&ye.KSIDE_CASTLE&&(a+="k"),this._castling[Lt]&ye.QSIDE_CASTLE&&(a+="q"),a=a||"-";let u="-";if(this._epSquare!==yt){const p=this._epSquare+(this._turn===st?16:-16),m=[p+1,p-1];for(const x of m){if(x&136)continue;const N=this._turn;if(((d=this._board[x])==null?void 0:d.color)===N&&((g=this._board[x])==null?void 0:g.type)===Ze){this._makeMove({color:N,from:x,to:this._epSquare,piece:Ze,captured:Ze,flags:ye.EP_CAPTURE});const _=!this._isKingAttacked(N);if(this._undoMove(),_){u=lt(this._epSquare);break}}}}return[o,this._turn,a,u,this._halfMoves,this._moveNumber].join(" ")}_updateSetup(r){this._history.length>0||(r!==oa?(this._header.SetUp="1",this._header.FEN=r):(delete this._header.SetUp,delete this._header.FEN))}reset(){this.load(oa)}get(r){return this._board[me[r]]}put({type:r,color:o},a){return this._put({type:r,color:o},a)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_put({type:r,color:o},a){if(vm.indexOf(r.toLowerCase())===-1||!(a in me))return!1;const u=me[a];if(r==Ke&&!(this._kings[o]==yt||this._kings[o]==u))return!1;const d=this._board[u];return d&&d.type===Ke&&(this._kings[d.color]=yt),this._board[u]={type:r,color:o},r===Ke&&(this._kings[o]=u),!0}remove(r){const o=this.get(r);return delete this._board[me[r]],o&&o.type===Ke&&(this._kings[o.color]=yt),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),o}_updateCastlingRights(){var a,u,d,g,p,m,x,N,_,w,P,E;const r=((a=this._board[me.e1])==null?void 0:a.type)===Ke&&((u=this._board[me.e1])==null?void 0:u.color)===st,o=((d=this._board[me.e8])==null?void 0:d.type)===Ke&&((g=this._board[me.e8])==null?void 0:g.color)===Lt;(!r||((p=this._board[me.a1])==null?void 0:p.type)!==Ii||((m=this._board[me.a1])==null?void 0:m.color)!==st)&&(this._castling.w&=-65),(!r||((x=this._board[me.h1])==null?void 0:x.type)!==Ii||((N=this._board[me.h1])==null?void 0:N.color)!==st)&&(this._castling.w&=-33),(!o||((_=this._board[me.a8])==null?void 0:_.type)!==Ii||((w=this._board[me.a8])==null?void 0:w.color)!==Lt)&&(this._castling.b&=-65),(!o||((P=this._board[me.h8])==null?void 0:P.type)!==Ii||((E=this._board[me.h8])==null?void 0:E.color)!==Lt)&&(this._castling.b&=-33)}_updateEnPassantSquare(){var d,g;if(this._epSquare===yt)return;const r=this._epSquare+(this._turn===st?-16:16),o=this._epSquare+(this._turn===st?16:-16),a=[o+1,o-1];if(this._board[r]!==null||this._board[this._epSquare]!==null||((d=this._board[o])==null?void 0:d.color)!==Li(this._turn)||((g=this._board[o])==null?void 0:g.type)!==Ze){this._epSquare=yt;return}const u=p=>{var m,x;return!(p&136)&&((m=this._board[p])==null?void 0:m.color)===this._turn&&((x=this._board[p])==null?void 0:x.type)===Ze};a.some(u)||(this._epSquare=yt)}_attacked(r,o,a){const u=[];for(let d=me.a8;d<=me.h1;d++){if(d&136){d+=7;continue}if(this._board[d]===void 0||this._board[d].color!==r)continue;const g=this._board[d],p=d-o;if(p===0)continue;const m=p+119;if(pm[m]&mm[g.type]){if(g.type===Ze){if(p>0&&g.color===st||p<=0&&g.color===Lt)if(a)u.push(lt(d));else return!0;continue}if(g.type==="n"||g.type==="k")if(a){u.push(lt(d));continue}else return!0;const x=gm[m];let N=d+x,_=!1;for(;N!==o;){if(this._board[N]!=null){_=!0;break}N+=x}if(!_)if(a){u.push(lt(d));continue}else return!0}}return a?u:!1}attackers(r,o){return o?this._attacked(o,me[r],!0):this._attacked(this._turn,me[r],!0)}_isKingAttacked(r){const o=this._kings[r];return o===-1?!1:this._attacked(Li(r),o)}isAttacked(r,o){return this._attacked(o,me[r])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const r={b:0,n:0,r:0,q:0,k:0,p:0},o=[];let a=0,u=0;for(let d=me.a8;d<=me.h1;d++){if(u=(u+1)%2,d&136){d+=7;continue}const g=this._board[d];g&&(r[g.type]=g.type in r?r[g.type]+1:1,g.type===os&&o.push(u),a++)}if(a===2)return!0;if(a===3&&(r[os]===1||r[va]===1))return!0;if(a===r[os]+2){let d=0;const g=o.length;for(let p=0;p<g;p++)d+=o[p];if(d===0||d===g)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this.fen())>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}moves({verbose:r=!1,square:o=void 0,piece:a=void 0}={}){const u=this._moves({square:o,piece:a});return r?u.map(d=>new ts(this,d)):u.map(d=>this._moveToSan(d,u))}_moves({legal:r=!0,piece:o=void 0,square:a=void 0}={}){var P;const u=a?a.toLowerCase():void 0,d=o==null?void 0:o.toLowerCase(),g=[],p=this._turn,m=Li(p);let x=me.a8,N=me.h1,_=!1;if(u)if(u in me)x=N=me[u],_=!0;else return[];for(let E=x;E<=N;E++){if(E&136){E+=7;continue}if(!this._board[E]||this._board[E].color===m)continue;const{type:k}=this._board[E];let L;if(k===Ze){if(d&&d!==k)continue;L=E+sa[p][0],this._board[L]||(In(g,p,E,L,Ze),L=E+sa[p][1],km[p]===ar(E)&&!this._board[L]&&In(g,p,E,L,Ze,void 0,ye.BIG_PAWN));for(let M=2;M<4;M++)L=E+sa[p][M],!(L&136)&&(((P=this._board[L])==null?void 0:P.color)===m?In(g,p,E,L,Ze,this._board[L].type,ye.CAPTURE):L===this._epSquare&&In(g,p,E,L,Ze,Ze,ye.EP_CAPTURE))}else{if(d&&d!==k)continue;for(let M=0,R=Id[k].length;M<R;M++){const I=Id[k][M];for(L=E;L+=I,!(L&136);){if(!this._board[L])In(g,p,E,L,k);else{if(this._board[L].color===p)break;In(g,p,E,L,k,this._board[L].type,ye.CAPTURE);break}if(k===va||k===Ke)break}}}}if((d===void 0||d===Ke)&&(!_||N===this._kings[p])){if(this._castling[p]&ye.KSIDE_CASTLE){const E=this._kings[p],k=E+2;!this._board[E+1]&&!this._board[k]&&!this._attacked(m,this._kings[p])&&!this._attacked(m,E+1)&&!this._attacked(m,k)&&In(g,p,this._kings[p],k,Ke,void 0,ye.KSIDE_CASTLE)}if(this._castling[p]&ye.QSIDE_CASTLE){const E=this._kings[p],k=E-2;!this._board[E-1]&&!this._board[E-2]&&!this._board[E-3]&&!this._attacked(m,this._kings[p])&&!this._attacked(m,E-1)&&!this._attacked(m,k)&&In(g,p,this._kings[p],k,Ke,void 0,ye.QSIDE_CASTLE)}}if(!r||this._kings[p]===-1)return g;const w=[];for(let E=0,k=g.length;E<k;E++)this._makeMove(g[E]),this._isKingAttacked(p)||w.push(g[E]),this._undoMove();return w}move(r,{strict:o=!1}={}){let a=null;if(typeof r=="string")a=this._moveFromSan(r,o);else if(typeof r=="object"){const d=this._moves();for(let g=0,p=d.length;g<p;g++)if(r.from===lt(d[g].from)&&r.to===lt(d[g].to)&&(!("promotion"in d[g])||r.promotion===d[g].promotion)){a=d[g];break}}if(!a)throw typeof r=="string"?new Error(`Invalid move: ${r}`):new Error(`Invalid move: ${JSON.stringify(r)}`);const u=new ts(this,a);return this._makeMove(a),this._incPositionCount(u.after),u}_push(r){this._history.push({move:r,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_makeMove(r){const o=this._turn,a=Li(o);if(this._push(r),this._board[r.to]=this._board[r.from],delete this._board[r.from],r.flags&ye.EP_CAPTURE&&(this._turn===Lt?delete this._board[r.to-16]:delete this._board[r.to+16]),r.promotion&&(this._board[r.to]={type:r.promotion,color:o}),this._board[r.to].type===Ke){if(this._kings[o]=r.to,r.flags&ye.KSIDE_CASTLE){const u=r.to-1,d=r.to+1;this._board[u]=this._board[d],delete this._board[d]}else if(r.flags&ye.QSIDE_CASTLE){const u=r.to+1,d=r.to-2;this._board[u]=this._board[d],delete this._board[d]}this._castling[o]=0}if(this._castling[o]){for(let u=0,d=Mn[o].length;u<d;u++)if(r.from===Mn[o][u].square&&this._castling[o]&Mn[o][u].flag){this._castling[o]^=Mn[o][u].flag;break}}if(this._castling[a]){for(let u=0,d=Mn[a].length;u<d;u++)if(r.to===Mn[a][u].square&&this._castling[a]&Mn[a][u].flag){this._castling[a]^=Mn[a][u].flag;break}}r.flags&ye.BIG_PAWN?o===Lt?this._epSquare=r.to-16:this._epSquare=r.to+16:this._epSquare=yt,r.piece===Ze?this._halfMoves=0:r.flags&(ye.CAPTURE|ye.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,o===Lt&&this._moveNumber++,this._turn=a}undo(){const r=this._undoMove();if(r){const o=new ts(this,r);return this._decPositionCount(o.after),o}return null}_undoMove(){const r=this._history.pop();if(r===void 0)return null;const o=r.move;this._kings=r.kings,this._turn=r.turn,this._castling=r.castling,this._epSquare=r.epSquare,this._halfMoves=r.halfMoves,this._moveNumber=r.moveNumber;const a=this._turn,u=Li(a);if(this._board[o.from]=this._board[o.to],this._board[o.from].type=o.piece,delete this._board[o.to],o.captured)if(o.flags&ye.EP_CAPTURE){let d;a===Lt?d=o.to-16:d=o.to+16,this._board[d]={type:Ze,color:u}}else this._board[o.to]={type:o.captured,color:u};if(o.flags&(ye.KSIDE_CASTLE|ye.QSIDE_CASTLE)){let d,g;o.flags&ye.KSIDE_CASTLE?(d=o.to+1,g=o.to-1):(d=o.to-2,g=o.to+1),this._board[d]=this._board[g],delete this._board[g]}return o}pgn({newline:r=`
`,maxWidth:o=0}={}){const a=[];let u=!1;for(const w in this._header)a.push("["+w+' "'+this._header[w]+'"]'+r),u=!0;u&&this._history.length&&a.push(r);const d=w=>{const P=this._comments[this.fen()];if(typeof P<"u"){const E=w.length>0?" ":"";w=`${w}${E}{${P}}`}return w},g=[];for(;this._history.length>0;)g.push(this._undoMove());const p=[];let m="";for(g.length===0&&p.push(d(""));g.length>0;){m=d(m);const w=g.pop();if(!w)break;if(!this._history.length&&w.color==="b"){const P=`${this._moveNumber}. ...`;m=m?`${m} ${P}`:P}else w.color==="w"&&(m.length&&p.push(m),m=this._moveNumber+".");m=m+" "+this._moveToSan(w,this._moves({legal:!0})),this._makeMove(w)}if(m.length&&p.push(d(m)),typeof this._header.Result<"u"&&p.push(this._header.Result),o===0)return a.join("")+p.join(" ");const x=function(){return a.length>0&&a[a.length-1]===" "?(a.pop(),!0):!1},N=function(w,P){for(const E of P.split(" "))if(E){if(w+E.length>o){for(;x();)w--;a.push(r),w=0}a.push(E),w+=E.length,a.push(" "),w++}return x()&&w--,w};let _=0;for(let w=0;w<p.length;w++){if(_+p[w].length>o&&p[w].includes("{")){_=N(_,p[w]);continue}_+p[w].length>o&&w!==0?(a[a.length-1]===" "&&a.pop(),a.push(r),_=0):w!==0&&(a.push(" "),_++),a.push(p[w]),_+=p[w].length}return a.join("")}header(...r){for(let o=0;o<r.length;o+=2)typeof r[o]=="string"&&typeof r[o+1]=="string"&&(this._header[r[o]]=r[o+1]);return this._header}setHeader(r,o){return this._header[r]=o,this._header}removeHeader(r){return r in this._header?(delete this._header[r],!0):!1}getHeaders(){return this._header}loadPgn(r,{strict:o=!1,newlineChar:a=`\r?
`}={}){function u(I){return I.replace(/\\/g,"\\")}function d(I){const Q={},te=I.split(new RegExp(u(a)));let ne="",se="";for(let ke=0;ke<te.length;ke++){const V=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;ne=te[ke].replace(V,"$1"),se=te[ke].replace(V,"$2"),ne.trim().length>0&&(Q[ne]=se)}return Q}r=r.trim();const p=new RegExp("^(\\[((?:"+u(a)+")|.)*\\])((?:\\s*"+u(a)+"){2}|(?:\\s*"+u(a)+")*$)").exec(r),m=p&&p.length>=2?p[1]:"";this.reset();const x=d(m);let N="";for(const I in x)I.toLowerCase()==="fen"&&(N=x[I]),this.header(I,x[I]);if(!o)N&&this.load(N,{preserveHeaders:!0});else if(x.SetUp==="1"){if(!("FEN"in x))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(x.FEN,{preserveHeaders:!0})}function _(I){return Array.from(I).map(function(Q){return Q.charCodeAt(0)<128?Q.charCodeAt(0).toString(16):encodeURIComponent(Q).replace(/%/g,"").toLowerCase()}).join("")}function w(I){return I.length==0?"":decodeURIComponent("%"+(I.match(/.{1,2}/g)||[]).join("%"))}const P=function(I){return I=I.replace(new RegExp(u(a),"g")," "),`{${_(I.slice(1,I.length-1))}}`},E=function(I){if(I.startsWith("{")&&I.endsWith("}"))return w(I.slice(1,I.length-1))};let k=r.replace(m,"").replace(new RegExp(`({[^}]*})+?|;([^${u(a)}]*)`,"g"),function(I,Q,te){return Q!==void 0?P(Q):" "+P(`{${te.slice(1)}}`)}).replace(new RegExp(u(a),"g")," ");const L=/(\([^()]+\))+?/g;for(;L.test(k);)k=k.replace(L,"");k=k.replace(/\d+\.(\.\.)?/g,""),k=k.replace(/\.\.\./g,""),k=k.replace(/\$\d+/g,"");let M=k.trim().split(new RegExp(/\s+/));M=M.filter(I=>I!=="");let R="";for(let I=0;I<M.length;I++){const Q=E(M[I]);if(Q!==void 0){this._comments[this.fen()]=Q;continue}const te=this._moveFromSan(M[I],o);if(te==null)if(Cm.indexOf(M[I])>-1)R=M[I];else throw new Error(`Invalid move in PGN: ${M[I]}`);else R="",this._makeMove(te),this._incPositionCount(this.fen())}R&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",R)}_moveToSan(r,o){let a="";if(r.flags&ye.KSIDE_CASTLE)a="O-O";else if(r.flags&ye.QSIDE_CASTLE)a="O-O-O";else{if(r.piece!==Ze){const u=_m(r,o);a+=r.piece.toUpperCase()+u}r.flags&(ye.CAPTURE|ye.EP_CAPTURE)&&(r.piece===Ze&&(a+=lt(r.from)[0]),a+="x"),a+=lt(r.to),r.promotion&&(a+="="+r.promotion.toUpperCase())}return this._makeMove(r),this.isCheck()&&(this.isCheckmate()?a+="#":a+="+"),this._undoMove(),a}_moveFromSan(r,o=!1){const a=la(r);let u=Rd(a),d=this._moves({legal:!0,piece:u});for(let w=0,P=d.length;w<P;w++)if(a===la(this._moveToSan(d[w],d)))return d[w];if(o)return null;let g,p,m,x,N,_=!1;if(p=a.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),p?(g=p[1],m=p[2],x=p[3],N=p[4],m.length==1&&(_=!0)):(p=a.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),p&&(g=p[1],m=p[2],x=p[3],N=p[4],m.length==1&&(_=!0))),u=Rd(a),d=this._moves({legal:!0,piece:g||u}),!x)return null;for(let w=0,P=d.length;w<P;w++)if(m){if((!g||g.toLowerCase()==d[w].piece)&&me[m]==d[w].from&&me[x]==d[w].to&&(!N||N.toLowerCase()==d[w].promotion))return d[w];if(_){const E=lt(d[w].from);if((!g||g.toLowerCase()==d[w].piece)&&me[x]==d[w].to&&(m==E[0]||m==E[1])&&(!N||N.toLowerCase()==d[w].promotion))return d[w]}}else if(a===la(this._moveToSan(d[w],d)).replace("x",""))return d[w];return null}ascii(){let r=`   +------------------------+
`;for(let o=me.a8;o<=me.h1;o++){if(Fi(o)===0&&(r+=" "+"87654321"[ar(o)]+" |"),this._board[o]){const a=this._board[o].type,d=this._board[o].color===st?a.toUpperCase():a.toLowerCase();r+=" "+d+" "}else r+=" . ";o+1&136&&(r+=`|
`,o+=8)}return r+=`   +------------------------+
`,r+="     a  b  c  d  e  f  g  h",r}perft(r){const o=this._moves({legal:!1});let a=0;const u=this._turn;for(let d=0,g=o.length;d<g;d++)this._makeMove(o[d]),this._isKingAttacked(u)||(r-1>0?a+=this.perft(r-1):a++),this._undoMove();return a}turn(){return this._turn}board(){const r=[];let o=[];for(let a=me.a8;a<=me.h1;a++)this._board[a]==null?o.push(null):o.push({square:lt(a),type:this._board[a].type,color:this._board[a].color}),a+1&136&&(r.push(o),o=[],a+=8);return r}squareColor(r){if(r in me){const o=me[r];return(ar(o)+Fi(o))%2===0?"light":"dark"}return null}history({verbose:r=!1}={}){const o=[],a=[];for(;this._history.length>0;)o.push(this._undoMove());for(;;){const u=o.pop();if(!u)break;r?a.push(new ts(this,u)):a.push(this._moveToSan(u,this._moves())),this._makeMove(u)}return a}_getPositionCount(r){const o=aa(r);return this._positionCount[o]||0}_incPositionCount(r){const o=aa(r);this._positionCount[o]===void 0&&(this._positionCount[o]=0),this._positionCount[o]+=1}_decPositionCount(r){const o=aa(r);this._positionCount[o]===1?delete this._positionCount[o]:this._positionCount[o]-=1}_pruneComments(){const r=[],o={},a=u=>{u in this._comments&&(o[u]=this._comments[u])};for(;this._history.length>0;)r.push(this._undoMove());for(a(this.fen());;){const u=r.pop();if(!u)break;this._makeMove(u),a(this.fen())}this._comments=o}getComment(){return this._comments[this.fen()]}setComment(r){this._comments[this.fen()]=r.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const r=this._comments[this.fen()];return delete this._comments[this.fen()],r}getComments(){return this._pruneComments(),Object.keys(this._comments).map(r=>({fen:r,comment:this._comments[r]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(r=>{const o=this._comments[r];return delete this._comments[r],{fen:r,comment:o}})}setCastlingRights(r,o){for(const u of[Ke,bn])o[u]!==void 0&&(o[u]?this._castling[r]|=ns[u]:this._castling[r]&=~ns[u]);this._updateCastlingRights();const a=this.getCastlingRights(r);return(o[Ke]===void 0||o[Ke]===a[Ke])&&(o[bn]===void 0||o[bn]===a[bn])}getCastlingRights(r){return{[Ke]:(this._castling[r]&ns[Ke])!==0,[bn]:(this._castling[r]&ns[bn])!==0}}moveNumber(){return this._moveNumber}}const ua={APP_NAME:"Enpassant",VERSION:"1.0.0",API:{GEMINI_URL:"",STOCKFISH_URL:"",AUDIO_URL:""},ANALYSIS:{preferLocalEngine:!0,defaultDepth:18,deepAnalysisDepth:22,analysisDelay:0},SPEECH:{defaultRate:1,defaultAutoSpeak:!1},defaultPlayerLevel:"advanced"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cf=(...s)=>s.filter((r,o,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===o).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=T.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:u="",children:d,iconNode:g,...p},m)=>T.createElement("svg",{ref:m,...Dm,width:r,height:r,stroke:s,strokeWidth:a?Number(o)*24/Number(r):o,className:cf("lucide",u),...p},[...g.map(([x,N])=>T.createElement(x,N)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(s,r)=>{const o=T.forwardRef(({className:a,...u},d)=>T.createElement(Tm,{ref:d,iconNode:r,className:cf(`lucide-${Om(s)}`,a),...u}));return o.displayName=`${s}`,o};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],jm=at("Bot",Nm);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Lm=at("Brain",Pm);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Im=at("CircleAlert",Mm);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Rm=at("CirclePlus",bm);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],zm=at("Cpu",Am);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],$m=at("MicOff",Fm);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Hm=at("Mic",Um);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Wm=at("Play",Bm);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Qm=at("PowerOff",Vm);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Km=at("RefreshCw",qm);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ym=at("RotateCcw",Gm);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Zm=at("Settings2",Xm);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],e1=at("SquarePen",Jm);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],n1=at("TriangleAlert",t1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],i1=at("Volume2",r1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],s1=at("Zap",o1),l1=({fen:s,onSelectMove:r,onEvaluationChange:o,onBestMovesChange:a,onAnalyzingChange:u})=>{const[d,g]=T.useState("0.0"),[p,m]=T.useState([]),[x,N]=T.useState(""),[_,w]=T.useState(!1),[P,E]=T.useState(!1),[k,L]=T.useState(null),[M,R]=T.useState(!0),[I,Q]=T.useState(ua.ANALYSIS.defaultDepth),[te,ne]=T.useState(16),[se,ke]=T.useState(!1),[V,ue]=T.useState(null),[re,ae]=T.useState(null),ee=T.useRef(new Ai),pe=T.useRef(null),_e=T.useRef(s),Ce=T.useRef(M),ge=T.useRef(I),B=T.useRef(se),J=T.useRef(te),$=T.useRef(null);T.useEffect(()=>{a&&a(p)},[p,a]),T.useEffect(()=>{u&&u(_)},[_,u]),T.useEffect(()=>()=>{hm(),sr(),pe.current&&clearTimeout(pe.current)},[]);const C=T.useCallback((H,Z)=>{if(!H||H.length<4)return H;try{ee.current.load(Z);const W=ee.current.move(H,{sloppy:!0});return W?W.san:H}catch{return H}},[]),b=T.useCallback(async(H,Z)=>{var le;if(!H){w(!1),$.current=null,o&&o("0.0");return}sr(),await new Promise(fe=>setTimeout(fe,50)),$.current={fen:H,...Z},w(!0),L(null),m([]),o&&o("..."),g("...");const W=new Ai(H);if(W.isCheckmate()||W.isDraw()||W.isStalemate()){const fe=W.isCheckmate()?`Checkmate: ${W.turn()==="w"?"Black":"White"} wins`:"Draw";o&&o(fe),g(fe),m([{uci:"GAME_END",san:fe,depth:0}]),w(!1),$.current=null;return}Be(`[AnalysisPanel] handleAnalyze: Starting analysis for FEN: ${H}, Params: ${JSON.stringify(Z)}`);try{const fe=Se=>{if(!$.current||$.current.fen!==H){Be("[AnalysisPanel] analysisUpdateHandler: Stale update for different FEN. Ignoring.");return}const we=Se.evaluation||"0.0";if(Be(`[AnalysisPanel] analysisUpdateHandler received eval: ${we}, depth: ${Se.depth}`),o&&o(we),g(we),Se.bestMoves&&Se.bestMoves.length>0){const We=Se.bestMoves.map(ut=>({...ut,san:C(ut.uci,H),depth:ut.depth||Se.depth||0,source:Se.source||"local"}));m(We)}Se.completed&&(Be(`[AnalysisPanel] handleAnalyze: 'bestmove' (completed) received for FEN: ${H}. Infinite: ${Z.useInfinite}`),Z.useInfinite||(w(!1),$.current=null))};await fm(H,Z.useInfinite?"infinite":Z.depth,{hash:Z.hashSize},fe),!Z.useInfinite&&((le=$.current)==null?void 0:le.fen)===H&&_&&(Be("[AnalysisPanel] handleAnalyze: Finite search promise resolved, ensuring isStockfishAnalyzing is false."),w(!1),$.current=null)}catch(fe){L(`Analysis error: ${fe.message}`),w(!1),$.current=null,o&&o("Error"),g("Error")}},[C,o]);T.useEffect(()=>{const H={depth:I,useInfinite:se,hashSize:te},Z=s!==_e.current,W=M&&!Ce.current,le=!M&&Ce.current,fe=I!==ge.current||se!==B.current||te!==J.current;pe.current&&clearTimeout(pe.current);let Se=!1,we=!1;return s?Z||fe?(Se=!0,M&&(we=!0)):W?(!_||!$.current||$.current.fen!==s||$.current.depth!==H.depth||$.current.useInfinite!==H.useInfinite||$.current.hashSize!==H.hashSize||!_)&&(Se=!0,we=!0):le&&(Se=!0):(Se=!0,_&&w(!1),$.current=null),Se&&_?(sr(),we||(w(!1),$.current=null)):Se&&!_&&le&&($.current=null),we&&s&&M&&(Be(`[AnalysisPanel] useEffect: Queueing new analysis for FEN: ${s} with params: ${JSON.stringify(H)}`),pe.current=setTimeout(()=>{M&&s&&(!$.current||$.current.fen!==s||$.current.depth!==H.depth||$.current.useInfinite!==H.useInfinite||$.current.hashSize!==H.hashSize||!_)?b(s,H):M&&s&&$.current},ua.ANALYSIS.analysisDelay)),_e.current=s,Ce.current=M,ge.current=I,B.current=se,J.current=te,()=>{pe.current&&clearTimeout(pe.current)}},[s,M,I,se,te,b]);const de=async(H=!1)=>{if(!s||P)return;const Z=d;if(p.length===0&&!Z.includes("Checkmate")&&!Z.includes("Draw")){L("Please analyze the position with Stockfish first to provide context for AI explanation.");return}E(!0),L(null),N(""),ae(null);try{Be(`Requesting Gemini explanation with ${H?"Deep Think":"standard"} mode. Evaluation being sent: ${Z}`);const W=performance.now(),le=new Ai(s),fe=le.isCheckmate(),Se=fe||le.isDraw(),we=await af(s,Z,p,ua.defaultPlayerLevel,Se,fe,null,H),We=((performance.now()-W)/1e3).toFixed(2);if(Be(`Gemini response received in ${We}s (client-side measurement)`),we&&we.explanation){N(we.explanation);const ut=we.responseTime||We;ae(ut),(we.model||we.deepThinkMode!==void 0)&&ue({model:we.model||(we.deepThinkMode?"gemini-pro":"gemini-flash"),deepThinkMode:we.deepThinkMode===!0})}else throw new Error(we.error||"Empty or invalid response from AI service")}catch(W){const le=W.message.includes("AI analysis service")?W.message:`Failed to get AI explanation: ${W.message}.`;L(le),N(`Unable to generate AI analysis. ${le}`)}finally{E(!1)}},he=()=>{_?(sr(),w(!1),$.current=null):(M&&R(!1),b(s,{depth:I,useInfinite:se,hashSize:te}))};return h.jsxs("div",{className:"bg-white rounded-xl shadow-md ring-1 ring-gray-200/50 p-4 md:p-6 transition-all duration-300 hover:shadow-lg",children:[h.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[h.jsx(jm,{size:24,className:"mr-2 text-blue-600"}),"Position Analysis"]}),h.jsx("div",{className:"analysis-settings mb-4 p-3 bg-gray-50 rounded-md shadow-sm",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-3 items-center",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"depth",className:"block text-sm font-medium text-gray-700 mb-1",children:["Depth (",se?"Infinite":I,")"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"range",id:"depth",min:"1",max:"40",value:I,onChange:H=>{Q(Number(H.target.value)),se&&ke(!1)},disabled:se,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer mr-2 accent-blue-600 disabled:opacity-50"}),h.jsx("input",{type:"checkbox",id:"infiniteDepth",checked:se,onChange:H=>ke(H.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),h.jsx("label",{htmlFor:"infiniteDepth",className:"ml-2 text-sm text-gray-700",children:"Infinite"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"hashSize",className:"block text-sm font-medium text-gray-700 mb-1",children:"Hash (MB)"}),h.jsx("input",{type:"number",id:"hashSize",min:"16",max:"1024",step:"16",value:te,onChange:H=>ne(Number(H.target.value)),className:"w-full py-1 px-2 text-sm rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),h.jsxs("div",{className:"flex items-center justify-between md:col-span-2",children:[" ",h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",id:"autoAnalyze",checked:M,onChange:H=>R(H.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mr-2"}),h.jsx("label",{htmlFor:"autoAnalyze",className:"text-sm text-gray-700",children:"Auto-analyze"})]}),h.jsxs("button",{onClick:he,disabled:!s,className:`py-1.5 px-3 rounded-md shadow-sm transition-all duration-200 flex items-center text-sm ${s?_?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:_?"Stop Analysis":"Start Analysis",children:[_?h.jsx(Qm,{size:16,className:"mr-1.5"}):h.jsx(Wm,{size:16,className:"mr-1.5"}),_?"Stop":"Analyze"]})]})]})}),h.jsxs("div",{className:"suggested-moves mb-4",children:[h.jsxs("h4",{className:"text-md font-medium text-gray-700 mb-2 flex items-center",children:[h.jsx(zm,{size:20,className:"mr-2 text-gray-600"}),"Stockfish Analysis"]}),_&&p.length===0&&h.jsxs("div",{className:"p-3 bg-gray-50 text-center rounded-md shadow-sm",children:[h.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-blue-500 rounded-full border-t-transparent mx-auto mb-1"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Initializing analysis..."})]}),p.length>0?h.jsx("div",{className:"space-y-2",children:p.filter(H=>H.san||H.uci).slice(0,5).map((H,Z)=>h.jsxs("button",{onClick:()=>r&&r(H),className:"w-full text-left px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-100 transition-colors duration-150 flex justify-between items-center",title:`PV: ${H.pv||H.uci}`,children:[h.jsxs("div",{children:[h.jsxs("span",{className:"text-sm font-semibold text-blue-700",children:[Z+1,". ",H.san||H.uci]}),h.jsxs("span",{className:"text-xs text-gray-500 ml-2 truncate block sm:inline",children:["(Depth: ",H.depth||"N/A",")"]})]}),h.jsx("span",{className:`text-sm font-medium ${parseFloat(H.evaluation)>0?"text-green-600":parseFloat(H.evaluation)<0?"text-red-600":"text-gray-700"}`,children:H.evaluation})]},Z))}):!_&&h.jsx("div",{className:"p-3 bg-gray-50 text-center rounded-md shadow-sm",children:h.jsxs("p",{className:"text-sm text-gray-500 italic",children:["No analysis data. ",M?"Waiting for move or change settings...":"Click 'Analyze'."]})})]}),h.jsxs("div",{className:"ai-explanation",children:[h.jsxs("h4",{className:"text-md font-medium text-gray-700 mb-2 flex items-center",children:[h.jsx(Lm,{size:20,className:"mr-2 text-purple-600"}),"AI Coach Explanation"]}),h.jsxs("div",{className:"controls flex flex-col sm:flex-row gap-2 mb-3",children:[h.jsxs("button",{onClick:()=>de(!1),disabled:P||!s||p.length===0&&!d.includes("Checkmate")&&!d.includes("Draw"),className:`w-full sm:w-auto flex-1 py-2 px-3 rounded-md font-medium text-white transition-all duration-200 shadow-sm flex items-center justify-center ${P||!s||p.length===0&&!d.includes("Checkmate")&&!d.includes("Draw")?"bg-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700 focus:ring-2 focus:ring-purple-500 focus:ring-offset-1"}`,children:[h.jsx(Zm,{size:16,className:"mr-2"}),P?"Thinking...":"Explain (Flash)"]}),h.jsxs("button",{onClick:()=>de(!0),disabled:P||!s||p.length===0&&!d.includes("Checkmate")&&!d.includes("Draw"),className:`w-full sm:w-auto flex-1 py-2 px-3 rounded-md font-medium text-white transition-all duration-200 shadow-sm flex items-center justify-center ${P||!s||p.length===0&&!d.includes("Checkmate")&&!d.includes("Draw")?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-1"}`,children:[h.jsx(s1,{size:16,className:"mr-2"})," ",P?"Thinking Deeply...":"Deep Think"]})]}),k&&h.jsxs("div",{className:"text-red-600 bg-red-50 py-2 px-3 rounded-md mb-3 text-sm flex items-center",children:[h.jsx(n1,{size:16,className:"mr-2"}),k]}),h.jsx("div",{className:"explanation-content p-3 bg-gray-50 rounded-md shadow-sm text-sm text-gray-800 whitespace-pre-line min-h-[100px]",children:P?h.jsx("p",{className:"text-gray-500 italic",children:"Generating AI explanation..."}):x?h.jsxs("div",{children:[h.jsx("p",{children:x}),re&&h.jsxs("p",{className:"text-xs text-gray-400 mt-2 text-right",children:["Generated in ",typeof re=="number"?re.toFixed(2):re,"s",V&&h.jsxs("span",{className:"ml-1",children:["using ",V.deepThinkMode?h.jsx("span",{className:"text-indigo-600 font-medium",children:"Gemini Pro"}):h.jsx("span",{children:"Gemini Flash"})]})]})]}):h.jsx("p",{className:"text-gray-500 italic",children:"Analyze with Stockfish, then click for an AI explanation."})})]})]})},Rn=typeof window<"u"?window.speechSynthesis:null,a1=(s,r={})=>new Promise((o,a)=>{if(!Rn){const d=new Error("Speech synthesis not supported in this browser");return r.onError&&r.onError(d),a(d)}Rn.speaking&&(console.log("Cancelling ongoing speech..."),Rn.cancel());const u=new SpeechSynthesisUtterance(s);if(u.pitch=r.pitch||1,u.rate=r.rate||1,u.volume=r.volume||1,r.voice){const g=Rn.getVoices().find(p=>p.name===r.voice);g&&(u.voice=g)}u.onstart=()=>{console.log("Speech started"),r.onStart&&r.onStart()},u.onend=()=>{console.log("Speech completed"),r.onEnd&&r.onEnd(),o()},u.onerror=d=>{console.error("Speech synthesis error:",d.error),r.onError&&r.onError(d),a(d)},Rn.speak(u)}),u1=s=>{if(!s)return"";const r=a=>{let u=a.replace(/\*\*([^*]+)\*\*/g,", $1, ");return u=u.replace(/^\s*\*\s+/gm,". Bullet point: "),u};let o=s.replace(/\+(\d+\.\d+)/g,"plus $1").replace(/-(\d+\.\d+)/g,"minus $1").replace(/([KQNBR]?)x([a-h]\d)/g,"$1 takes $2 ").replace(/([a-h])x([a-h]\d)/g,"$1 takes $2 ").replace(/\+$/g," check").replace(/\#$/g," checkmate").replace(/O-O-O/g,"Queen side castle").replace(/O-O/g,"King side castle").replace(/([a-h])(\d)/g,"$1 $2").replace(/([KQNBR])([a-h])(\d)/g,"$1 to $2 $3").replace(/\bK\b/g,"King").replace(/\bQ\b/g,"Queen").replace(/\bR\b/g,"Rook").replace(/\bB\b/g,"Bishop").replace(/\bN\b/g,"Knight").replace(/\s+K\s+/g," King ").replace(/\s+Q\s+/g," Queen ").replace(/\s+R\s+/g," Rook ").replace(/\s+B\s+/g," Bishop ").replace(/\s+N\s+/g," Knight ").replace(/0\.00/g,"zero point zero zero").replace(/0\.0/g,"zero point zero").replace(/[Mm]ate in (\d+)/g,"Mate in $1 moves").replace(/e\.p\./g,"en passant");return r(o)},c1=()=>{Rn&&Rn.speaking&&Rn.cancel()},Ad=s=>{const r={ay:"a",a:"a",bee:"b",be:"b",b:"b",see:"c",sea:"c",c:"c",dee:"d",de:"d",d:"d",e:"e",ee:"e",f:"f",ef:"f",gee:"g",g:"g",ji:"g",aitch:"h",h:"h"},o={one:"1",1:"1",two:"2",to:"2",2:"2",too:"2",three:"3",3:"3",tree:"3",four:"4",for:"4",4:"4",five:"5",5:"5",six:"6",6:"6",seven:"7",7:"7",eight:"8",8:"8",ate:"8"},a={knight:"N",night:"N",net:"N",bishop:"B",rook:"R",ruck:"R",rock:"R",queen:"Q",king:"K",pawn:""};let u=s.toLowerCase().split(" ").map(d=>r[d]?r[d]:o[d]?o[d]:a[d]!==void 0?a[d]:d).join(" ");return u=u.replace(/move from/gi,"").replace(/move to/gi,"").replace(/captures on/gi,"x").replace(/captures/gi,"x").replace(/takes on/gi,"x").replace(/takes/gi,"x").replace(/to/gi,"").replace(/castle/gi,"O-O").replace(/queen side castle/gi,"O-O-O").replace(/long castle/gi,"O-O-O").replace(/short castle/gi,"O-O").replace(/king side castle/gi,"O-O").replace(/check/gi,"+").replace(/checkmate/gi,"#").replace(/file/gi,""),u},d1=({fen:s,evaluation:r,bestMoves:o})=>{const[a,u]=T.useState([]),[d,g]=T.useState(""),[p,m]=T.useState(!1),[x,N]=T.useState(!1),[_,w]=T.useState(!1),[P,E]=T.useState(""),[k,L]=T.useState(null),M=T.useRef(null),R=T.useRef(null);T.useEffect(()=>{a.length===0&&u([{role:"assistant",content:`Welcome to Chess Coach! You can ask me any questions about chess or the current position. Try asking:
        
 "Why is this move the best?"
 "What should I focus on in this position?"
 "Is e4 a good move here?"
 "How do I improve my pawn structure?"
 "Can you explain the evaluation?"
 "What's the idea behind Queen to d5?"

You can type or use the microphone button to speak your question. For chess notation, you can say moves like:
"Knight to e5" or "e4" or "Queen captures on d7".`}])},[]),T.useEffect(()=>{M.current&&M.current.scrollIntoView({behavior:"smooth"})},[a]);const I=T.useCallback(()=>{if(typeof window>"u"||!window.SpeechRecognition&&!window.webkitSpeechRecognition)return L("Speech recognition is not supported in this browser"),null;const V=window.SpeechRecognition||window.webkitSpeechRecognition,ue=new V;return ue.lang="en-US",ue.continuous=!0,ue.interimResults=!0,ue.maxAlternatives=5,ue.onstart=()=>{w(!0),L("Listening...")},ue.onresult=re=>{for(let ae=re.resultIndex;ae<re.results.length;ae++){const ee=re.results[ae];if(ee.isFinal){const pe=ee[0],_e=pe.transcript,Ce=Ad(_e);g(ge=>ge+Ce+" "),console.log(`Final transcript: "${Ce}" (confidence: ${Math.round(pe.confidence*100)}%)`),E("")}else{let pe="",_e=0;for(let ge=0;ge<ee.length;ge++)ee[ge].confidence>_e&&(pe=ee[ge].transcript,_e=ee[ge].confidence);const Ce=Ad(pe);E(Ce)}}},ue.onerror=re=>{switch(console.error("Speech recognition error:",re.error),re.error){case"no-speech":L("No speech detected. Please try again.");break;case"audio-capture":L("Microphone not available. Check your microphone settings.");break;case"not-allowed":L("Microphone permission denied. Please allow microphone access.");break;case"network":L("Network error. Please check your connection.");break;case"aborted":L("Speech recognition aborted");break;default:L(`Error: ${re.error}`)}},ue.onend=()=>{if(_)try{ue.start(),L("Listening again...")}catch(re){console.error("Error restarting speech recognition:",re),w(!1),L("Failed to restart speech recognition. Click microphone to reset.")}else L("")},ue},[_]);T.useEffect(()=>{const V=I();return V&&(R.current=V),()=>{if(R.current)try{R.current.stop()}catch(ue){console.error("Error stopping speech recognition on unmount:",ue)}}},[I]);const Q=T.useCallback(()=>{if(R.current)try{R.current.stop()}catch(ue){console.error("Error stopping speech recognition:",ue)}w(!1),L("Speech recognition reset. Click microphone to start again."),E("");const V=I();V&&(R.current=V)},[I]),te=async V=>{if(V&&V.preventDefault(),!d.trim())return;const ue=d,re=[...a,{role:"user",content:ue}];u(re),g(""),E(""),u(ae=>[...ae,{role:"assistant",content:"...",isLoading:!0}]);try{const ae=await af(s,r,o,"advanced",!1,!1,ue);u(_e=>_e.filter(Ce=>!Ce.isLoading));const pe={role:"assistant",content:ae.explanation||"I'm sorry, I couldn't analyze this position properly.",responseTime:ae.responseTime};u(_e=>[..._e,pe]),x&&se(pe.content)}catch(ae){console.error("Error getting response:",ae),u(ee=>ee.filter(pe=>!pe.isLoading)),u(ee=>[...ee,{role:"assistant",content:"I'm sorry, I encountered an error while analyzing. Please try again."}])}},ne=()=>{for(let V=a.length-1;V>=0;V--)if(a[V].role==="assistant"&&!a[V].isLoading)return a[V].content;return null},se=async V=>{if(V)try{if(p){c1(),m(!1);return}const ue=u1(V);m(!0),await a1(ue,{rate:1,onStart:()=>m(!0),onEnd:()=>m(!1),onError:re=>{console.error("Speech synthesis error:",re),m(!1)}})}catch(ue){console.error("Failed to speak message:",ue),m(!1)}},ke=T.useCallback(()=>{if(k&&(k.includes("Error")||k.includes("Failed")||k.includes("denied"))){Q();return}if(_){w(!1),L("Recording stopped");try{R.current&&R.current.stop()}catch(V){console.error("Error stopping speech recognition:",V),Q()}}else E(""),L("Starting microphone..."),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}).then(()=>{try{if(!R.current){const V=I();if(V)R.current=V;else throw new Error("Failed to initialize speech recognition")}R.current.start()}catch(V){console.error("Error starting speech recognition:",V),w(!1),L("Error starting speech recognition. Click microphone to reset.")}}).catch(V=>{console.error("Microphone permission error:",V),w(!1),L("Microphone access denied. Please allow microphone access in your browser settings.")}):(console.error("Media devices API not available"),w(!1),L("Speech recognition not supported in this browser. Try using Chrome or Edge."))},[_,k,Q,I]);return T.useEffect(()=>{const V=ue=>{ue.ctrlKey&&ue.code==="Space"&&(ue.preventDefault(),ke())};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[ke]),h.jsxs("div",{className:"bg-white rounded-xl shadow-md ring-1 ring-gray-200/50 p-6 transition-all duration-300 hover:shadow-lg",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Enpassant"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"flex items-center mr-2",children:[h.jsx("input",{type:"checkbox",id:"autoSpeakChat",checked:x,onChange:()=>N(!x),className:"mr-1 h-4 w-4"}),h.jsx("label",{htmlFor:"autoSpeakChat",className:"text-sm text-gray-600",children:"Auto-speak"})]}),h.jsx("button",{onClick:()=>{const V=ne();V&&se(V)},disabled:!ne()||p,className:`flex items-center p-1.5 rounded-md text-white text-sm ${ne()?p?"bg-red-500":"bg-gray-700 hover:bg-gray-800":"bg-gray-300 cursor-not-allowed"}`,title:p?"Stop speaking":"Speak last response",children:h.jsx(i1,{size:16})})]})]}),h.jsx("div",{className:"bg-gray-50 rounded-md p-4 h-64 overflow-y-auto mb-4",children:a.length===0?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsx("p",{className:"text-gray-500 italic",children:"Ask the chess coach about your position..."})}):h.jsxs("div",{className:"space-y-4",children:[a.map((V,ue)=>h.jsx("div",{className:`${V.role==="user"?"bg-gray-200 ml-auto":"bg-blue-100"} rounded-lg p-3 max-w-[80%] ${V.role==="user"?"ml-auto":"mr-auto"}`,children:V.isLoading?h.jsxs("div",{className:"flex space-x-1 justify-center",children:[h.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),h.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),h.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]}):h.jsxs("div",{children:[h.jsx("div",{className:"text-gray-800",children:V.content.split(/\n/).map((re,ae)=>re.trim().startsWith("* ")?h.jsxs("div",{className:"flex items-start mb-1",children:[h.jsx("span",{className:"mr-2 mt-1",children:""}),h.jsx("span",{children:re.trim().substring(2).split(/(\*\*[^*]+\*\*)/).map((ee,pe)=>ee.startsWith("**")&&ee.endsWith("**")?h.jsx("strong",{children:ee.slice(2,-2)},pe):ee)})]},ae):h.jsx("p",{className:ae>0?"mt-2":"",children:re.split(/(\*\*[^*]+\*\*)/).map((ee,pe)=>ee.startsWith("**")&&ee.endsWith("**")?h.jsx("strong",{children:ee.slice(2,-2)},pe):ee)},ae))}),V.responseTime&&h.jsx("p",{className:"text-xs text-gray-500 mt-1 text-right",children:typeof V.responseTime=="number"?`${V.responseTime.toFixed(2)}s`:`${V.responseTime}s`})]})},ue)),h.jsx("div",{ref:M})]})}),P&&h.jsx("div",{className:"mb-2 p-2 bg-gray-100 text-gray-900 rounded-md italic",children:P}),k&&h.jsxs("div",{className:"mb-2 text-sm flex items-center gap-1",style:{color:_?"#3b82f6":k.includes("Error")||k.includes("denied")?"#ef4444":"#6b7280"},children:[_&&h.jsxs("div",{className:"flex space-x-1 mr-1",children:[h.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),h.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),h.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]}),k.includes("Error")&&h.jsx(Im,{size:14}),h.jsx("span",{children:k})]}),h.jsxs("form",{onSubmit:te,className:"flex gap-2",children:[h.jsx("input",{type:"text",value:d,onChange:V=>g(V.target.value),placeholder:_?"Speak your chess question...":"Ask about your position...",className:"flex-1 px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"}),d&&h.jsx("button",{type:"button",onClick:()=>g(""),className:"absolute right-9 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",style:{marginTop:"24rem"},title:"Clear text",children:h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),h.jsx("button",{type:"button",onClick:ke,className:`p-2 flex items-center justify-center rounded-full shadow-md transition-colors duration-200 ${_?"bg-red-600 text-white animate-pulse hover:bg-red-700":k&&k.includes("reset")?"bg-gray-500 text-white hover:bg-gray-600":"bg-gray-700 hover:bg-gray-800 text-white"}`,title:_?"Stop recording (Ctrl+Space)":"Start recording (Ctrl+Space)",children:_?h.jsx($m,{size:18}):h.jsx(Hm,{size:18})}),h.jsx("button",{type:"submit",disabled:!d.trim(),className:`px-4 py-2 rounded-md font-medium text-white ${d.trim()?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:"Send"})]})]})},f1=({evaluation:s,isAnalyzing:r,orientation:o="white"})=>{const[a,u]=T.useState("0.0"),[d,g]=T.useState(!1);T.useEffect(()=>{s==="..."||s===null?(u("..."),g(!0)):(u(s),g(!1))},[s]);let p=0,m=null,x=!1,N=!0;if(typeof a=="string"){const k=a.toLowerCase().trim();if(k!=="...")if(k.includes("checkmate"))x=!0,N=!k.includes("black");else if(k==="draw")x=!0,p=0;else if(k==="error")x=!0,p=0;else{const L=k.match(/^m(-?\d+)$/i);if(L)m=parseInt(L[1],10),N=m>0;else{const M=parseFloat(k);isNaN(M)||(p=M)}}}else typeof a=="number"&&(p=a);let _="0.0";a==="..."?_="...":m!==null?_=`M${Math.abs(m)}`:x?a.toLowerCase()==="draw"?_="-":a.toLowerCase()==="error"?_="ERR":_=N?"1-0":"0-1":p>0?_=`+${Math.abs(p).toFixed(1)}`:p<0?_=`-${Math.abs(p).toFixed(1)}`:_="0.0";let w=50;if(a==="..."||a.toLowerCase()==="error"||a.toLowerCase()==="draw")w=50;else if(m!==null)w=N?0:100;else if(x)w=N?0:100;else{const k=Math.min(Math.abs(p)*5,100)/2;w=p>=0?50-k:50+k}const P=m!==null||x&&a.toLowerCase()!=="draw"&&a.toLowerCase()!=="error"&&a!=="..."?N?"bg-white/80 text-black":"bg-black/80 text-white":p>0?"bg-white/80 text-black":p<0?"bg-black/80 text-white":a==="..."?"bg-gray-400/80 text-gray-700 animate-pulse":"bg-gray-400/80 text-gray-800",E=o==="white";return h.jsxs("div",{className:"evaluation-bar-container h-[450px] w-6 mr-3 flex flex-col relative rounded-md overflow-hidden shadow-md bg-gray-200",children:[E?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"bg-black",style:{height:`${w}%`,transition:"height 0.2s ease-out"}}),h.jsx("div",{className:"h-[2px] bg-gray-500 absolute left-0 right-0",style:{top:"50%",zIndex:1}}),h.jsx("div",{className:"bg-white",style:{height:`${100-w}%`,transition:"height 0.2s ease-out"}})]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"bg-white",style:{height:`${100-w}%`,transition:"height 0.2s ease-out"}}),h.jsx("div",{className:"h-[2px] bg-gray-500 absolute left-0 right-0",style:{top:"50%",zIndex:1}}),h.jsx("div",{className:"bg-black",style:{height:`${w}%`,transition:"height 0.2s ease-out"}})]}),h.jsxs("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:[h.jsx("div",{className:`text-xs font-bold px-1 py-0.5 rounded-sm shadow-sm ${P} ${r&&!d?"opacity-90":""}`,children:_}),r&&d&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-transparent",children:h.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 rounded-full border-t-transparent"})})]}),r&&!d&&h.jsx("div",{className:"absolute inset-0 animate-pulse pointer-events-none",children:h.jsx("div",{className:"h-full w-full bg-gradient-to-b from-slate-400/20 via-slate-500/5 to-slate-400/20 opacity-60"})}),h.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none z-0"})]})},h1=(s="start")=>{const[r,o]=T.useState(new Ai),[a,u]=T.useState(""),[d,g]=T.useState([]),[p,m]=T.useState(null),x=T.useCallback((E=s)=>{const k=new Ai(E==="start"?void 0:E);o(k),u(k.fen()),g(k.history({verbose:!0})),m(null)},[s]),N=T.useCallback((E,k,L)=>{try{Be("Making move in chess.js:",{from:E,to:k,promotion:L});const M={from:E,to:k};L&&(M.promotion=L.toLowerCase()),Be("Chess move object:",M);const R=r.move(M);return R?(Be("Move successful:",R),u(r.fen()),g(r.history({verbose:!0})),m([E,k]),!0):(Be("Move rejected by chess.js"),!1)}catch{return!1}},[r]),_=T.useCallback(E=>{try{const k=r.move(E);return k?(u(r.fen()),g(r.history({verbose:!0})),m([k.from,k.to]),!0):!1}catch{return!1}},[r]),w=T.useCallback(()=>{if(r.undo()){u(r.fen());const k=r.history({verbose:!0});return g(k),m(k.length>0?[k[k.length-1].from,k[k.length-1].to]:null),!0}return!1},[r]),P=T.useCallback(E=>r.moves({square:E,verbose:!0}).map(L=>L.to),[r]);return T.useEffect(()=>{x()},[x]),{chess:r,fen:a,history:d,lastMove:p,makeMove:N,playMove:_,undoMove:w,initGame:x,getLegalMoves:P,isCheck:r.isCheck(),isCheckmate:r.isCheckmate(),isDraw:r.isDraw(),turn:r.turn()}},p1=({show:s,fenInput:r,setFenInput:o,handleSetFen:a,handleCancel:u})=>s?h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:h.jsxs("div",{className:"bg-white p-6 rounded-md shadow-md w-full max-w-sm",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:"Set FEN"}),h.jsx("input",{type:"text",value:r,onChange:d=>o(d.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 mb-4",placeholder:"Enter FEN string"}),h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded transition duration-200",onClick:a,children:"Set"}),h.jsx("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-800 py-2 px-4 rounded transition duration-200",onClick:u,children:"Cancel"})]})]})}):null,g1=()=>{const{fen:s,history:r,lastMove:o,makeMove:a,undoMove:u,initGame:d,getLegalMoves:g,turn:p}=h1(),[m,x]=T.useState("white"),[N,_]=T.useState("0.0"),[w,P]=T.useState([]),[E,k]=T.useState(!1),[L,M]=T.useState(!1),[R,I]=T.useState(""),Q=T.useCallback((re,ae,ee)=>(sr(),a(re,ae,ee)),[a]),te=T.useCallback(()=>(sr(),u()),[u]),ne=T.useCallback(re=>{sr(),d(re),_("0.0"),P([])},[d]),se=re=>{if(re&&re.uci){const ae=re.uci.substring(0,2),ee=re.uci.substring(2,4),pe=re.uci.length>4?re.uci[4]:void 0;a(ae,ee,pe)}},ke=re=>{console.log("Clicked move in history:",re)},V=()=>{x(re=>re==="white"?"black":"white")},ue=()=>{R.trim()!==""&&(ne(R.trim()),I(""),M(!1))};return h.jsxs("div",{className:"max-w-[1200px] mx-auto p-4 md:p-5 bg-gray-100 rounded-lg shadow-lg relative",children:[h.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-extrabold tracking-tight text-gray-800 border-b-2 border-gray-300 pb-2 mb-4 md:mb-6",children:"Enpassant"}),h.jsxs("div",{className:"mb-2 text-sm md:text-base",children:[h.jsx("span",{className:"font-bold text-gray-700",children:"Current turn:"})," ",p==="w"?"White":"Black"]}),h.jsxs("div",{className:"flex flex-col lg:flex-row flex-wrap gap-4 md:gap-5",children:[h.jsxs("div",{className:"flex-1 min-w-[300px] sm:min-w-[350px] md:min-w-[400px]",children:[h.jsxs("div",{className:"flex items-start space-x-2 md:space-x-3",children:[h.jsx(f1,{evaluation:N,isAnalyzing:E,orientation:m}),h.jsxs("div",{className:"w-full max-w-[400px] md:max-w-[450px] aspect-square",children:[" ",h.jsx(sm,{fen:s,lastMove:o,onMove:Q,orientation:m,getLegalMoves:g})]})]}),h.jsxs("div",{className:"mt-3 md:mt-4",children:[h.jsxs("div",{className:"flex flex-wrap gap-2 mb-3 md:mb-4",children:[h.jsxs("button",{className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-3 rounded-md text-xs sm:text-sm transition duration-200 flex items-center gap-1 sm:gap-2",onClick:()=>ne(),children:[h.jsx(Rm,{size:16})," New Game"]}),h.jsxs("button",{className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-3 rounded-md text-xs sm:text-sm transition duration-200 flex items-center gap-1 sm:gap-2",onClick:te,children:[h.jsx(Ym,{size:16})," Undo"]}),h.jsxs("button",{className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-3 rounded-md text-xs sm:text-sm transition duration-200 flex items-center gap-1 sm:gap-2",onClick:V,children:[h.jsx(Km,{size:16})," Flip"]}),h.jsxs("button",{className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-3 rounded-md text-xs sm:text-sm transition duration-200 flex items-center gap-1 sm:gap-2",onClick:()=>M(!0),children:[h.jsx(e1,{size:16})," Set FEN"]})]}),h.jsxs("div",{className:"w-full max-w-[400px] md:max-w-[510px]",children:[" ",h.jsx(lm,{history:r,onMoveClick:ke})]})]})]}),h.jsxs("div",{className:"flex flex-col gap-4 flex-1 min-w-[300px] lg:max-w-[calc(100%-420px)] xl:max-w-[calc(100%-470px)] bg-white rounded-lg shadow-sm p-3 md:p-4",children:[h.jsx(d1,{fen:s,evaluation:N,bestMoves:w}),h.jsx(l1,{fen:s,onSelectMove:se,onEvaluationChange:_,onBestMovesChange:P,onAnalyzingChange:k})]})]}),h.jsx(p1,{show:L,fenInput:R,setFenInput:I,handleSetFen:ue,handleCancel:()=>{I(""),M(!1)}})]})};function m1(){return h.jsx("div",{className:"App",children:h.jsx(g1,{})})}fp.createRoot(document.getElementById("root")).render(h.jsx(T.StrictMode,{children:h.jsx(m1,{})}));
